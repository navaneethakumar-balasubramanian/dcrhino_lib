<!--<!doctype html>-->
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>Title</title>
    <!-- here go your script declarations and style links -->
    <link rel="stylesheet" type="text/css" href="/3rdparty/css/font.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="/3rdparty/fonts/geotoolkit.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="/3rdparty/css/styles.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="/3rdparty/css/vs.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="/3rdparty/css/bootstrap.4.3.1.min.css" media="screen"/>
    <script src="/js/require.js"></script>
    <script>
        require.config({
                baseUrl: '/js/',
            paths: {
                'axios':'axios',
                'numjs':'numjs',
                'highlight.pack':'highlight.pack',
                'geotoolkit': 'geotoolkit/geotoolkit.adv',
                'geotoolkit.intgeo': "/js/geotoolkit/geotoolkit.intgeo.adv",
                'geotoolkit.legacygauges': "/js/geotoolkit/geotoolkit.legacygauges.adv",
                'geotoolkit.svg': "/js/geotoolkit/geotoolkit.svg.adv",
                'geotoolkit.cgm': "/js/geotoolkit/geotoolkit.cgm.adv",
                'geotoolkit.pdf': "/js/geotoolkit/geotoolkit.pdf.adv",
                'geotoolkit.gridding': "/js/geotoolkit/geotoolkit.gridding.adv",
                'geotoolkit.data': "/js/geotoolkit/geotoolkit.data.adv",
                'geotoolkit.seismic': "/js/geotoolkit/geotoolkit.seismic.adv",
                'geotoolkit.seismic.analysis': "/js/geotoolkit/geotoolkit.seismic.analysis.adv",
                'geotoolkit.seismic.cgmplus': "/js/geotoolkit/geotoolkit.seismic.cgmplus.adv",
                'geotoolkit.welllog': "/js/geotoolkit/geotoolkit.welllog.adv",
                'geotoolkit.seislog': "/js/geotoolkit/geotoolkit.seislog.adv",
                'geotoolkit.welllog.las': "/js/geotoolkit/geotoolkit.welllog.las.adv",
                'geotoolkit.controls': "/js/geotoolkit/geotoolkit.controls.adv",
                'geotoolkit.deviation': "/js/geotoolkit/geotoolkit.deviation.adv",
                'geotoolkit.gauges': "/js/geotoolkit/geotoolkit.gauges.adv",
                'geotoolkit.widgets': "/js/geotoolkit/geotoolkit.widgets.adv",
                'geotoolkit.seismic.widgets': "/js/geotoolkit/geotoolkit.seismic.widgets.adv",
                'geotoolkit.welllog.widgets': "/js/geotoolkit/geotoolkit.welllog.widgets.adv",
                'geotoolkit.welllog.multiwell': "/js/geotoolkit/geotoolkit.welllog.multiwell.adv",
                'geotoolkit.welllog.widgets.ui': "/js/geotoolkit/geotoolkit.welllog.widgets.ui.adv",
                'geotoolkit.flowcharts': "/js/geotoolkit/geotoolkit.flowcharts.adv",
                'geotoolkit.map': "/js/geotoolkit/geotoolkit.map.adv",
                'geotoolkit.report': "/js/geotoolkit/geotoolkit.report.adv",
                'jquery': '/js/jquery',
                'rhino_acq' : '/js/rhino_acq',
                'bootstrap': '/3rdparty/js/bootstrap.4.3.1.min',
                'bootstrap_jquery': '/3rdparty/js/jquery-3.3.1.min',
                'popper': '/3rdparty/js/popper'
            },
            // Browser independent configuration of the dependencies, exports, and custom init
            shim: {
            }
        });
    </script>
    <script>
        function bodyLoadHandler() {
            // Use require to load script.js. The object which the script returns
            // will be passed to your callback function
            require(['rhino_acq', 'jquery','bootstrap','bootstrap_jquery', 'popper'], function(App) {
                // Call initialize function which we created in script.js

                App.initialize();
                $("form#settings_form").submit(function(e){
                e.preventDefault()
                var formData = new FormData($(this)[0]);
                 //append some non-form data also
                 console.log(formData)
                 $.ajax({
                  type: "POST",
                  url: "/save_config",
                  data: formData,
                  processData: false,
                   contentType: false,
                   dataType: "json"
                });
                });
                $.ajax({
                url:"/get_config",
                dataType: "json",
                success: function(data, textStatus, jqXHR) {
                   //process data
                console.log(data)
                populate('#settings_form', data);
                },
                });
            });

        }

        function populate(frm, data) {
     $.each(data, function(key, value){
       $('[name='+key+']', frm).val(value);
     });
    }
    </script>
  </head>
  <!-- Change body tag to the following -->
  <body onload="bodyLoadHandler()">
    <p>
      <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#multiCollapseExample1"
              aria-expanded="false" aria-controls="multiCollapseExample1">Wellsite Data</button>
      <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#multiCollapseExample2"
              aria-expanded="false" aria-controls="multiCollapseExample2">Acquisition Settings</button>
      <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#multiCollapseExample3"
              aria-expanded="false" aria-controls="multiCollapseExample3">Data Transmission Settings</button>
      <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#multiCollapseExample4"
              aria-expanded="false" aria-controls="multiCollapseExample4">Display Settings</button>
      <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#multiCollapseExample5"
              aria-expanded="false" aria-controls="multiCollapseExample5">Pipeline Settings</button>
      <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#multiCollapseExample6"
              aria-expanded="false" aria-controls="multiCollapseExample6">Processing Settings</button>
    </p>
    <div class="row no-gutters">
      <div class="row">
        <div class="collapse multi-collapse" id="multiCollapseExample1">
          <div class="card card-body">
            <form method="post" id="wellsite_data" action="">
              <div class="form-group">
                <label for="country">Country</label>
                <input type="text" class="form-control" id="country" name="country" placeholder="country_placeholder">
              </div>
              <div class="form-group">
                <label for="company">Mining Company</label>
                <input type="text" class="form-control" id="company" name="company" placeholder="company_placeholder">
              </div>
              <div class="form-group">
                <label for="mine_name">Mine Name</label>
                <input type="text" class="form-control" id="mine_name" name="mine_name" placeholder="mine_placeholder">
              </div>
              <div class="form-group">
                <label for="recording_engineer">Datacloud Engineer</label>
                <input type="text" class="form-control" id="recording_engineer"
                       name="recording_engineer" placeholder="engineer_placeholder">
              </div>
              <div class="form-group">
                <button type="submit" class="btn btn-primary">Save</button>
              </div>
            </form>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="collapse multi-collapse" id="multiCollapseExample2">
          <div class="card card-body">
            <form method="post" id="wellsite_data2" action="">
              <div class="form-group">
                <label for="country2">Country2</label>
                <input type="text" class="form-control" id="country2" name="country2"
                       placeholder="country2_placeholder">
              </div>
              <div class="form-group">
                <label for="company2">Mining Company2</label>
                <input type="text" class="form-control" id="company2" name="company2"
                       placeholder="company2_placeholder">
              </div>
              <div class="form-group">
                <label for="mine_name2">Mine Name</label>
                <input type="text" class="form-control" id="mine_name2" name="mine_name2"
                       placeholder="mine2_placeholder">
              </div>
              <div class="form-group">
                <label for="recording_engineer2">Datacloud Engineer</label>
                <input type="text" class="form-control" id="recording_engineer2"
                       name="recording_engineer2" placeholder="engineer2_placeholder">
              </div>
              <div class="form-group">
                <button type="submit" class="btn btn-primary">Save2</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
<!--        <canvas id="canvas" style="width:90%;height:90%;"></canvas>-->
  </body>
</html>