(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2f9f2f02"],{"143a":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"about"},[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[e._v("Processed files from : "+e._s(e.mine_name)+" ")]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":"",loading:e.loading},on:{"click:append":e.searchWeb,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchWeb(t)}},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),e.show_dialog_comparison?e._e():a("v-data-table",{staticClass:"elevation-1",attrs:{pagination:e.pagination,headers:e.headers,items:e.filtered_data,"item-key":"processed_hole_id","select-all":"","hide-actions":""},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"headerCell",fn:function(t){return[t.header.values?e._e():a("span",e._g({attrs:{ripple:""}},e.on),[e._v(e._s(t.header.text))]),t.header.values?a("v-dialog",{attrs:{"max-width":"300px"},scopedSlots:e._u([{key:"activator",fn:function(i){var n=i.on;return[a("span",e._g({attrs:{ripple:""}},n),[e._v(e._s(t.header.text))])]}}],null,!0),model:{value:t.header.dialog,callback:function(a){e.$set(t.header,"dialog",a)},expression:"props.header.dialog"}},[a("v-card",[a("v-card-title",[e._v("Select "+e._s(t.header.text))]),a("v-divider"),a("v-card-text",{staticClass:"pa-0 pm-0",staticStyle:{height:"300px"}},[a("v-list",{staticClass:"pa-0 pm-0"},[a("v-list-tile",{attrs:{ripple:""}},[a("v-list-tile-action",[a("v-checkbox",{on:{change:function(a){return e.togleAllOnList(t.header)}},model:{value:t.header.allChecked,callback:function(a){e.$set(t.header,"allChecked",a)},expression:"props.header.allChecked"}})],1),a("v-list-tile-title",[e._v("Select all")])],1),a("v-divider"),e._l(t.header.values,function(i,n){return a("v-list-tile",{key:n,attrs:{ripple:""}},[a("v-list-tile-action",[a("v-checkbox",{on:{change:function(a){return e.changed_filter(i,t.header)}},model:{value:i.checked,callback:function(t){e.$set(i,"checked",t)},expression:"item.checked"}})],1),a("v-list-tile-content",[a("v-list-tile-title",[e._v(e._s(i.label)+" ")])],1)],1)})],2)],1)],1)],1):e._e()]}},{key:"items",fn:function(t){return[a("td",[a("v-checkbox",{attrs:{primary:"","hide-details":""},model:{value:t.selected,callback:function(a){e.$set(t,"selected",a)},expression:"items.selected"}})],1),a("td",{staticClass:"text-xs-right"},[e._v(e._s(t.item.processed_hole_id))]),a("td",{staticClass:"text-xs-right"},[e._v(e._s(e.moment(t.item.processed_at_ts).format("YYYY-MM-DD hh:mm:ss")))]),a("td",{staticClass:"text-xs-right"},[e._v(e._s(t.item.bench_name))]),a("td",{staticClass:"text-xs-right"},[e._v(e._s(t.item.pattern_name))]),a("td",{staticClass:"text-xs-right"},[e._v(e._s(t.item.hole_name))]),a("td",{staticClass:"text-xs-right"},[e._v(e._s(t.item.hole_id))]),a("td",{staticClass:"text-xs-right"},[e._v(e._s(t.item.rig_id))]),a("td",{staticClass:"text-xs-right"},[e._v(e._s(t.item.sensor_id))]),a("td",{staticClass:"text-xs-right"},[e._v(e._s(t.item.digitizer_id))]),a("td",{staticClass:"text-xs-right"},[e._v(e._s(t.item.flow_id))]),a("td",{staticClass:"text-xs-right"},[1==t.item.to_mp?a("v-icon",{attrs:{color:"green"}},[e._v("radio_button_checked")]):a("v-icon",{attrs:{color:"red"}},[e._v("radio_button_unchecked")])],1),a("td",[a("v-btn",{attrs:{outline:"",icon:"",color:"indigo"},on:{click:function(a){return e.showProcessedHole(t.item.processed_hole_id)}}},[a("v-icon",[e._v("info")])],1)],1)]}}],null,!1,1039701943),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}),a("v-btn",{attrs:{flat:"",color:"light-blue"},on:{click:function(t){return e.compare_selection()}}},[e._v("Compare selection")]),a("v-btn",{attrs:{flat:"",color:"light-blue"},on:{click:function(t){return e.get_zipped_plots()}}},[e._v("Download selection plots")]),a("v-btn",{attrs:{flat:"",color:"light-blue"},on:{click:function(t){return e.get_processed_selection()}}},[a("v-icon",{attrs:{left:"",dark:""}},[e._v("cloud_download")]),e._v("Selection csv")],1),a("HoleCard",{key:e.clicked_processed_hole_id,attrs:{clicked_processed_hole_id:e.clicked_processed_hole_id,mine_name:e.mine_name},model:{value:e.show_dialog,callback:function(t){e.show_dialog=t},expression:"show_dialog"}}),a("ComparisonHoleCard",{attrs:{processed_hole_selection:e.selected,mine_name:e.mine_name},model:{value:e.show_dialog_comparison,callback:function(t){e.show_dialog_comparison=t},expression:"show_dialog_comparison"}}),a("v-snackbar",{attrs:{color:"error",bottom:"",right:"","multi-line":"",timeout:3e3},model:{value:e.warning,callback:function(t){e.warning=t},expression:"warning"}},[e._v(e._s(e.warning_text))])],1)},n=[],s=(a("5df3"),a("4f7f"),a("75fc")),o=(a("386d"),a("ac6a"),a("456d"),a("6762"),a("2fdb"),a("e40b")),l=a("d898"),r=a("bc3a"),c=a.n(r),d={components:{HoleCard:o["a"],ComparisonHoleCard:l["a"]},data:function(){return{notifications:!1,search:null,clicked_processed_hole_id:!1,show_dialog:!1,show_dialog_comparison:!1,selected:[],pagination:{rowsPerPage:-1},warning:null,warning_text:null,headers:[],filtered_data:[]}},created:function(){this.$store.dispatch("GET_PROCESSED",{mine_name:this.mine_name})},props:["mine_name"],methods:{changed_filter:function(){var e=[];for(var t in this.server_data){t=this.server_data[t];var a=!0;for(var i in this.headers)i=this.headers[i],Object.keys(i).includes("values")&&Object.keys(i.values).includes(t[i.value])&&0==i.values[t[i.value]].checked&&(a=!1);a&&e.push(t)}for(var n in this.filtered_data=e,this.headers)n=this.headers[n],n.allChecked=this.allChecked(n.values)},togleAllOnList:function(e){for(var t in e.values)e.values[t].checked=e.allChecked;this.changed_filter()},allChecked:function(e){for(var t in e)if(0==e[t].checked)return!1;return!0},moment:function(e){return window.moment.unix(e)},get_zipped_plots:function(){if(this.selected.length>1){var e={mine_name:this.mine_name,processed_holes:this.selected,responseType:"arraybuffer"};c.a.post("http://localhost:5000/get_zipped_plots",e).then(function(e){window.location.href=e.data.url})}else this.warning=!0,this.warning_text="Select a few holes to download."},compare_selection:function(){if(this.selected.length>1){this.show_dialog_comparison=!0;var e=this.selected.map(function(e){return e.processed_hole_id});this.$store.dispatch("GET_HOLES_INFO",{mine_name:this.mine_name,processed_hole_id:e})}else this.warning=!0,this.warning_text="Select a few holes to compare."},get_processed_selection:function(){if(this.selected.length>1){var e={mine_name:this.mine_name,processed_holes:this.selected,responseType:"arraybuffer"};c.a.post("http://localhost:5000/get_processed_csv",e).then(function(e){var t=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=t,a.setAttribute("download","processed.csv"),document.body.appendChild(a),a.click()})}else this.warning=!0,this.warning_text="Select a few holes to download."},searchWeb:function(){this.$store.dispatch("GET_PROCESSED",{mine_name:this.mine_name,search:this.search})},showProcessedHole:function(e){this.show_dialog=!0,this.clicked_processed_hole_id=e,this.$store.dispatch("GET_HOLE_INFO",{mine_name:this.mine_name,processed_hole_id:e})}},watch:{server_data:function(e,t){function a(e){var t={};for(var a in e)t[e[a]]={label:e[a],checked:!0};return t}var i=e,n=Object(s["a"])(new Set(i.map(function(e){return e.flow_id}))),o=Object(s["a"])(new Set(i.map(function(e){return e.bench_name}))),l=Object(s["a"])(new Set(i.map(function(e){return e.pattern_name}))),r=Object(s["a"])(new Set(i.map(function(e){return e.hole_name}))),c=Object(s["a"])(new Set(i.map(function(e){return e.hole_id}))),d=Object(s["a"])(new Set(i.map(function(e){return e.rig_id}))),h=Object(s["a"])(new Set(i.map(function(e){return e.sensor_id}))),_=Object(s["a"])(new Set(i.map(function(e){return e.digitizer_id})));this.headers=[{text:"Id",value:"processed_hole_id",sortable:!1},{text:"Processed date",value:"date",sortable:!0},{text:"Bench",value:"bench_name",sortable:!1,values:a(o),allChecked:!0},{text:"Pattern",value:"pattern_name",sortable:!1,values:a(l),allChecked:!0},{text:"Hole_name",value:"hole_name",sortable:!1,values:a(r),allChecked:!0},{text:"Hole_id",value:"hole_id",sortable:!1,values:a(c),allChecked:!0},{text:"Rig",value:"rig_id",sortable:!1,values:a(d),allChecked:!0},{text:"Sensor",value:"sensor_id",sortable:!1,values:a(h),allChecked:!0},{text:"Digitizer",value:"digitizer_id",sortable:!1,values:a(_),allChecked:!0},{text:"Flow",value:"flow_id",sortable:!1,values:a(n),allChecked:!0},{text:"MP",value:"to_mp",sortable:!1,values:{1:{label:"True",checked:!0},0:{label:"False",checked:!0}},allChecked:!0},{text:"Actions",sortable:!1}]},headers:function(e,t){this.changed_filter()}},computed:{server_data:function(){return this.$store.state.processed_holes.processed_list},loading:function(){return this.$store.state.processed_holes.loading}}},h=d,_=a("2877"),u=a("6544"),v=a.n(u),p=a("8336"),f=a("b0af"),m=a("99d9"),g=a("12b2"),b=a("ac7c"),x=a("8fea"),k=a("169a"),w=a("ce7e"),C=a("132d"),S=a("8860"),y=a("ba95"),O=a("40fe"),T=a("5d23"),V=a("2db4"),j=a("9910"),E=a("2677"),P=a("71d9"),L=a("2a7f"),$=Object(_["a"])(h,i,n,!1,null,null,null);t["default"]=$.exports;v()($,{VBtn:p["a"],VCard:f["a"],VCardText:m["d"],VCardTitle:g["a"],VCheckbox:b["a"],VDataTable:x["a"],VDialog:k["a"],VDivider:w["a"],VIcon:C["a"],VList:S["a"],VListTile:y["a"],VListTileAction:O["a"],VListTileContent:T["g"],VListTileTitle:T["i"],VSnackbar:V["a"],VSpacer:j["e"],VTextField:E["a"],VToolbar:P["a"],VToolbarTitle:L["d"]})},"2fdb":function(e,t,a){"use strict";var i=a("5ca1"),n=a("d2c8"),s="includes";i(i.P+i.F*a("5147")(s),"String",{includes:function(e){return!!~n(this,e,s).indexOf(e,arguments.length>1?arguments[1]:void 0)}})},"456d":function(e,t,a){var i=a("4bf8"),n=a("0d58");a("5eda")("keys",function(){return function(e){return n(i(e))}})},5147:function(e,t,a){var i=a("2b4c")("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(a){try{return t[i]=!1,!"/./"[e](t)}catch(n){}}return!0}},"5eda":function(e,t,a){var i=a("5ca1"),n=a("8378"),s=a("79e5");e.exports=function(e,t){var a=(n.Object||{})[e]||Object[e],o={};o[e]=t(a),i(i.S+i.F*s(function(){a(1)}),"Object",o)}},6762:function(e,t,a){"use strict";var i=a("5ca1"),n=a("c366")(!0);i(i.P,"Array",{includes:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),a("9c6c")("includes")},aae3:function(e,t,a){var i=a("d3f4"),n=a("2d95"),s=a("2b4c")("match");e.exports=function(e){var t;return i(e)&&(void 0!==(t=e[s])?!!t:"RegExp"==n(e))}},d2c8:function(e,t,a){var i=a("aae3"),n=a("be13");e.exports=function(e,t,a){if(i(t))throw TypeError("String#"+a+" doesn't accept regex!");return String(n(e))}}}]);
//# sourceMappingURL=chunk-2f9f2f02.caf54a71.js.map