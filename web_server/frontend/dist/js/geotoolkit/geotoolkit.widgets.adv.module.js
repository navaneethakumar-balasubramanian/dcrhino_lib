/* tslint:disable */
/* eslint-disable */
/**
 * Copyright: Copyright (c) 2016 by INT, Inc.  All rights reserved.<br>
 * Company: INT, Inc. <br>
 * INT PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.
 */
import {_geo} from './geotoolkit.adv.module.js';
import {controls} from './geotoolkit.controls.adv.module.js';
import {data} from './geotoolkit.data.adv.module.js';
import {pdf} from './geotoolkit.pdf.adv.module.js';

export let widgets = (function (_geo) {var _geo=_geo||{};_geo.c.qa=_geo.c.qa||{};_geo.c.qa.data=_geo.c.qa.data||{};_geo.c.qa.Ab=_geo.c.qa.Ab||{};_geo.c.qa.Ab.Ad=_geo.c.qa.Ab.Ad||{};_geo.c.qa.ia=_geo.c.qa.ia||{};_geo.c.qa.jf=_geo.c.qa.jf||{};_geo.c.qa.Jc=_geo.c.qa.Jc||{};_geo.c.qa.Kd=_geo.c.qa.Kd||{};_geo.c.qa.vg=_geo.c.qa.vg||{};_geo.c.qa.gc=function(){function b(){}b.Uf=function(a,b){var e=Array.isArray(a)?a:[a];e.forEach(function(a){if(null!=a)for(var e in b)b.hasOwnProperty(e)&&(a.style[e]=b[e])})};return b}();_geo.c.qa.vg.aa={Bfb:"ItemChanged"};
_geo.c.qa.vg.k4={qna:"visiblerange",Xea:"scale",sM:"custom"};
_geo.c.qa.vg.PLb=function(){function b(a,b){this.Xja=a;this.options=b;this.direction=[];!0===b.vertical&&this.direction.push(_geo.c.f.Pb.jc);!0===b.horizontal&&this.direction.push(_geo.c.f.Pb.ic);this.EN={}}b.prototype.Mk=function(){return this.direction};b.prototype.xb=function(){return this.options};b.prototype.connect=function(a){if(this.Xja instanceof _geo.c.f.Gd)for(var b in this.EN)this.EN.hasOwnProperty(b)&&this.EN[b].connect(this.options.events,this.Xja,a)};b.prototype.disconnect=function(a){if(this.Xja instanceof
_geo.c.f.Gd)for(var b in this.EN)this.EN.hasOwnProperty(b)&&this.EN[b].disconnect(this.options.events,this.Xja,a)};return b}();
_geo.c.qa.vg.IC=function(){function b(a){this.name=a}b.prototype.getName=function(){return this.name};b.prototype.connect=function(a,b,e){if(b instanceof _geo.c.f.Gd)for(var d=0;d<a.length;++d)b.tb(a[d],e)};b.prototype.disconnect=function(a,b,e){if(b instanceof _geo.c.f.Gd)for(var d=0;d<a.length;++d)b.tb(a[d],e)};b.prototype.getData=function(a,b,e){return(e=e[this.getName()])&&e.getdata?e.getdata.call(a,a,b):null};b.prototype.setData=function(a,b,e,d){return(d=d[this.getName()])&&d.setdata?d.setdata.call(this,
b,a,e):null};return b}();_geo.c.qa.vg.Y9=function(){function b(){_geo.c.qa.vg.IC.call(this,_geo.c.qa.vg.k4.qna)}_geo.c.na(b,_geo.c.qa.vg.IC);b.prototype.getData=function(a,b,e){var d=_geo.c.qa.vg.IC.prototype.getData.call(this,a,b,e);null==d&&"function"===typeof a.Wb&&(a=a.Wb(),null!=a&&(b=b===_geo.c.f.Pb.ic,d=e.orientation===_geo.c.f.Pb.jc?new _geo.c.f.Range(b?a.ua():a.ta(),b?a.ya():a.xa()):new _geo.c.f.Range(b?a.ta():a.ua(),b?a.xa():a.ya())));return d};return b}();
_geo.c.qa.vg.w_=function(){function b(){_geo.c.qa.vg.IC.call(this,_geo.c.qa.vg.k4.Xea)}_geo.c.na(b,_geo.c.qa.vg.IC);b.prototype.getData=function(a,b,e){var d=_geo.c.qa.vg.IC.prototype.getData.call(this,a,b,e);null===d&&"function"===typeof a.kc&&(d=a.kc(),null!=d&&(a=b===_geo.c.f.Pb.ic,e=e.orientation===_geo.c.f.Pb.jc,d=a?new _geo.c.f.Fa(e?d.Rb():d.hc(),0,0,1,e?d.Ti():d.si(),0):new _geo.c.f.Fa(1,0,0,e?d.hc():d.Rb(),0,e?d.si():d.Ti())));return d};return b}();
_geo.c.qa.vg.ffa=function(){function b(){this.EN={};this.VU(new _geo.c.qa.vg.Y9);this.VU(new _geo.c.qa.vg.w_);this.VU(new _geo.c.qa.vg.IC(_geo.c.qa.vg.k4.sM))}function a(a,b){for(;null!=b;){if(a[b])return a[b];b=_geo.c.MYb(b)}return null}var g="*",e=null;b.prototype.VU=function(a,b){if(a){var e=a.getName();void 0===this.EN[e]&&(this.EN[e]={});void 0===b&&(b=g);this.EN[e][b]=a}};b.prototype.dub=function(b,e){var h=this.EN[b];if(h){var l=a(h,e);return l?l:h[g]}return null};b.ib=function(){null==e&&
(e=new b);return e};return b}();
_geo.c.qa.vg.ZZa=function(){function b(a){_geo.c.f.Gd.call(this);this.options=_geo.c.Ja(a,{mode:[_geo.c.qa.vg.k4.qna],registry:null},!0);this.DCc=this.options.registry?this.options.registry:_geo.c.qa.vg.ffa.ib();this.items=[];this.Qqb=this.DDb=!1}_geo.c.na(b,_geo.c.f.Gd);_geo.c.ja(b,"geotoolkit.widgets.sync.ViewSynchronizer");b.prototype.connect=function(a,b){if(a instanceof _geo.c.f.Gd){for(var e=_geo.c.Ja(b,{sender:!0,receiver:!0,vertical:!1,horizontal:!1,events:[_geo.c.V.Node.aa.jK,_geo.c.V.Node.aa.gr],
orientation:_geo.c.f.Pb.jc,typename:"function"===typeof a.getClassName?a.getClassName():""},!0),d=new _geo.c.qa.vg.PLb(a,e),f=this.options.mode,h=0;h<f.length;++h){var l=this.DCc.dub(f[h],e.typename);l&&(d.EN[l.getName()]=l)}this.items.push(d);!0===e.sender&&d.connect(this.Z6b.bind(this))}return this};b.prototype.send=function(a,b){a&&(void 0!==a.vertical&&this.wRb(a.vertical,_geo.c.f.Pb.jc,b),void 0!==a.horizontal&&this.wRb(a.horizontal,_geo.c.f.Pb.ic,b))};b.prototype.wRb=function(a,b,e){if(a){for(var d=
0;d<this.items.length;++d)if(-1!==this.items[d].direction.indexOf(b)){var f=this.items[d].EN[e];f&&f.setData(this.items[d].Xja,a,b,this.items[d].options)}this.Pa(_geo.c.qa.vg.aa.Bfb,this,{data:a,action:e,orientation:b})}};b.prototype.gM=function(a,b){if(this.DDb)return this;this.DDb=!0;var e=this.indexOf(a);if(-1!==e){var e=this.items[e],d=e.EN[b];if(null!=d)for(var f=0;f<e.direction.length;++f){var h=d.getData(e.Xja,e.direction[f],e.options);if(h){for(var l=0;l<this.items.length;++l)if(this.items[l]!==
e&&-1!==this.items[l].direction.indexOf(e.direction[f])){var k=this.items[l].EN[b];k&&k.setData(this.items[l].Xja,h,e.direction[f],this.items[l].options)}this.Pa(_geo.c.qa.vg.aa.Bfb,this,{data:h,action:b,orientation:e.direction[f]})}}}this.DDb=!1;return this};b.prototype.Z6b=function(a,b){if(!this.Qqb){this.Qqb=!0;for(var e=this.options.mode,d=0;d<e.length;++d)this.gM(b,e[d]);this.Qqb=!1}};b.prototype.indexOf=function(a){for(var b=-1,e=0;e<this.items.length;++e)if(this.items[e].Xja===a){b=e;break}return b};
b.prototype.disconnect=function(a){a=this.indexOf(a);-1!==a&&(!0===this.items[a].options.sender&&this.items[a].disconnect(this.Z6b.bind(this)),this.items.splice(a,1))};return b}();
_geo.c.qa.jf.he=function(){function b(){_geo.c.xd.he.call(this);this.lda()}function a(){this.map={};this.G2={};this.Wr("linestyle","geotoolkit.attributes.LineStyle");this.Wr("fillstyle","geotoolkit.attributes.FillStyle");this.Wr("imagepattern","geotoolkit.attributes.ImagePattern");this.Wr("textstyle","geotoolkit.attributes.TextStyle")}function g(a){return"string"==typeof a&&a.match(/^#href\(.*\)$/)?/^#href\((.*)\)$/.exec(a)[1]:null}var e="cg_type",d=null;a.ib=function(){null==d&&(d=new a);return d};
a.prototype.Wr=function(a,b){this.map[a]=b;this.G2[b]=a};a.prototype.V7a=function(){return this.map};a.prototype.ox=function(a){a=null!=a&&"function"==typeof a.getClassName?a.getClassName():null;return null!=a?null!=this.G2[a]?this.G2[a]:a:null};a.prototype.ZOa=function(a){a=null!=this.map[a]?this.map[a]:a;return null!=a?_geo.c.KRa(a):null};var f={save:function(b,d){var f=a.ib().ox(b);null!=f&&d.lc(e,f);f=d.gC(b);null!=f&&d.lc("cg_id",f);var f="function"==typeof b.la?b.la():b,g;for(g in f)if(f.hasOwnProperty(g)&&
"cg_id"!==g&&"undefined"!=typeof f[g]){var h=f[g];if("object"==typeof h&&null!==h){var u=d.gC(h);null==u?d.Zd(g,h):d.lc(g,"#href("+u+")")}else"function"!=typeof h&&d.lc(g,h)}d.Cl()},load:function(b,d){var f=null!=d?d:null;if(null==f){var h=b.Da(e),p=b.VI();null!=h&&(f=null!=p&&a.ib().ox(p)===h?p:a.ib().ZOa(h));null==f&&(f={})}var u="function"===typeof f.ka?{}:f;b.Gv(function(a,b){var d=b.Da(),e=g(d);null==e?u[a]=d:null!=b.pm(e)?u[a]=b.pm(e):b.bM(e,function(b){u[a]=b;"function"===typeof f.ka&&f.ka(u)})});
"function"===typeof f.ka&&f.ka(u);h=b.Da("cg_id");null!=h&&b.ap(h,f);return f}};_geo.c.na(b,_geo.c.xd.he);_geo.c.ja(b,"geotoolkit.widgets.templates.Registry");b.prototype.lda=function(){this.Gp("geotoolkit.widgets.BaseWidget",{save:function(a,b){b.lc("type",a.getClassName());b.Zd("data",a.getData({"no-data":!0}));b.Cl()},load:function(a){var b=a.pm("#widget");b&&(a=a.Da("data"),null!=a&&b.setData(a));return b}});var b=a.ib().V7a(),d;for(d in b)b.hasOwnProperty(d)&&this.Gp(d,f);this.Gp("default",f)};
var h=null;b.Kp=function(){null==h&&(h=new _geo.c.qa.jf.he);return h};return b}();
_geo.c.qa.jf.yXa=function(){function b(){_geo.c.xd.he.call(this);this.lda()}function a(){this.map={};this.G2={};this.Wr("linestyle","geotoolkit.attributes.LineStyle");this.Wr("fillstyle","geotoolkit.attributes.FillStyle");this.Wr("imagepattern","geotoolkit.attributes.ImagePattern");this.Wr("textstyle","geotoolkit.attributes.TextStyle");this.Wr("histogramtickgenerator","geotoolkit.controls.axis.HistogramTickGenerator")}function g(a){return"string"==typeof a&&a.match(/^#href\(.*\)$/)?/^#href\((.*)\)$/.exec(a)[1]:
null}var e="cg_type",d=null;a.ib=function(){null==d&&(d=new a);return d};a.prototype.Wr=function(a,b){this.map[a]=b;this.G2[b]=a};a.prototype.V7a=function(){return this.map};a.prototype.ox=function(a){a=null!=a&&"function"==typeof a.getClassName?a.getClassName():null;return null!=a?null!=this.G2[a]?this.G2[a]:a:null};a.prototype.ZOa=function(a){a=null!=this.map[a]?this.map[a]:a;return null!=a?_geo.c.KRa(a):null};var f={save:function(b,d){var f=a.ib().ox(b);null!=f&&d.lc(e,f);f=d.gC(b);null!=f&&d.lc("cg_id",
f);var f="function"==typeof b.la?b.la():b,g;for(g in f)if(f.hasOwnProperty(g)&&"cg_id"!==g&&"undefined"!=typeof f[g]){var h=f[g];if("object"==typeof h&&null!==h){var u=d.gC(h);null==u?d.Zd(g,h):d.lc(g,"#href("+u+")")}else"function"!=typeof h&&d.lc(g,h)}b instanceof _geo.c.V.Node&&!f.hasOwnProperty("visible")&&d.lc("visible",!0);d.Cl()},load:function(b,d){var f=null!=d?d:null;if(null==f){var h=b.Da(e),p=b.VI();null!=h&&(f=null!=p&&a.ib().ox(p)===h?p:a.ib().ZOa(h));null==f&&(f={})}var u="function"===
typeof f.ka?{}:f;b.Gv(function(a,b){var d=b.Da(),e=g(d);null==e?u[a]=d:null!=b.pm(e)?u[a]=b.pm(e):b.bM(e,function(b){u[a]=b;"function"===typeof f.ka&&f.ka(u)})});"function"===typeof f.ka&&f.ka(u);h=b.Da("cg_id");null!=h&&b.ap(h,f);return f}};_geo.c.na(b,_geo.c.xd.he);_geo.c.ja(b,"geotoolkit.widgets.templates.HistogramRegistry");b.prototype.lda=function(){this.Gp("geotoolkit.widgets.Histogram",{save:function(a,b){for(var d=b.QG("histograms","array"),e=_geo.c.selection.Bc(a.Uc()).Ve('node => id(node) == "hplot_layer"').Tn(),
f,g=0;g<e.cd();++g)f=a.qy(g),d.Zd(g,f);d.Cl();b.Zd("xaxis",a.fo.x.la());b.Zd("xlogaxis",a.fo.xlog.la());b.Zd("yaxis",a.fo.y.la());b.Zd("xgrid",a.Zv.x.la());b.Zd("xloggrid",a.Zv.xlog.la());b.Zd("ygrid",a.Zv.y.la());b.Zd("xlabel",a.ui.x.la());b.Zd("ylabel",a.ui.y.la());b.Zd("header",a.Tba());b.Cl()},load:function(a){var b=a.pm("#widget");b&&(_geo.c.selection.Bc(b.Uc()).Ve('node => id(node) == "hplot_layer"').Tn().Gh(),a.Gv(function(a,b){"histograms"===a&&b.Gv(function(a,b){b.Bd("geotoolkit.controls.shapes.Histogram")})}),
b.fo.x.ka(a.Da("xaxis")),b.fo.xlog.ka(a.Da("xlogaxis")),b.fo.y.ka(a.Da("yaxis")),b.Zv.x.ka(a.Da("xgrid")),b.Zv.xlog.ka(a.Da("xloggrid")),b.Zv.y.ka(a.Da("ygrid")),b.ui.x.ka(a.Da("xlabel")),b.ui.y.ka(a.Da("ylabel")),b.yda(a.Da("header")),b.bab());return b}});this.Gp("geotoolkit.controls.shapes.Histogram",{save:function(a,b){var d=a;b.lc("name",d.getName());b.lc("id",d.zd());b.lc("accumulatedmode",d.qia());b.lc("histogrammode",d.dtb());b.lc("autogradient",d.uia());b.lc("binspacing",d.S6a());b.lc("verticalscaling",
d.hvb());b.lc("frequencytype",d.csa());b.Zd("linestyle",d.ab(),"linestyle");b.Zd("fillstyle",d.Bb(),"fillstyle");b.Zd("highlightstyle",d.zQa(),"fillstyle");b.lc("autobin",d.D9a());d.D9a()||b.lc("bincount",d.xL());var e=d.Ynb();b.lc("autolimits",!e);e&&(b.lc("minimum",d.ad()),b.lc("maximum",d.kd()));b.Cl()},load:function(a){var b=a.pm("#widget"),d=null;b&&(d=b.uha(),d.Qb(a.Da("name")),d.Ae(a.Da("id")),d.Hzb(a.Da("accumulatedmode")),d.ZAb(a.Da("histogrammode")),d.wda(a.Da("autogradient")),d.aAb(a.Da("binspacing")),
d.aDb(a.Da("verticalscaling")),d.RAb(a.Da("frequencytype")),a.Da("autobin")?d.kzb():d.DO(a.Da("bincount")),d.Ba(a.Bd("linestyle","linestyle")),d.Ea(a.Bd("fillstyle","fillstyle")),d.mUa(a.Bd("fillstyle","highlightstyle")),a.Da("autolimits")?d.uab():d.XCb(a.Da("minimum"),a.Da("maximum")));return d}});this.Gp("default",f)};var h=null;b.ib=function(){null==h&&(h=new _geo.c.qa.jf.yXa);return h};return b}();
_geo.c.qa.jf.Xfb=function(){function b(){_geo.c.xd.he.call(this);this.lda()}_geo.c.na(b,_geo.c.xd.he);_geo.c.ja(b,"geotoolkit.widgets.templates.MultiHistogramsRegistry");b.prototype.lda=function(){var a=[_geo.c.fa.Oa.Wc,_geo.c.fa.Oa.Sc,_geo.c.fa.Oa.od];this.Gp("geotoolkit.widgets.MultiHistograms",{save:function(a,b){b.lc("type","multihistogram");var f=a.la();b.lc("axiswidth",f.axiswidth);b.lc("axisheight",f.axisheight);b.lc("autoannotationsize",f.autoannotationsize);b.Zd("header",a.Lj(),"geotoolkit.scene.shapes.Text");
b.Zd("bounds",a.ha(),"geotoolkit.util.Rect");b.Zd("tools",a.vU());for(var g=b.QG("histograms","array"),l=a.A7a(),f=0;f<l.length;f++)g.Zd(f,{hist:l[f],widget:a},"histogram");g.Cl();g=b.QG("groups","array");l=a.Ssb();for(f=0;f<l.length;f++)g.Zd(f,{id:l[f],widget:a},"group");g.Cl();b.Cl()},load:function(a){var b=a.pm("#widget");if(b){var f={axiswidth:a.Da("axiswidth"),axisheight:a.Da("axisheight"),autoannotationsize:a.Da("autoannotationsize")};b.bb(f);b.gZ(a.Bd("geotoolkit.scene.shapes.Text","header"));
b.Ga(a.Bd("geotoolkit.util.Rect","bounds"));b.Jv(a.Da("tools"));a.Gv(function(a,b){"histograms"===a&&b.Gv(function(a,b){b.Bd("histogram")})});a.Gv(function(a,b){"groups"===a&&b.Gv(function(a,b){b.Bd("group")})})}return b}});this.Gp("group",{save:function(a,b){var f=a.widget,g=a.id,l={id:g,models:f.SCa(g,!1,!0),location:f.Ftb(g)},k=b.yF(l);f.YE(g,l.location)&&k.Zd("axis",f.YE(g,l.location),"axis");k.Cl()},load:function(a){var b=a.pm("#widget"),f=a.Da("models"),g=a.Da("id"),l=a.Da("location");a=a.Bd("axis",
"axis");b.zBa(f,l,a,g)}});this.Gp("histogram",{save:function(b,d){var f=b.hist,h=f.zd(),l=b.widget,h={id:h},h=d.yF(h);h.Zd("shape",f,"geotoolkit.controls.shapes.Histogram");l.YE(f,a[0])&&h.Zd(a[0],l.YE(f,a[0]),"axis");l.YE(f,a[1])&&h.Zd(a[1],l.YE(f,a[1]),"axis");l.YE(f,a[2])&&h.Zd(a[2],l.YE(f,a[2]),"axis");h.Cl()},load:function(b){var d=b.pm("#widget"),f=b.Da("id"),h=b.Bd("geotoolkit.controls.shapes.Histogram","shape"),f=d.uha(h.la(),{xaxis:null,yaxis:null},f),h=b.Bd("axis",a[0]),l=b.Bd("axis",a[1]);
b=b.Bd("axis",a[2]);h&&d.eOa(a[0],h,f);l&&d.eOa(a[1],l,f);b&&d.eOa(a[2],b,f)}});this.Gp("axis",{save:function(a,b){b.lc("length",a.length);b.lc("flip",a.flip);b.lc("accumulative",a.accumulative);var f=(new _geo.c.axis.Xf).ka(a);b.Zd("axis",f,"geotoolkit.axis.Axis");b.Cl()},load:function(a){var b={};b.length=a.Da("length");b.flip=a.Da("flip");b.accumulative=a.Da("accumulative");(a=a.Bd("geotoolkit.axis.Axis","axis"))&&(b=_geo.c.Ja(b,a.la()));return b}})};var a=null;b.ib=function(){null==a&&(a=new _geo.c.qa.jf.Xfb);
return a};return b}();
_geo.c.qa.Jc.gc=function(){function b(){}var a="M j, Y H:i:s",g="Arial",e={small:"9px",medium:"10px",large:"14px"},d=e.small+" "+g,f=e.medium+" "+g,h=e.large+" "+g,l="#6b6b6b",k={maximumfractiondigits:2,round:!0},m={MAJOR:{color:"#c4c4c4",width:1,pixelsnapmode:{x:!0,y:!0}},MINOR:{color:"#ededed",width:1,pixelsnapmode:{x:!0,y:!0}},EDGE:{color:"#c4c4c4",width:1,pixelsnapmode:{x:!0,y:!0}}};_geo.c.ja(b,"geotoolkit.widgets.timeseries.Util");b.mIa=0;b.EJa=1;b.T3b=function(){return _geo.c.Ac({automodellimitsmode:!0,cursor:{linestyle:new _geo.c.attributes.za({color:"rgba(237, 28, 36, 0.75)",
width:1,pattern:_geo.c.attributes.za.pK.kZa})},margin:[8,8,8,8],title:{visible:!0,height:40,text:"",font:h,color:l,padding:[0,0,0,0],centered:!1},legends:{alignwithcentermodel:!0,direction:_geo.c.fa.vwa.Je.DC,height:25,position:_geo.c.qa.UH.Gwa.$p,visible:!0,width:100,linestyle:null,fillstyle:null,margintext:5,marginbottom:5,autocolorlabel:!0,legendoptions:{formatter:new _geo.c.f.NumberFormat(k),margintext:2,font:"bold 12px Arial",height:25,internalpadding:4,linestyle:new _geo.c.attributes.za({color:"rgba(128, 128, 128, 1)",
width:1,pixelsnapmode:{x:!0,y:!0}}),fillstyle:new _geo.c.attributes.Ha({color:"rgba(250, 250, 250, 0.95)"}),fixedwidth:null,labelcolor:l}},lastupdatedate:{visible:!0,followcursor:!1,font:"bold "+f,color:l,formatter:a},curve:{linestyle:{},visible:!0,autoscale:!0,min:null,max:null,neatlimits:!1,neatlimitscenteredonzero:!1,unit:""},curvelimits:{visible:!0,margin:5,width:60,font:"bold "+f},curvesymbol:{visible:!0,width:8,height:8,type:"circle"},modelgrid:{horizontaltickgenerator:(new _geo.c.axis.ju).jh("MAJOR",
new _geo.c.attributes.za(m.MAJOR)).jh("MINOR",new _geo.c.attributes.za(m.MINOR)).jh("EDGE",new _geo.c.attributes.za(m.EDGE)).zUa(20),verticaltickgenerator:(new _geo.c.axis.YD(0,0)).jh("MAJOR",new _geo.c.attributes.za(m.MAJOR)).jh("MINOR",new _geo.c.attributes.za(m.MINOR)).jh("EDGE",new _geo.c.attributes.za(m.EDGE)).ug("EDGE",!1).ug("MINOR",!1).ug("MAJOR",!1),horizontalvisibility:{MAJOR:!0,MINOR:!1,EDGE:!1},verticalvisibility:{MAJOR:!1,MINOR:!1,EDGE:!1}},modelaxis:{visible:!0,tickgenerator:null,baselinestyle:new _geo.c.attributes.za(l)},
southaxis:{visible:!0,height:20,font:"bold "+f,color:l,tickgenerator:(new _geo.c.axis.YD(0,0)).ug("EDGE",!1).Bn("EDGE",!1).jh("MAJOR",null).ug("MINOR",!1).Bn("MINOR",!1)},visiblerange:{visible:!0,height:20,font:"bold "+f,color:l,formatter:a},scrollbar:{type:_geo.c.qa.UH.S9.UVa,visible:!0,height:30,options:{font:"bold "+d,color:l,tickgenerator:null,formatter:"M j, Y",scrollbar:{autohide:!1}}},viewcache:!0,intervalbuttons:{visible:!0,intervals:{"1h":36E5,"8h":288E5,"1d":864E5,"1w":6048E5,"1m":2592E6}},
scrolltonowbutton:{visible:!1},tooltips:{visible:!0,linestyle:new _geo.c.attributes.za({color:"rgba(175,175,175,0.5)",width:3}),fillstyle:new _geo.c.attributes.Ha({color:"rgba(255,255,255, 0.85)"}),symbollinestyle:new _geo.c.attributes.za({color:"rgba(225,225,225, 0.95)",width:2}),selectionradius:30,tooltipoptions:{formatter:new _geo.c.f.NumberFormat(k),margintext:4,font:"12px Arial",textcolor:"black",symbolsize:10,internalpadding:2,externalpadding:5,linestyle:null,fillstyle:null,fixedwidth:null,
nanvisibility:!0,index:{visible:!1,color:"black",symbol:null,name:"Time",indextext:"",unittext:""},singlerow:!1}},cursorselectionlimit:25,timezone:_geo.c.axis.qP.UTC},b.Uub())};b.Uub=function(){return{curveaxis:{visible:!1,compact:!1,position:"right",autolabelrotation:!1,autocoloraxis:!0,autocolorlabel:!0,titlevisible:!0,textcolor:l,axiscolor:l,labeltext:null,axiswidth:40,textwidth:20,font:f,axisvisible:!0,titlerotateangle:-Math.PI/2,tickgeneratoroptions:{edge:{tickvisible:!0,labelvisible:!0},major:{tickvisible:!1,
labelvisible:!1},minor:{tickvisible:!1,labelvisible:!1}}}}};b.qyc=function(){return _geo.c.Ac({id:null,name:"",curve:{data:null,properties:{linestyle:{},visible:!0,autoscale:!0,min:null,max:null,neatlimits:!1,neatlimitscenteredonzero:!1,spline:!1,unit:"",values:{visible:!1,anchor:_geo.c.f.Ca.Ig,color:"#757575",font:"12px Roboto",format:new _geo.c.f.NumberFormat,fillstyle:_geo.c.attributes.Ha.ag,linestyle:_geo.c.attributes.za.ag}}},curvesymbol:{visible:!0,width:8,height:8,type:"circle",fillstyle:null},
curvelimits:{visible:!0,margin:5,width:60,font:"bold 10px Arial"},legenditem:{formatter:new _geo.c.f.NumberFormat(k),margintext:2,font:"bold 12px Arial",height:25,internalpadding:4,linestyle:new _geo.c.attributes.za({color:"rgba(128, 128, 128, 1)",width:1,pixelsnapmode:{x:!0,y:!0}}),fillstyle:new _geo.c.attributes.Ha({color:"rgba(250, 250, 250, 0.95)"}),fixedwidth:null,autocolorlabel:!0,labelcolor:l},tooltipitem:{formatter:new _geo.c.f.NumberFormat(k),margintext:4,font:"12px Arial",textcolor:"black",
symbolsize:10,internalpadding:2,externalpadding:5,linestyle:null,fillstyle:null,fixedwidth:null,nanvisibility:!0}},b.Uub())};b.ryc=function(){return _geo.c.Ac({id:null,min:0,max:1,curveids:[],curveaxis:{visible:!0},sharelimits:!0},b.Uub())};b.z3b=function(a,b){for(var d=null,e=0;null==d;)-1===a.indexOf(b+e.toString())&&(d=b+e.toString()),e+=1;return d};b.l8a=function(a){switch(a){case "cross":a=_geo.c.V.$.nc.DHa;break;case "diamond":a=_geo.c.V.$.nc.nwa;break;case "plus":a=_geo.c.V.$.nc.VJb;break;
case "square":a=_geo.c.V.$.nc.afa;break;case "star":a=_geo.c.V.$.nc.CLb;break;case "triangle":a=_geo.c.V.$.nc.jfa;break;default:a=_geo.c.V.$.nc.Yy;break}return a};b.$f=function(a,b,d){var e=a.Nh(_geo.c.qa.Jc.gc.mIa),f=a.Nh(_geo.c.qa.Jc.gc.EJa);a=e.ye();var f=f.ye(),g=[],h=[];d-=b;for(var k=0;k<e.ud();k++)h.push((f[k]-b)/d),g.push((new _geo.c.data.cS(a[k],h[k],0,!0,k)).kV(f[k]));return{jB:g,NBc:h,NL:a,values:f}};b.findIndex=function(a,b,d){var e=0;--d;if(0<=d)for(var f=d;e<=f;){d=e+f>>1;if(1E-10>=
Math.abs(a[d].Xc()-b))return d;a[d].Xc()<b?e=d+1:f=d-1}return~e};b.Vq=function(a,d,e){var f=0<a.length&&a[a.length-1].Xc()<a[0].Xc();f&&a.reverse();d=b.findIndex(a,d,a.length);0>d&&(d=~d);0<d&&d--;e=b.findIndex(a,e,a.length);0>e&&(e=~e,e>=a.length&&(e=a.length-1));e<a.length&&e++;f&&a.reverse();return new _geo.c.f.Range(d,e)};b.r6a=function(a,b,d){null==d&&(d=!1);var e,f;if((0,window.isNaN)(a))return null;e=_geo.c.f.Math.findIndex(a,b,0,b.length-1,function(a,b){return Math.abs(a.Xc()-b)<_geo.c.f.Math.Hc?
0:a.Xc()<b?-1:1});if(0>e){f=e=~e;if(!1===d)for(;f<b.length&&(0,window.isNaN)(b[f].Da());)++f;--e;if(!1===d)for(;0<=e&&(0,window.isNaN)(b[e].Da());)--e;e=0<=e&&f<b.length?b[e].Xc()+b[f].Xc()>2*a?e:f:0>e&&f<b.length?f:0<=e&&f>=b.length?e:0}return e};return b}();
_geo.c.qa.Jc.mZa=function(){function b(a){_geo.c.fa.ls.call(this,a)}_geo.c.na(b,_geo.c.fa.ls);b.prototype.Tb=function(a){if(!a)throw Error("Invalid layout area");_geo.c.fa.ls.prototype.Tb.call(this,a);return this};b.prototype.nm=function(a){a=0<this.pG.length||null===a?this.pG:a;return Array.isArray(a)?_geo.c.f.Iterator.Hm(a):a};b.prototype.tl=function(a,b){var e=null!==this.Yr()?this.Yr():a,d=this.nm(b);return null===d?a:!e||0>=e.ba()?null:e};b.prototype.fa=function(a,b){var e=this.Yr()?this.Yr():
a,d=this.nm(b);if(!d||!e||0>=e.ba())return this;d.forEach(function(a){a.Ga(e)});return this};return b}();
_geo.c.qa.Jc.KC=function(){function b(){_geo.c.f.Gd.call(this);this.jd=this.nr=this.Zxa=this.kr=this.eKa=this.ue=null}var a="curveaxisgroup",g=-1;_geo.c.na(b,_geo.c.f.Gd);_geo.c.ja(b,"geotoolkit.widgets.timeseries.TimeSeriesObjectBase");b.aa={kea:"axispositionchanged",Vva:"axisupdated"};b.prototype.ah=function(b){if(null==b||null==b.id)throw Error("TimeSeriesObject requires a unique id for initialization");b=_geo.c.Ac(b,{});this.pa=_geo.c.Ac(b,this.pa);this.nr=this.pa.id;this.ue=(new _geo.c.axis.Xf).Ae(this.nr);
this.ue.z8(g*Math.PI/2);this.kr=(new _geo.c.qa.Jc.KZa).Ae(a).cb(new _geo.c.f.Rect(0,0,1,1)).Ia(this.ue);b=(0,window.isFinite)(this.pa.curveaxis.titlerotateangle)?this.pa.curveaxis.titlerotateangle:g*Math.PI/2;this.Zxa=(new _geo.c.qa.Jc.KZa).Ae(a).cb(new _geo.c.f.Rect(0,0,1,1)).Ia([this.eKa=(new _geo.c.V.$.Text({ax:.5,ay:.5,alignment:_geo.c.f.Ca.ub})).Bj(_geo.c.V.$.Text.ef.Gr).rotate(b,.5,.5).Ae(this.nr)]);this.FJ(this.pa.curveaxis);return this};b.prototype.zd=function(){return this.nr};b.prototype.wi=
function(){return{id:this.nr,name:this.jd,axis:this.ue,O4a:this.eKa,Dha:this.kr,$Aa:this.Zxa,Uqc:this.pa.position}};b.prototype.YE=function(){return this.pa.curveaxis};b.prototype.FJ=function(a){null==a&&(a={});var d=this.pa.curveaxis.position,f=this.pa.curveaxis.axiswidth;a!==this.pa.curveaxis&&(a=_geo.c.Ac(a,{}),this.pa.curveaxis=_geo.c.Ac(a,this.pa.curveaxis));a=this.pa.curveaxis;var g=this.ue,l=this.mr,k=this.eKa,m=this.kr,q=this.Zxa;if(null==g)return this;var p=a.textcolor;null!=l&&(p=!0===a.autocolorlabel&&
null!=l.ab()?l.ab().Kc():a.textcolor);var u=m.ob(),t="left"===a.position?_geo.c.f.Ca.eh:_geo.c.f.Ca.We,r=null;null!=a.title&&(null!=a.title.anchor&&(t=a.title.anchor),null!=a.title.offset&&(r=a.title.offset));g.Gda(!0===a.compact&&a.titlevisible).gla(new _geo.c.attributes.kb({font:a.font,color:p})).fla(t).mcb(r);"left"===a.position?g.Is(_geo.c.axis.qd.uk.Pd):g.Is(_geo.c.axis.qd.uk.De);k.ka({textStyle:new _geo.c.attributes.kb({font:a.font,color:p}),alignment:_geo.c.f.Ca.ub}).Ma(a.titlevisible);g.Ml("left"===
a.position?_geo.c.axis.qd.Af.Pd:_geo.c.axis.qd.Af.De);g.Wz(a.autolabelrotation);g.Ma(a.axisvisible);t=a.textcolor;null!=l&&(t=!0===a.autocoloraxis&&null!=l.ab()?l.ab().Kc():a.axiscolor);a.baselinestyle?a.baselinestyle instanceof _geo.c.attributes.za?g.S6().ka(a.baselinestyle.la()):g.S6().ka(a.baselinestyle):g.S6().ed(t);k.ec().ed(p);null!=g.va()&&g.cb(g.va().clone().rb(a.axiswidth));m.wl(a.axiswidth);q.wl(a.textwidth);var n,v;for(v in a.tickgeneratoroptions)a.tickgeneratoroptions.hasOwnProperty(v)&&
(t=a.tickgeneratoroptions[v],k=g.ze(),r=!0===a.autocoloraxis&&null!=l&&null!=l.ab()?l.ab().Kc():a.axiscolor,n=p,null!=k.sj(v.toUpperCase())&&k.sj(v.toUpperCase()).ed(r),null!=k.cl(v.toUpperCase())&&k.cl(v.toUpperCase()).ed(n),k.ug(v.toUpperCase(),t.tickvisible),k.Bn(v.toUpperCase(),t.labelvisible),a.tickgeneratoroptions.hasOwnProperty("format")&&(t=a.tickgeneratoroptions.format,t instanceof _geo.c.f.MF?k.kB(v,t):"function"===typeof t&&k.cs(t)));v=null==this.dqa?this.pa.curveaxis.visible:!1;m.Ma(v);
m=q.ob();q.Ma(!1===a.compact&&a.titlevisible&&a.visible&&v);d!==this.pa.curveaxis.position?this.Pa(b.aa.kea,this,{id:this.nr,oldposition:d,axisposition:this.pa.curveaxis.position}):u===this.pa.curveaxis.visible&&f===this.pa.curveaxis.axiswidth&&m===q.ob()||this.Pa(b.aa.Vva,this,this);void 0!==a.microposition&&(d={top:void 0!==a.microposition.top?a.microposition.top:1,bottom:void 0!==a.microposition.bottom?a.microposition.bottom:0},this.kr.lB(1-d.top,1-d.bottom),this.Zxa.lB(1-d.top,1-d.bottom));return this};
b.prototype.Ra=function(){null!=this.ue&&this.ue.Ra();null!=this.eKa&&this.eKa.Ra();null!=this.kr&&this.kr.Ra();null!=this.Zxa&&this.Zxa.Ra();_geo.c.f.Gd.prototype.Ra.call(this)};return b}();
_geo.c.qa.Jc.JC=function(){function b(a){_geo.c.qa.Jc.KC.call(this);this.TP=this.mr=this.jd=this.Xpc=this.nr=null;this.JK={top:null,bottom:null};this.RS={top:null,bottom:null};this.dqa=this.Ukb=this.hpa=this.fpa=this.BT=this.Hoa=this.xg=this.Lfa=null;this.pa=_geo.c.qa.Jc.gc.qyc();this.ah(a)}var a="#6b6b6b",g=_geo.c.qa.Jc.gc.mIa,e=_geo.c.qa.Jc.gc.EJa,d=-1;_geo.c.na(b,_geo.c.qa.Jc.KC);_geo.c.ja(b,"geotoolkit.widgets.timeseries.TimeSeriesObject");b.aa={kea:"axispositionchanged",SXa:"legenditemchanged",
KWa:"curveaxischanged",hma:"dataset",Iwa:"limitsupdated",Jfb:"legendvaluechanged"};b.prototype.ah=function(a){_geo.c.qa.Jc.KC.prototype.ah.call(this,a);if(null==a||null==a.id)throw Error("TimeSeriesObject requires a unique id for initialization");a=_geo.c.Ac(a,{});this.pa=_geo.c.Ac(a,this.pa);this.nr=this.pa.id;this.jd=this.pa.name;this.Xpc=this.pa.uri;a={markervisible:this.pa.curve.properties.markervisible,marker:this.pa.curve.properties.marker,decimationSpacing:this.pa.curve.properties.decimationspacing,
spline:this.pa.curve.properties.spline,values:this.pa.curve.properties.values};this.mr=(new _geo.c.qa.Jc.pE(a)).Ae(this.nr).Qb(this.jd);this.TP=(new _geo.c.V.Ya).Xj(!0).Ma(!1);this.xg=(new _geo.c.V.$.Symbol).rk(!1);this.Lfa=(new _geo.c.qa.Jc.KZa).ik("100%").Ia((new _geo.c.axis.Xf).Qb("curvelimitsaxis").Ae(this.nr)).Qb("curvelimitsgroup");a=new _geo.c.qa.Jc.Dxa({color:null,symbol:this.xg,name:this.jd,indextext:"",valuetext:"",unittext:""});this.fSb=new _geo.c.qa.Jc.MZa(a);this.Hoa=new _geo.c.qa.Jc.LZa(this);
this.setData(this.pa.curve.data);this.B8(this.pa.curve.properties);this.cGa(this.pa.curvesymbol);this.sFa(this.pa.curvelimits);this.FJ(this.pa.curveaxis);this.rUa(this.pa.legenditem);this.ocb(this.pa.tooltipitem);return this};b.prototype.ccc=function(a){this.dqa=a;this.Cva();return this};b.prototype.O8a=function(){return this.dqa};b.prototype.hsa=function(){null==this.fpa&&(this.fpa=function(a,b,d){a=null!=d?d.name:null;"state"===a&&(a=d.value.range.changes,a===_geo.c.data.tp.Al.Nva||a===_geo.c.data.tp.Al.Zma)&&
(d=this.l0b(d.value.range),this.mr.ma(d),this.Cva())}.bind(this));return this.fpa};b.prototype.Lsa=function(){null==this.hpa&&(this.hpa=function(a,b,d){a=null!=d?d.name:null;"unit"===a?null!=this.getData()&&null!=this.getData().Nh(e)&&null!=this.getData().Nh(e).Zb()&&(this.pa.curve.properties.unit=this.getData().Nh(e).Zb().Yd(),this.vVa(),this.Cva(),this.mr.ma()):"state"===a&&(a=d.value.range.changes,a===_geo.c.data.aa.ff&&(d=this.l0b(d.value.range),this.mr.ma(d),this.Cva()))}.bind(this));return this.hpa};
b.prototype.l0b=function(a){var b,d;d=this.getData().Nh(g);b=null==a.from||(0,window.isNaN)(a.from)?null:a.from;a=null==a.amount||(0,window.isNaN)(a.amount)?null:a.amount;if(null==b||null==a)return null;b=0<b?b-1:0;a=Math.min(b+a+1,d.ud()-1);b=d.Da(b);d=d.Da(a);if(null==b||null==d)return null;a=this.mr.getParent().va().clone();a.Tb(b,a.ta(),d,a.xa());return a};b.prototype.u8b=function(a,b,d){if(a!==_geo.c.qa.UH.SV.Xb&&a!==_geo.c.qa.UH.SV.Qf)return this;this.JK[a]=b;this.RS[a]=d;this.Hoa.oh();return this};
b.prototype.getData=function(){return this.pa.curve.data};b.prototype.setData=function(a){if(null==a)return this;var d=this.pa.curve.data;this.pa.curve.data=a;null!=this.BT&&(this.BT.Nh(e).pb(_geo.c.data.yl.aa.Pm,this.Lsa()),this.BT.Nh(g).pb(_geo.c.data.yl.aa.Pm,this.hsa()));null!=this.pa.curve.data&&(this.BT=new _geo.c.data.Ps(this.pa.curve.data),this.BT.Nh(g).il("ms"),this.BT.Nh(e).il(null),this.BT.Nh(e).tb(_geo.c.data.yl.aa.Pm,this.Lsa()),this.BT.Nh(g).tb(_geo.c.data.yl.aa.Pm,this.hsa()));null!=
this.mr&&this.mr.setData(this.BT);this.Cva();this.Pa(b.aa.hma,this,{old:d,"new":a});return this};b.prototype.wi=function(){return _geo.c.Ja(_geo.c.qa.Jc.KC.prototype.wi.call(this),{curve:this.mr,symbol:this.xg,DBa:this.Lfa,OI:this.JK,n6a:this.RS,vAc:this.Hoa,Tcb:this.fSb,Hca:this.TP})};b.prototype.B8=function(a){null==a&&(a={});a!==this.pa.curve.properties&&(a=_geo.c.Ac(a,{}),this.pa.curve.properties=_geo.c.Ac(a,this.pa.curve.properties));var b=this.pa.curve.properties,d=this.wi();null!=d&&(d=d.curve,
a=_geo.c.f.Bf.ib().Zb(a.unit),null!=a&&null!=this.getData()&&null!=this.getData().Nh(e)&&!1===(null==this.getData().Nh(e).Zb()||this.getData().Nh(e).Zb().tF(a))&&(this.getData().Nh(e).il(a),this.BT.Nh(e).il(a)),"boolean"===typeof b.visible&&d.Ma(b.visible),void 0!==b.name&&d.Qb(b.name),"boolean"===typeof b.curvevisible&&d.qAb(b.curvevisible),this.Cva(),void 0!==b.linestyle&&(null!=d.ab()&&d.pq(d.ab(),_geo.c.V.Node.aa.nd,this.Ctb()),null!=b.linestyle?(a=_geo.c.attributes.za.gb(b.linestyle),d.Ba(a)):
d.Ba(null),null!=d.ab()&&(d.ek(d.ab(),_geo.c.V.Node.aa.nd,this.Ctb()),this.Ctb().call(this))),void 0!==b.microposition&&(a={top:void 0!==b.microposition.top?b.microposition.top:1,bottom:void 0!==b.microposition.bottom?b.microposition.bottom:0},d.lB(a.top,a.bottom),this.Lfa.lB(1-a.top,1-a.bottom)),void 0!==b.logarithmicscale&&d.gV(b.logarithmicscale),void 0!==b.interpolationtype&&d.Zz(b.interpolationtype),void 0!==b.borderlinestyle&&d.rC(b.borderlinestyle),this.vVa());this.mr.ma();return this};b.prototype.vVa=
function(){var a=null,a=this.wi();if(null!=this.YE().labeltext)a=this.YE().labeltext;else{if(null==a)return this;a=a.curve;if(null==a)return this;a=[a.getName()];null!=this.getData()&&null!=this.getData().Nh(e)&&null!=this.getData().Nh(e).Zb()&&(a.push(" ("),a.push(this.getData().Nh(e).Zb().Yd()),a.push(")"));a=a.join("")}if(null!=a){var b=this.wi();null!=b&&(null!=b.axis&&b.axis.Vp(a),null!=b.O4a&&b.O4a.ka({text:a}))}return this};b.prototype.rl=function(){var a=this.getData().Nh(g),b=this.getData().Nh(e),
d=new _geo.c.f.Rect(a.mh(),b.mh(),a.Yh(),b.Yh());!0===this.pa.curve.properties.neatlimits&&(b=_geo.c.f.Math.sr(b.mh(),b.Yh(),!1,this.pa.curve.properties.neatlimitscenteredonzero),d=new _geo.c.f.Rect(a.mh(),b.nb(),a.Yh(),b.wb()));return d};b.prototype.Cva=function(){var a=this.pa.curve.properties;if(null!=this.mr){if(null!=this.TP){var e=this.TP.vq(),g=new _geo.c.f.Rect(this.TP.va()),k;null!=this.dqa&&this.dqa.Mub()?(a=this.dqa.mh(),k=this.dqa.Yh(),g.Tb(g.ua(),a,g.ya(),k)):!0===a.autoscale?(a=this.rl(),
null!=a&&(!(0,window.isFinite)(a.ea())||(0,window.isNaN)(a.ea())||!(0,window.isFinite)(a.da())||(0,window.isNaN)(a.da())||0>=a.da()?(g.Eb(-.5),g.Hb(1)):(g.Eb(a.ea()),g.Hb(a.da())),e=!1)):(0,window.isNaN)(a.min)||(0,window.isNaN)(a.max)||(g.Tb(g.ua(),a.min,g.ya(),a.max),e=a.max<=a.min?!0:!1);g.Ij(this.TP.va())||this.TP.cb(g);this.TP.vq()!==e&&(this.TP.Xj(e),this.TP.ma());this.mr.J8(e?g.xa():g.ta());this.mr.lZ(e?g.ta():g.xa());e=this.wi();null!=e&&null!=e.axis&&e.axis.z8(d*Math.PI/2);this.mr.Pa(_geo.c.qa.Jc.pE.aa.Hwa,
this.mr,null)}this.Pa(b.aa.Iwa,this,this)}};b.prototype.xr=function(){var a=this.wi();if(null!=a){var b={id:a.id},d=a.curve;b.name=d.getName();var e=null==this.TP?null:this.TP.va();b.autoscale=this.pa.curve.properties.autoscale;b.neatlimits=this.pa.curve.properties.neatlimits;b.neatlimitscenteredonzero=this.pa.curve.properties.neatlimitscenteredonzero;b.visible=d.ob();b.unit=this.pa.curve.properties.unit;b.flip=null==this.TP?null:this.TP.vq();b.max=null==e?null:b.flip?e.ta():e.xa();b.min=null==e?
null:b.flip?e.xa():e.ta();b.axisposition=a.Uqc;b.linestyle=this.pa.curve.properties.linestyle;b.microposition=this.pa.curve.properties.microposition;b.interpolationtype=this.pa.curve.properties.interpolationtype;b.logarithmicscale=this.pa.curve.properties.logarithmicscale;b.borderlinestyle=this.pa.curve.properties.borderlinestyle;return b}return null};b.prototype.cGa=function(a){null==a&&(a={});a!==this.pa.curvesymbol&&(this.pa.curvesymbol=_geo.c.Ac(a,this.pa.curvesymbol));a=this.pa.curvesymbol;var b=
_geo.c.qa.Jc.gc.l8a(a.type),d=_geo.c.attributes.Ha.gb(this.mr.ab().Kc());null!=a.fillstyle&&(d=a.fillstyle);this.xg.ka({ax:0,ay:0,alignment:_geo.c.f.Ca.ub,width:a.width,height:a.height,sizeIsInDeviceSpace:!0,fillstyle:d});this.xg.Ty(b);return this};b.prototype.W2b=function(){return this.pa.curvesymbol};b.prototype.Zrb=function(){return this.pa.curvelimits};b.prototype.sFa=function(a){null==a&&(a={});a!==this.pa.curvelimits&&(a=_geo.c.Ac(a,{}),this.pa.curvelimits=_geo.c.Ac(a,this.pa.curvelimits));
a=this.pa.curvelimits;var d;d=null!=this.mr&&null!=this.mr.ab()&&null!=this.mr.ab().Kc()?this.mr.ab().Kc():"rgba(0, 0, 0, 0)";this.Lfa.wl(a.width).Ma(a.visible);var e=this.Lfa.Dc(0);e.BO(null);e=e.ze();e.jh("EDGE",null);e.jh("MAJOR",null);e.jh("MINOR",null);e.Ll("MAJOR",null);e.Ll("MINOR",null);e.Ll("EDGE",new _geo.c.attributes.kb({font:a.font,color:d}));this.Pa(b.aa.KWa,this,this.Lfa);return this};b.prototype.Ctb=function(){null==this.Ukb&&(this.Ukb=function(){this.FJ({});this.sFa({});this.rUa({});
this.cGa({})}.bind(this));return this.Ukb};b.prototype.I0b=function(){return this.pa.legenditem};b.prototype.rUa=function(d){null==d&&(d={});d!==this.pa.legenditem&&(d=_geo.c.Ac(d,{}),d=_geo.c.Ac(d,{}),this.pa.legenditem=_geo.c.Ac(d,this.pa.legenditem));!0===this.pa.legenditem.autocolorlabel?this.pa.legenditem.labelcolor=null:this.pa.legenditem.labelcolor||(this.pa.legenditem.labelcolor=a);this.Hoa.bb(this.pa.legenditem);this.Pa(b.aa.SXa,this,this.Hoa);return this};b.prototype.ocb=function(a){null==
a&&(a={});a!==this.pa.tooltipitem&&(a=_geo.c.Ac(a,{}),this.pa.tooltipitem=_geo.c.Ac(a,this.pa.tooltipitem));this.fSb.bb(this.pa.tooltipitem);return this};b.prototype.r3b=function(){return this.pa.tooltipitem};b.prototype.yBb=function(a){this.Tnc=a;this.Pa(b.aa.Jfb,this);return this};b.prototype.gxc=function(){return this.Tnc};b.prototype.Ra=function(){null!=this.Hoa&&this.Hoa.Ra();null!=this.Lfa&&this.Lfa.Ra();null!=this.xg&&this.xg.Ra();null!=this.RS&&["top","bottom"].forEach(function(a){null!=this.RS[a]&&
null!=this.RS[a].Ra&&this.RS[a]instanceof _geo.c.qa.Jc.hfa&&this.RS[a].Ra()}.bind(this));null!=this.BT&&(this.BT.Nh(e).pb(_geo.c.data.yl.aa.Pm,this.Lsa()),this.BT.Nh(g).pb(_geo.c.data.yl.aa.Pm,this.hsa()));null!=this.mr&&this.mr.Ra();_geo.c.qa.Jc.KC.prototype.Ra.call(this)};return b}();
_geo.c.qa.Jc.jhb=function(){function b(a){_geo.c.qa.Jc.KC.call(this);this.Fn=[];this.Lg=null;this.pa=_geo.c.qa.Jc.gc.ryc();this.ah(a)}var a=-1;_geo.c.na(b,_geo.c.qa.Jc.KC);_geo.c.ja(b,"geotoolkit.widgets.timeseries.TimeSeriesObjectGroup");b.prototype.ah=function(a){_geo.c.qa.Jc.KC.prototype.ah.call(this,a);this.FJ(this.pa.curveaxis);this.edb();this.uVa();return this};b.prototype.J8=function(a){this.pa.min=a;this.edb();this.rEb();this.uVa();return this};b.prototype.mh=function(){return this.pa.min};
b.prototype.lZ=function(a){this.pa.max=a;this.edb();this.rEb();this.uVa();return this};b.prototype.Yh=function(){return this.pa.max};b.prototype.Abc=function(a){this.pa.sharelimits=a;this.edb();this.rEb();this.uVa();return this};b.prototype.Mub=function(){return this.pa.sharelimits};b.prototype.rEb=function(){this.Fn.forEach(function(a){a.Cva()})};b.prototype.FJ=function(a){_geo.c.qa.Jc.KC.prototype.FJ.call(this,a);this.uVa();return this};b.prototype.checkValidity=function(a){if(Array.isArray(a)){for(var b=
!1,d=0;d<a.length&&(b=this.checkValidity(a[d]),!1!==b);d++);return b}if(null==a||null==a.O8a||null!=a.O8a())return!1;null==this.Lg&&null!=a.xr&&null!=a.xr()&&(this.Lg=a.xr().unit);return this.Lg instanceof _geo.c.f.Dq?this.Lg.tF(a.xr().unit):a.xr().unit instanceof _geo.c.f.Dq?a.xr().unit.tF(this.Lg):_geo.c.f.Bf.ib().Zb(this.Lg).tF(a.xr().unit)};b.prototype.Zd=function(a){var b=this.checkValidity(a);if(!1===b)return this;if(Array.isArray(a))for(b=0;b<a.length;b++)this.Zd(a[b]);null!=a&&a instanceof
_geo.c.qa.Jc.JC&&-1===this.Fn.indexOf(a)&&(a.ccc(this),this.Fn.push(a),a.FJ({}));this.vVa();return this};b.prototype.yTa=function(a){if(Array.isArray(a))for(var b=a.length;-1<b;b--)this.yTa(a[b]);a instanceof _geo.c.qa.Jc.JC&&-1!==this.Fn.indexOf(a)&&(b=this.Fn.indexOf(a),a.ccc(null),this.Fn.splice(b,1),a.FJ({}));this.vVa();return this};b.prototype.get=function(){return this.Fn};b.prototype.rEc=function(){this.yTa(this.Fn);return this};b.prototype.vVa=function(){var a=null,a=this.wi();if(null!=this.YE().labeltext)a=
this.YE().labeltext;else{if(null==a)return this;var b=[];this.Fn.forEach(function(a){a=a.wi();null!=a&&null!=a.curve&&null!=a.curve.getName&&b.push(a.curve.getName())});var a=b.join(", "),d=this.Lg instanceof _geo.c.f.Dq?this.Lg.Yd():this.Lg;null!=this.Lg&&(a+=" ("+d+")")}null!=a&&(d=this.wi(),null!=d&&(null!=d.axis&&d.axis.Vp(a),null!=d.O4a&&d.O4a.ka({text:a})));return this};b.prototype.uVa=function(){var b=this.mh(),e=this.Yh(),d=this.wi();null!=d&&(d.Dha.Xj(b<e),d.axis.z8(a*Math.PI/2));return this};
b.prototype.edb=function(){var a=this.wi();null!=a&&(a.Dha.cb(new _geo.c.f.Rect(0,this.mh(),1,this.Yh())),a.axis.cb(new _geo.c.f.Rect(0,this.mh(),1,this.Yh())));return this};return b}();
_geo.c.qa.Jc.pP=function(){function b(a){this.hv=this.Mq=this.$H=this.Vb=null;_geo.c.V.$.Uh.call(this,a);this.Bga={top:1,bottom:0}}_geo.c.na(b,_geo.c.V.$.Uh);_geo.c.ja(b,"geotoolkit.widgets.timeseries.TimeSeriesShape");b.aa={f$a:"micropositionChanged"};b.prototype.Ai=function(){var a=this.ha();if(null==a)return this;this.Vb=new _geo.c.f.Rect(a.ua(),this.Bga.bottom,a.ya(),this.Bga.top);this.$H=null;this.yV();return this};b.prototype.ae=function(){if(null!=this.$H)return this.$H;var a=this.ha();if(null==
a)return null;var b=new _geo.c.f.Rect(a.ua(),0,a.ya(),1);a.Jd()||b.Jd()||(this.$H=_geo.c.f.Fa.Sf(b,a,!1,!1,!1));return this.$H};b.prototype.sb=function(){var a=this.kc(),b=this.ae();return null==b?a:null==a?b:_geo.c.f.Fa.multiply(a,b)};b.prototype.lB=function(a,g){var e,d;0<=a&&1>=a&&0<=g&&1>=g?(d=Math.min(a,g),e=Math.max(a,g)):(d=0,e=1);if(this.Bga.top!==e||this.Bga.bottom!==d)this.Bga.top=e,this.Bga.bottom=d,this.Pa(b.aa.f$a,this,null);this.Qa();return this};b.prototype.BCa=function(){return{top:this.Bga.top,
bottom:this.Bga.bottom}};b.prototype.rC=function(a){if(this.Mq===a)return this;null!=this.Mq&&this.pq(this.Mq,_geo.c.V.Node.aa.nd,this.mc());this.Mq=_geo.c.attributes.za.gb(a);this.xi(this.ha());null!=this.Mq&&this.ek(this.Mq,_geo.c.V.Node.aa.nd,this.mc());return this};b.prototype.jx=function(){return this.Mq};b.prototype.mc=function(){null===this.hv&&(this.hv=function(a,b,e){return this.xi()}.bind(this));return this.hv};b.prototype.Aa=function(a){a=a.Qc(new _geo.c.f.Fa);var b=this.ha();null!=b&&
null!=this.Mq&&(a.Ea(null),a.Ba(this.Mq,b),a.xc(b))};return b}();
_geo.c.qa.Jc.KZa=function(){function b(a){this.bMa=null;_geo.c.V.Ya.call(this,a);this.Dza={top:1,bottom:0}}_geo.c.na(b,_geo.c.V.Ya);_geo.c.ja(b,"geotoolkit.widgets.timeseries.TimeSeriesGroup");b.prototype.Ga=function(a){_geo.c.V.Ya.prototype.Ga.call(this,a);this.Ai();return this};b.prototype.Ai=function(){this.bMa=null;this.yV();return this};b.prototype.kxc=function(a){if(!a)return null;var b=this.Dza.top,e=this.Dza.bottom,d=a.ua(),f=a.ya(),h=a.ta();a=a.xa();return new _geo.c.f.Rect(d,h+(a-h)*e,f,
h+(a-h)*b)};b.prototype.ae=function(){var a=_geo.c.V.Ya.prototype.ae.call(this);if(null!==this.bMa)return this.bMa;var b=this.ha();if(null==b)return null;var e=this.kxc(b);null===e||e.Jd()||b.Jd()||(b=_geo.c.f.Fa.Sf(b,e,!1,!1,!1),this.bMa=null===a?b:_geo.c.f.Fa.multiply(b,a));return this.bMa};b.prototype.lB=function(a,b){var e,d;0<=a&&1>=a&&0<=b&&1>=b?(d=Math.min(a,b),e=Math.max(a,b)):(d=0,e=1);if(this.Dza.top!==e||this.Dza.bottom!==d)this.Dza.top=e,this.Dza.bottom=d;this.Qa();return this};b.prototype.Qa=
function(a,b){_geo.c.V.Ya.prototype.Qa.call(this,a,b);this.Ai();return this};return b}();
_geo.c.qa.Jc.Dxa=function(){function b(a){_geo.c.f.Gd.call(this);this.wa=null;this.setData(a)}_geo.c.na(b,_geo.c.f.Gd);_geo.c.ja(b,"geotoolkit.widgets.timeseries.TimeSeriesTooltipObject");b.aa={MV:"change"};b.prototype.setData=function(a){null==a&&(a={});this.wa=_geo.c.Ja(a,{id:a.id,color:a.color,name:a.name,indextext:a.indextext,valuetext:a.valuetext,unittext:a.unittext});this.Pa(b.aa.MV,this,null);return this};b.prototype.getData=function(){return this.wa};return b}();
_geo.c.qa.Jc.$eb=function(){function b(a){null==a&&(a={});a=_geo.c.Ja(a,{group:a.group,layer:a.manipulatorlayer,name:"groupTool"});this.mi=a.group;this.Kh=new _geo.c.selection.Qm;this.eD=5;this.tz=2;var b={pointerdown:this.tg.bind(this),pointermove:this.oe.bind(this),pointerup:this.wf.bind(this),layer:a.layer};_geo.c.controls.ia.oc.call(this,b,a.name);this.xN=new _geo.c.controls.bc.i4(null,this.$b);this.xN.sc(this.$b.sb());this.xN.register(this.mi.getClassName(),new _geo.c.controls.bc.CR.fIa)}_geo.c.na(b,
_geo.c.controls.ia.oc);_geo.c.ja(b,"geotoolkit.widgets.timeseries.GroupTool");b.prototype.tg=function(a){var b=a.Nk(),e=this.gF(a),d=e?this.eD:this.tz;this.T$=!1;var f=null,h=this.Fe(this.$b,a),l=this.Kh.select(this.$b,h.x,h.y,d);if(l&&0<l.length)for(e=l.length-1;1<=e;e--){var k=l[e];if("function"===typeof k.ix){f=k.ix();f.yq(k);f.setPosition(h.x,h.y);this.Me=f;this.T$=!0;a.stopPropagation(!0);return}}h=this.Fe(b,a);b=this.Kh.select(b,h.x,h.y,d);b=null==b?null:b.filter(function(a){return a===this.mi}.bind(this));
h=this.Fe(this.$b,a);if(b&&0<b.length)for(e=b.length-1;0<=e;e--)if(f=this.xN.ix(b[e])){f.sk(b[e]);f.setPosition(h.x,h.y);this.xN.AO(f);this.Me=f;this.T$=!0;a.stopPropagation(!0);return}this.Me=f;this.xN.AO(null)};b.prototype.oe=function(a){if(this.Me){var b=this.Fe(this.$b,a);this.Me.move(b.x,b.y);this.Me.Ub().ma();a.stopPropagation(!0,!0)}};b.prototype.wf=function(a){this.Me&&(a.stopPropagation(!0),this.Me.setPosition(null),this.Me=null)};return b}();
_geo.c.qa.Jc.nW=function(){function b(a,b,f,g){_geo.c.data.v3.call(this);this.oN=[];this.ov=[];this.xEb=!0===g;this.data=a;this.timeStamp=-1;this.kg=null;this.wu=[];this.lR=this.pR=0;this.bp=b;this.bR=null!=f?f:null;this.YC=!0;this.qga=0}var a=_geo.c.qa.Jc.gc.mIa,g=_geo.c.qa.Jc.gc.EJa;_geo.c.na(b,_geo.c.data.v3);_geo.c.ja(b,"geotoolkit.widgets.timeseries.ScaledData");b.prototype.JD=function(a){this.YC=!0;this.timeStamp=-1;this.bp=a;return this};b.prototype.wF=function(a){this.YC=!0;this.timeStamp=
-1;this.bR=null!=a?a:null;return this};b.prototype.tw=function(){return this.data};b.prototype.SA=function(){return this.data.Nh(a).mh()};b.prototype.RA=function(){return this.data.Nh(a).Yh()};b.prototype.ad=function(){return this.data.Nh(g).mh()};b.prototype.kd=function(){return this.data.Nh(g).Yh()};b.prototype.$f=function(){this.pL();return null!=this.kg?this.kg:[]};b.prototype.ud=function(){this.pL();return null!=this.kg?this.kg.length:0};b.prototype.sm=function(){return!0};b.prototype.zh=function(){return _geo.c.data.Pj.xC};
b.prototype.qL=function(a){return null!=this.bp?this.bp.cx(a):a};b.prototype.FI=function(a){return null!=this.bp?this.bp.reverse(a):a};b.prototype.Uj=function(){return this.timeStamp};b.prototype.f7a=function(){return this.data.Nh(a).Uj()};b.prototype.pL=function(){if(this.f7a()!==this.timeStamp||!this.kg){var b=this.data.Nh(a),d=this.data.Nh(g),f;if(null==d||null==b||1>d.ud()||1>b.ud())this.kg=[];else{null==this.kg&&(this.kg=[]);var h=this.wu.length,l,k=this.qga;if(this.YC)for(l=0;l<h;l++)f=d.Da(l),
this.wu[l].setPosition(b.Da(l)),this.wu[l].mb(f),this.wu[l].kV(f),this.wu[l].eV(0),this.wu[l].Lv(!0),this.wu[l].QFa(l);for(l=h;l<b.ud();l++)f=d.Da(l),this.wu.push(new _geo.c.data.cS(b.Da(l),f,0,!0,l));h>b.ud()&&this.wu.splice(b.ud(),h-b.ud());if(null!=this.bR){if(l=new _geo.c.data.uea(this.wu),d=new _geo.c.data.uea,f=this.wu.length-k,this.YC&&(k=0,f=this.wu.length),0!==f&&this.bR.oo(k,f,l,d))if(this.qga=d.M7a(),h=d.$f(),this.YC)this.kg=h,this.pR=d.Xr(),this.lR=d.lt();else{for(l=this.kg.length-1;0<=
l;l--)if(this.kg[l].tq()===k){k=l;break}f=Math.min(this.kg.length,h.length+k);for(l=k;l<f;l++)this.kg[l]=h[l-k];if(l<this.kg.length)this.kg.splice(l,this.kg.length-l);else for(l=f-k;l<h.length;l++)this.kg.push(h[l]);this.pR=Math.min(this.pR,d.Xr());this.lR=Math.max(this.lR,d.lt())}}else if(this.YC)for(k=0,this.kg=[],l=0;l<this.wu.length;l++)this.kg[l]=this.wu[l].clone();else for(l=k=this.kg.length;l<this.wu.length;l++)this.kg.push(this.wu[l].clone());if(null!=this.bp)for(l=k=this.YC?0:k;l<this.kg.length;++l)f=
this.bp.cx(this.kg[l].Da()),this.xEb&&(0,window.isNaN)(f)&&!(0,window.isNaN)(this.kg[l].fJ())?this.kg[l].mb(0):this.kg[l].mb(f);if(this.YC){k=this.ov?this.ov.length:0;d=this.kg.length;this.ov=this.ov||[];this.oN=this.oN||[];for(l=0;l<d;++l)this.ov[l]=this.kg[l].Da(),this.oN[l]=this.kg[l].Xc();k>d&&(this.ov.splice(d,k-d),this.oN.splice(d,k-d))}else if(k=this.ov?this.ov.length:0,d=this.kg.length,k<d)for(this.ov=this.ov||[],this.oN=this.oN||[],l=k;l<d;++l)this.ov[l]=this.kg[l].Da(),this.oN[l]=this.kg[l].Xc();
this.timeStamp=b.Uj();this.YC=!1}}};b.prototype.AU=function(){return this.ov};b.prototype.pU=function(){return this.oN};b.prototype.Vq=function(a,b){if(null==this.kg&&(this.pL(),null==this.kg))throw Error("scaled is empty");return this.mtb(this.kg,a,b)};b.prototype.mtb=function(a,d,f){if(null==a)throw Error("samples is empty");var g=0<a.length&&a[a.length-1].Xc()<a[0].Xc();g&&a.reverse();d=b.findIndex(a,d,a.length);0>d&&(d=~d);0<d&&d--;f=b.findIndex(a,f,a.length);0>f&&(f=~f,f>=a.length&&(f=a.length-
1));f<a.length&&f++;g&&a.reverse();return new _geo.c.f.Range(d,f)};b.findIndex=function(a,b,f){var g=0;--f;if(0<=f)for(var l=f;g<=l;){f=g+l>>1;if(1E-10>=Math.abs(a[f].Xc()-b))return f;a[f].Xc()<b?g=f+1:l=f-1}return~g};b.prototype.Xr=function(){return this.pR};b.prototype.IJ=function(a){this.pR=a;return this};b.prototype.lt=function(){return this.lR};b.prototype.HJ=function(a){this.lR=a;return this};b.prototype.Da=function(a){this.pL();var b=this.$f();return this.Msa(a,b)};b.prototype.Msa=function(a,
b){this.pL();if(null==b||0===b.length||b[0].Xc()>a||b[b.length-1].Xc()<a||a<this.SA()||a>this.RA())return Number.NaN;if(b[0].Xc()===a)return b[0].Da();if(b[b.length-1].Xc()===a)return b[b.length-1].Da();for(var f=1;f<b.length;++f)if(!(b[f].Xc()<a))return b[f].Xc()===a?b[f].Da():this.jca(b,a,f-1,f);return Number.NaN};b.prototype.jca=function(a,b,f,g){if(b<a[f].Xc()||b>a[g].Xc())return Number.NaN;var l=a[g].Da()-a[f].Da();0===l?a=a[g].Da():(g=a[g].Xc()-a[f].Xc(),a=a[f].Da()+(b-a[f].Xc())*l/g);return a};
b.prototype.la=function(){var a=_geo.c.Mc(this);a.data=this.data;a.scaledsamples=this.$f();a.minwraplevel=this.Xr();a.maxwraplevel=this.lt();a.conversion=this.bp;a.interpolation=this.bR;return a};b.prototype.ka=function(a){if(null==a)return this;a=_geo.c.yc(a);_geo.c.Nc(this,a);a.hasOwnProperty("data")&&(this.data=a.data);a.hasOwnProperty("scaledsamples")&&(this.kg=a.scaledsamples);a.hasOwnProperty("minwraplevel")&&this.IJ(a.minwraplevel);a.hasOwnProperty("maxwraplevel")&&this.HJ(a.maxwraplevel);
a.hasOwnProperty("conversion")&&this.JD(a.conversion);a.hasOwnProperty("interpolation")&&(this.bR=a.interpolation);return this};b.prototype.fO=function(){return this.Uj()!==this.f7a()};return b}();
_geo.c.qa.Jc.pE=function(){function b(a){this.Jh=this.fh=this.wa=this.Vb=null;a=_geo.c.Ja(a,{data:null!=a.data?a.data:null,linestyle:null!=a.linestyle?a.linestyle:{},markervisible:null!=a.markervisible?a.markervisible:!1,curvevisible:null!=a.curvevisible?a.curvevisible:!0,marker:null!=a.marker?a.marker:null,decimationSpacing:"number"===typeof a.decimationSpacing?a.decimationSpacing:1,spline:null!=a.spline?a.spline:!1,values:null!=a.values?a.values:null});_geo.c.qa.Jc.pP.call(this,a);this.hpa=this.fpa=
this.zlb=null;this.vu=_geo.c.data.FC.Kr.$J;this.at=!0;this.wD=_geo.c.data.gm.Rh.gj;this.gB=this.Of=null;this.rta=this.gO=!1;this.setData(a.data);this.FPb=a.markervisible;this.Mib=a.curvevisible;this.rpb(a.marker);this.Hmc=1<=a.decimationSpacing?a.decimationSpacing:1;this.FRb=a.spline;this.Md=a.values.visible;this.Nmb=(new _geo.c.V.Ya).ee(new _geo.c.fa.Uk).cb(new _geo.c.f.Rect(0,0,100,100)).Ea(a.values.fillstyle).Ba(a.values.linestyle);this.QNa=(new _geo.c.V.$.Text({textstyle:{color:a.values.color,
font:a.values.font}})).Ld(a.values.anchor).qb({left:5,top:5,width:90,height:90});this.Nmb.Ia(this.QNa);this.noc=a.values.format}var a=_geo.c.qa.Jc.gc.mIa,g=_geo.c.qa.Jc.gc.EJa,e=1E-5;_geo.c.na(b,_geo.c.qa.Jc.pP);_geo.c.ja(b,"geotoolkit.widgets.timeseries.TimeSeriesLine");b.aa={ff:"updated",Hwa:"limitschanged"};b.prototype.DVa=function(a){this.Ai();var b=this.ha();return this.rB(b,!!a)};b.prototype.mh=function(){return this.fh};b.prototype.J8=function(a){this.fh!==a&&(this.fh=a,this.DVa());return this};
b.prototype.Yh=function(){return this.Jh};b.prototype.lZ=function(a){this.Jh!==a&&(this.Jh=a,this.DVa());return this};b.prototype.sC=function(a){this.vu=a;return this};b.prototype.$z=function(a){this.at=a;return this};b.prototype.$f=function(){var a=this.jRa();return a?a.$f():[]};b.prototype.ZCa=function(){var a=this.jRa(),b=a.$f();return{values:a.AU(),indices:a.pU(),samples:b}};b.prototype.getData=function(){return this.wa};b.prototype.setData=function(b){null!=this.wa&&(this.wa.pb(_geo.c.data.aa.ff,
this.eQa()),this.wa.Nh(a).pb(_geo.c.data.yl.aa.Pm,this.hsa()),this.wa.Nh(g).pb(_geo.c.data.yl.aa.Pm,this.Lsa()));this.wa=b;null!=this.wa&&(this.wa.tb(_geo.c.data.aa.ff,this.eQa()),this.wa.Nh(a).tb(_geo.c.data.yl.aa.Pm,this.hsa()),this.wa.Nh(g).tb(_geo.c.data.yl.aa.Pm,this.Lsa()));this.DF();this.DVa();return this};b.prototype.cC=function(){return this.wD};b.prototype.Zz=function(a){if(a){var b=a.toLowerCase();if("linear"===b)a=_geo.c.data.gm.Rh.gj;else if("middlestep"===b)a=_geo.c.data.gm.Rh.sS;else if("endstep"===
b)a=_geo.c.data.gm.Rh.gS;else if("startstep"===b)a=_geo.c.data.gm.Rh.vK;else throw Error("Interpolation type "+a+" is not defined!");a!==this.wD&&(this.wD=a,this.Er=!0,this.ma())}return this};b.prototype.rB=function(a,b){var e=this.ha();if(!e||e.Jd())return this;null!==this.wa&&(this.Er=!b,this.ma(a));return this};b.prototype.xFa=function(a){this.rta!==a&&(this.rta=a,this.Er=!0,this.ma());return this};b.prototype.Pba=function(){return this.rta};b.prototype.rJ=function(){return this.gO};b.prototype.gV=
function(a){this.gO!==a&&(this.gO=a,this.Er=!0,this.ma());return this};b.prototype.uCb=function(a){this.Of=a;this.gB=new _geo.c.data.FC(this.Of);this.gB.$z(this.at);this.gB.sC(this.vu);return this};b.prototype.jRa=function(a){"undefined"===typeof a&&(a=this.at);return!0===a?this.gB:this.Of};b.prototype.tEb=function(a){a=a.$a();var b=this.at;this.gB.DUa(a);this.gB.$z(b);this.gB.sC(this.vu);this.gB.$f()};b.prototype.DF=function(){if(null!=this.wa&&(null==this.Of||this.Of.tw()!==this.wa||this.Er)){var a=
null,a=this.fh,b=this.Jh,g=this.BCa(),l=g.bottom,g=g.top,a=this.gO?a>=e?new _geo.c.data.zM(1,10,_geo.c.f.Math.log10(a),_geo.c.f.Math.log10(b),l,g,e,new _geo.c.data.Vwa(_geo.c.f.Math.log10(a),_geo.c.f.Math.log10(b))):b>=e?new _geo.c.data.zM(1,10,_geo.c.f.Math.log10(e),_geo.c.f.Math.log10(b),l,g,e,new _geo.c.data.Vwa(_geo.c.f.Math.log10(e),_geo.c.f.Math.log10(b))):new _geo.c.data.zM(1,10,Number.NaN,Number.NaN,l,g,e,new _geo.c.data.Vwa(Number.NaN,Number.NaN)):new _geo.c.data.Vwa(a,b),b=new _geo.c.data.q9;
this.wD===_geo.c.data.gm.Rh.sS?b.AX(new _geo.c.data.gm(_geo.c.data.gm.Rh.sS)):this.wD===_geo.c.data.gm.Rh.gS?b.AX(new _geo.c.data.gm(_geo.c.data.gm.Rh.gS)):this.wD===_geo.c.data.gm.Rh.vK&&b.AX(new _geo.c.data.gm(_geo.c.data.gm.Rh.vK));l=this.wa;0===b.cR.length&&(b=null);null!=this.Of&&this.Of.tw()===l?this.Of.JD(a).wF(b):(a=new _geo.c.qa.Jc.nW(l,a,b,this.rJ()&&this.Pba()),this.uCb(a));this.Er=!1}};b.prototype.p$a=function(){this.DVa()};b.prototype.ot=function(a){this.DVa(!1)};b.prototype.eQa=function(){null==
this.zlb&&(this.zlb=function(){this.ot()}.bind(this));return this.zlb};b.prototype.hsa=function(){null==this.fpa&&(this.fpa=function(a,b,e){a=null!=e?e.name:null;"unit"===a?this.p$a():"state"===a&&this.ot(e.value)}.bind(this));return this.fpa};b.prototype.Lsa=function(){null==this.hpa&&(this.hpa=function(a,b,e){a=null!=e?e.name:null;"unit"===a?this.p$a():"state"===a&&this.ot(e.value)}.bind(this));return this.hpa};b.prototype.Ai=function(){this.Vb=null;if(null!=this.wa&&!1!==this.ob()){var a=(this.Of.ad()-
this.fh)/(this.Jh-this.fh),b=(this.Of.kd()-this.fh)/(this.Jh-this.fh);this.Vb=new _geo.c.f.Rect(this.Of.SA(),a,this.Of.RA(),b);_geo.c.qa.Jc.pP.prototype.Ai.call(this)}};b.prototype.ha=function(){return null!=this.Vb?this.Vb.ii():null};b.prototype.Ff=function(a){if(!this.ob())return!1;var b=this.ha();if(!b)return!0;var e=b.ba(),g=b.da();if(g<=Number.MIN_VALUE&&e<=Number.MIN_VALUE)return!1;if(g>Number.MIN_VALUE&&e>Number.MIN_VALUE)return _geo.c.V.$.Uh.dR(b,this.kc(),a.zk());(e=this.kc())&&(b=e.yb(b));
var k=a.zk();a=Math.max(k.ua(),b.ua());e=Math.min(k.ya(),b.ya());g=Math.max(k.ta(),b.ta());b=Math.min(k.xa(),b.xa());return!(e<a||b<g)};b.prototype.qAb=function(a){this.Mib=a;return this};b.prototype.tZb=function(){return this.Mib};b.prototype.Aa=function(a){_geo.c.qa.Jc.pP.prototype.Aa.call(this,a);if(!(!1===this.ob()||null==this.ab()||null==this.wa||0>=this.wa.Dl())){a=null!=this.sb()?a.Qc(this.sb()):a;var b=this.ab();a.Ba(b);var e=a.Ye(),g=a.$a(),k=a.Oca(b),e=_geo.c.f.Rect.S1(e,k,k),m=g.xe(e);
this.DF();this.tEb(a);var q=this.jRa(),g=q.AU(),e=q.pU(),k=q.$f();if(null!=g&&null!=e&&null!=k){var p=-1,u=-1,m=q.Vq(m.ua(),m.ya()),t=m.nb(),m=m.wb();if(this.Mib){for(q=t;q<m;q++)(0,window.isNaN)(g[q])&&-1===p||(-1===p&&(p=q),(0,window.isNaN)(g[q])&&(this.FRb?(p=new _geo.c.V.$.TH(e.slice(p,u+1),g.slice(p,u+1)),p.Ba(b),p.Aa(a)):a.Fm(e,g,p,u),p=u+1),u=q);-1!==p&&-1!==u&&p!==u&&(this.FRb?(q=Array.prototype.slice.call(e,p,u+1),u=Array.prototype.slice.call(g,p,u+1),p=new _geo.c.V.$.TH(q,u),p.Ba(b),p.Aa(a)):
a.Fm(e,g,p,u))}if(this.FPb||this.Md)for(q=t;q<m;q++)0===q%this.Hmc&&(this.FPb&&(this.CPb.Ic(e[q],g[q]),this.CPb.Aa(a)),this.Md&&(this.QNa.Ic(e[q],g[q]),this.QNa.dta=!0,b=k[q].t$a,this.QNa.Ec(this.noc.format(b)),b=this.QNa.yj(a),b=new _geo.c.f.Rect({x:e[q]+b.ba()/5,y:g[q]+b.da()/5,width:6*b.ba()/5,height:6*b.da()/5}),this.Nmb.Ga(b),this.Nmb.Aa(a)))}}};b.prototype.rpb=function(a){a=_geo.c.Ja(a,{alignment:_geo.c.f.Ca.ub,width:7,height:7,sizeIsInDeviceSpace:!0,painter:_geo.c.V.$.nc.DHa,linestyle:new _geo.c.attributes.za({color:"black"}),
fillstyle:new _geo.c.attributes.Ha({color:"black"})});this.iKc={width:a.width,height:a.height};this.CPb=new _geo.c.V.$.Symbol(a);return this};b.prototype.Ra=function(){null!=this.wa&&(this.wa.pb(_geo.c.data.aa.ff,this.eQa()),this.wa.Nh(a).pb(_geo.c.data.yl.aa.Pm,this.hsa()),this.wa.Nh(g).pb(_geo.c.data.yl.aa.Pm,this.Lsa()));_geo.c.V.$.Uh.prototype.Ra.call(this)};return b}();
_geo.c.qa.Jc.exa=function(){function b(a,g,e){_geo.c.f.Gd.call(this);a=_geo.c.Ja({},{value:null!=a?a:Number.MIN_VALUE,originalCurve:null!=g?g:null,type:null!=e?e:b.zJa.Tv});this.loc=this.Zx=null;this.ck=a.value;this.zs=a.type;this.WW=a.originalCurve;this.oPb=this.hv=this.XNb=this.wa=null;null!=this.WW&&this.WW.tb(_geo.c.qa.Jc.pE.aa.Hwa,this.mc());this.SD()}_geo.c.na(b,_geo.c.f.Gd);_geo.c.ja(b,"geotoolkit.widgets.timeseries.ReferenceLine");b.zJa={Xb:"top",Tv:"value",Qf:"bottom"};b.prototype.SD=function(){var a=
this.WW.mh(),g=this.WW.Yh(),e=this.va();this.oPb=e.clone();e=new _geo.c.f.Rect(e.ua(),a,e.ya(),g);e=_geo.c.f.Rect.S1(e,2,2);a=(g=g<=a)?e.xa():e.ta();g=g?e.ta():e.xa();switch(this.zs){case b.zJa.Xb:this.ck=g;break;case b.zJa.Qf:this.ck=a;break}a=e.ua();e=e.ya();null==this.wa?(this.wa=new _geo.c.data.dh({cols:[{type:"number",data:[a,e]},{type:"number",data:[this.ck,this.ck]}]}),this.XNb=new _geo.c.data.Ps(this.wa)):(this.wa.VEa(0,2),this.wa.y4a([[a,this.ck],[e,this.ck]]));this.Zx=this.Vb=null};b.prototype.$f=
function(){var a=this.va();null!=a&&a.Ij(this.oPb)||this.SD();null==this.Zx&&null!=this.wa&&(a=_geo.c.qa.Jc.gc.$f(this.wa,this.WW.mh(),this.WW.Yh()),this.Zx=a.jB,this.loc=a.NBc);return this.Zx};b.prototype.Ai=function(){this.Vb=null;if(null!=this.wa&&null!=this.WW){var a=this.wa.Nh(_geo.c.qa.Jc.gc.mIa),b=this.wa.Nh(_geo.c.qa.Jc.gc.EJa),e=this.WW.mh(),d=this.WW.Yh(),f=(b.mh()-e)/(d-e),b=(b.Yh()-e)/(d-e);this.Vb=new _geo.c.f.Rect(a.mh(),f,a.Yh(),b)}};b.prototype.ha=function(){null==this.Vb&&this.Ai();
return null!=this.Vb?this.Vb.ii():null};b.prototype.getData=function(){return this.XNb};b.prototype.va=function(){return this.WW.getParent().va()};b.prototype.mc=function(){null==this.hv&&(this.hv=function(a,b,e){this.Zx=null;this.SD()}.bind(this));return this.hv};b.prototype.Ra=function(){null!=this.WW&&this.WW.pb(_geo.c.qa.Jc.pE.aa.Hwa,this.mc());_geo.c.f.Gd.prototype.Ra.call(this)};return b}();
_geo.c.qa.Jc.hfa=function(){function b(a,b,e){this.WDc=a;this.jB=new d(a);this.oq=-1;this.aPa=e;this.Qz=b;this.ge=!0;this.minValue=0;this.maxValue=1;this.l6b=-1E-10;this.b6b=1+1E-10}function a(a,b,d,e){this.Zh=new g(a,b);this.Aj=new g(d,e);this.empty=!1}function g(a,b){this.mp=a;this.XE=this.ut=b;this.ep=null}function e(a,b,d,g,m){_geo.c.qa.Jc.pP.call(this);a=_geo.c.Ja(a,{curve1:a instanceof _geo.c.qa.Jc.pE?a:null,curve2:b instanceof _geo.c.qa.Jc.pE||b instanceof _geo.c.qa.Jc.exa?b:null,fillstyle:d instanceof
_geo.c.attributes.Ha?d:null,positivefillstyle:g instanceof _geo.c.attributes.Ha?g:null,negativefillstyle:m instanceof _geo.c.attributes.Ha?m:null,filltype:null});null==a.filltype&&(a.filltype=null!=a.negativefillstyle?null!=a.positivefillstyle?e.Bg.QV:e.Bg.ps:null!=a.positivefillstyle?e.Bg.Ss:e.Bg.nP);switch(a.filltype){case e.Bg.nP:null==a.fillstyle&&(a.fillstyle=null);null==a.negativefillstyle&&(a.negativefillstyle=a.fillstyle);null==a.positivefillstyle&&(a.positivefillstyle=a.fillstyle);break;
case e.Bg.QV:null==a.fillstyle&&(a.fillstyle=null);null==a.negativefillstyle&&(a.negativefillstyle=null);null==a.positivefillstyle&&(a.positivefillstyle=null);break;case e.Bg.ps:null==a.negativefillstyle&&(a.negativefillstyle=null!=a.fillstyle?a.fillstyle:null);null==a.positivefillstyle&&(a.positivefillstyle=a.negativefillstyle);null==a.fillstyle&&(a.fillstyle=a.negativefillstyle);break;case e.Bg.Ss:null==a.positivefillstyle&&(a.positivefillstyle=null!=a.fillstyle?a.fillstyle:null);null==a.negativefillstyle&&
(a.negativefillstyle=a.positivefillstyle);null==a.fillstyle&&(a.fillstyle=a.positivefillstyle);break}this.ve=a.fillstyle;this.uz=a.positivefillstyle;this.KB=a.negativefillstyle;this.xE=null==a.filltype?null:a.filltype;this.Ea(null!=a.fillstyle?a.fillstyle:null);this.FK=a.curve1;this.u$=a.curve2;this.ek(this.ve,_geo.c.V.Node.aa.nd,this.mc());this.ek(this.KB,_geo.c.V.Node.aa.nd,this.mc());this.ek(this.uz,_geo.c.V.Node.aa.nd,this.mc());this.X6b=function(a,b,d){null!==this.FK&&b===this.FK&&(a=this.FK.BCa(),
this.lB(a.top,a.bottom))}.bind(this);this.FK.tb(_geo.c.qa.Jc.pP.aa.f$a,this.X6b);a=this.FK.BCa();this.lB(a.top,a.bottom)}_geo.c.na(e,_geo.c.qa.Jc.pP);_geo.c.ja(e,"geotoolkit.widgets.timeseries.TimeSeriesFill");e.Bg={nP:"single",QV:"dual",Ss:"positive",ps:"negative",WIa:"positiveandnegative"};g.prototype={reset:function(){this.mp=null;this.XE=this.ut=-1;this.ep=null}};a.prototype={ah:function(a,b,d,e){this.Zh.mp=a;this.Zh.ut=b;this.Zh.XE=b;this.Aj.mp=d;this.Aj.ut=e;this.Aj.XE=e;this.empty=!1},XDa:function(a,
b){var d=-1===this.Zh.ut?this.Zh.mp.y:a[this.Zh.ut],e=-1===this.Aj.ut?this.Aj.mp.y:b[this.Aj.ut];return d<=e},cta:function(a,b){var d=-1===this.Zh.ut?this.Zh.mp.x:a[this.Zh.ut],e=-1===this.Aj.ut?this.Aj.mp.x:b[this.Aj.ut];return d<=e},reset:function(){this.empty=!0;this.Zh.reset();this.Aj.reset()}};var d=function(){function a(b){this.Zx=b;this.wk=b.length;this.vk=1>this.wk?1:b[b.length-1].Xc()<b[0].Xc()?-1:1;this.TJc=1>this.wk?0:b[0].Xc();this.vKc=1>this.wk?0:b[b.length-1].Xc()}a.prototype.ud=function(){return this.wk};
a.prototype.get=function(a){return 1===this.vk?this.Zx[a]:this.Zx[this.wk-1-a]};return a}();b.Otb=function(a,b,d){var e=b.x;b=b.y;var g=d.x,q=d.y;d=q-b;0!==d&&(q=b+(a-e)*d/(g-e));return q};b.prototype={gp:function(){return this.oq},dUa:function(a){this.oq!==a&&(this.oq=a,-1!==this.oq&&(this.Ls=this.jB.get(this.oq).Xc(),this.Bs=this.jB.get(this.oq+1).Xc(),this.Bx=this.Da(this.oq),this.mD=this.Da(this.oq+1)))},Ga:function(a,b){this.minValue=a;this.maxValue=b},Da:function(a){return(0,window.isNaN)(this.jB.get(a).Da())?
Number.NaN:this.jB.get(a).Da()},$a:function(){return this.Qz},reset:function(a,b,d){this.aPa=0;this.next(a,b);0<this.oq&&!(0,window.isNaN)(this.jB.get(this.oq-1).Da())&&this.dUa(this.oq-1)},next:function(a,b){var d=!0;this.Io=null;if(!this.ge)return d;if(-1===this.oq){var e=_geo.c.qa.Jc.gc.Vq(this.WDc,a,b).nb();this.oq=e-1}if(-1<this.oq&&this.jB.get(this.oq).Xc()>b)return this.ge=!1,d;for(e=this.oq+1;e<this.jB.wk-1;e++)if(!(this.jB.get(e+1).Xc()<a))if((0,window.isNaN)(this.jB.get(e).Da())||(0,window.isNaN)(this.jB.get(e+
1).Da()))d=!1;else return this.dUa(e),d;this.ge=!1;return d},nsa:function(a){var b=this.Ls,d=this.Bx,e=this.Bs,g=this.mD;if(a<b||a>e)throw Error("Target depth should be inside Samples range ["+b+" <= "+a+" => "+e);var q=g-d;0!==q&&(g=d+(a-b)*q/(e-b));return new _geo.c.f.sa(a,g)},yUa:function(a){this.Io=this.nsa(a)},L4b:function(a){return!(a.Bs<this.Ls||a.Ls>this.Bs)},Nd:function(a){var b=null!=this.Io?this.Io.x:this.Ls,d=null!=this.Io?this.Io.y:this.Bx,e=null!=a.Io?a.Io.x:a.Ls,g=null!=a.Io?a.Io.y:
a.Bx,b=this.upb(b,d,this.Bs,this.mD,e,g,a.Bs,a.mD);return null!=b?(this.Io=b,a.Io=b,!0):!1},upb:function(a,b,d,e,g,q,p,u){if(a===d&&g===p)return a=Math.min(b,e),b=Math.max(b,e),e=Math.min(q,u),q=Math.max(q,u),b<=e||q<=a?null:new _geo.c.f.sa(g,(b+e)/2);var t=(u-q)*(d-a)-(p-g)*(e-b);if(0!==t){var r=((d-a)*(b-q)-(e-b)*(a-g))/t;if(r<this.l6b||r>this.b6b)return null;r=((p-g)*(b-q)-(u-q)*(a-g))/t;return r<this.l6b||r>this.b6b?null:new _geo.c.f.sa(a+r*(d-a),b+r*(e-b))}return null}};e.prototype.gY=function(){return this.xE};
e.prototype.cV=function(a){this.xE=a;this.$ja();return this};e.prototype.Bb=function(){return this.ve};e.prototype.Ea=function(a,b){if(this.ve===a)return this;this.ve=_geo.c.attributes.Ha.Sg(this,this.ve,a,b,this.mc());this.Qa().ma();return this};e.prototype.XG=function(){return this.uz};e.prototype.GO=function(a,b){if(this.uz===a)return this;this.uz=_geo.c.attributes.Ha.Sg(this,this.uz,a,b,this.mc());this.Qa().ma();return this};e.prototype.WG=function(){return this.KB};e.prototype.FO=function(a,
b){if(this.uz===a)return this;this.KB=_geo.c.attributes.Ha.Sg(this,this.KB,a,b,this.mc());this.Qa().ma();return this};e.prototype.ska=function(d,e,g){var k=this.FK.$f(),m=this.u$.$f(),q=new b(k,this.getParent().ae(),0),p=new b(m,this.getParent().ae(),0);q.reset(e,g,0);p.reset(e,g,0);for(var u=null;q.ge&&p.ge;){for(var t=!0;q.ge&&p.ge&&t;){for(;q.ge&&q.Bs<p.Ls;)q.next(e,g);for(t=!1;p.ge&&p.Bs<q.Ls;)p.next(e,g),t=!0}if(!q.ge||!p.ge)break;if(null==u||!0===u.empty)q.Ls!==p.Ls?q.Ls<p.Ls?(q.yUa(p.Ls),null==
u?u=new a(q.Io,q.gp(),null,p.gp()):u.ah(q.Io,q.gp(),null,p.gp())):(p.yUa(q.Ls),null==u?u=new a(null,q.gp(),p.Io,p.gp()):u.ah(null,q.gp(),p.Io,p.gp())):null==u?u=new a(null,q.gp(),null,p.gp()):u.ah(null,q.gp(),null,p.gp());else{q.Nd(p)&&(u.Zh.ep=q.Io,u.Aj.ep=p.Io,this.qua(d,u,k,m),u=new a(q.Io,q.gp()+1,p.Io,p.gp()+1));t=!1;if(q.Bs===p.Bs){u.Zh.XE=q.gp()+1;u.Aj.XE=p.gp()+1;var t=q.next(e,g),r=p.next(e,g),t=!t||!r}else if(q.Bs<p.Bs){if(u.Zh.XE=q.gp()+1,r=q.Bs,(t=!q.next(e,g))||!q.ge)u.Aj.ep=p.nsa(r)}else if(u.Aj.XE=
p.gp()+1,r=p.Bs,(t=!p.next(e,g))||!p.ge)u.Zh.ep=q.nsa(r);t&&(u.empty||this.qua(d,u,k,m),u.reset())}}null==u||u.empty||this.qua(d,u,k,m)};e.prototype.qua=function(a,b,d,e){if(this.ab()&&this.ab().El()){var g=this.ab(),q=this.Bb(),p=this.WG(),u=this.XG();this.af=null;this.rua(a,b,d,e);this.af=g;this.TU=this.MU=this.fillStyle=null;this.rua(a,b,d,e);this.fillStyle=q;this.MU=p;this.TU=u}else this.rua(a,b,d,e)};e.prototype.rua=function(a,g,l,k){var m=new _geo.c.f.sa(0,0);l=new d(l);k=new d(k);var q=new _geo.c.f.sa(Number.NaN,
Number.POSITIVE_INFINITY),p=new _geo.c.f.sa(Number.NaN,Number.POSITIVE_INFINITY);a.Ba(this.ab());a.beginPath();null!=g.Zh.mp?(m.x=g.Zh.mp.x,m.y=g.Zh.mp.y):(m.x=l.get(g.Zh.ut).Xc(),m.y=l.get(g.Zh.ut).Da(),m.y<q.y&&(q.x=m.x,q.y=m.y));a.moveTo(m.x,m.y);var u,t;for(t=null!=g.Zh.mp?g.Zh.ut:g.Zh.ut+1;t<=g.Zh.XE;t++)u=l.get(t),m.x=u.Xc(),m.y=u.Da(),null!=g.Zh.mp&&g.Zh.mp.x>m.x||null!=g.Zh.ep&&g.Zh.ep.x<m.x||(m.y<q.y&&(q.x=m.x,q.y=m.y),a.lineTo(m.x,m.y));null!=g.Zh.ep&&(m.x=g.Zh.ep.x,m.y=g.Zh.ep.y,a.lineTo(m.x,
m.y));null!=g.Aj.ep&&(m.x=g.Aj.ep.x,m.y=g.Aj.ep.y,a.lineTo(m.x,m.y));for(t=g.Aj.XE;t>=g.Aj.ut;t--)l=k.get(t),m.x=l.Xc(),m.y=l.Da(),null!=g.Aj.mp&&g.Aj.mp.x>m.x||null!=g.Aj.ep&&g.Aj.ep.x<m.x||(m.y<p.y&&(p.x=m.x,p.y=m.y),a.lineTo(m.x,m.y));null!=g.Aj.mp&&(m.x=g.Aj.mp.x,m.y=g.Aj.mp.y,a.lineTo(m.x,m.y));a.closePath();(0,window.isNaN)(q.x)&&(0,window.isNaN)(p.x)?g=this.Bb():this.d1===e.Bg.nP?g=this.YI(0):((0,window.isNaN)(q.x)&&(q.x=p.x,q.y=b.Otb(p.x,g.Zh.mp,g.Zh.ep)),(0,window.isNaN)(p.x)&&(p.x=q.x,p.y=
b.Otb(q.x,g.Aj.mp,g.Aj.ep)),g=q.y<=p.y?this.YI(-1):this.YI(1));g&&(a.Ea(g,this.ha()),a.Wh(),a.ro(null));this.af&&a.stroke()};e.prototype.ha=function(){var a=null!=this.FK?this.FK.ha():null,b=null!=this.u$?this.u$.ha():null,d=Math.min(null!=a?a.ua():Number.POSITIVE_INFINITY,null!=b?b.ua():Number.POSITIVE_INFINITY),a=Math.max(null!=a?a.ya():Number.NEGATIVE_INFINITY,null!=b?b.ya():Number.NEGATIVE_INFINITY);return(0,window.isFinite)(d)&&(0,window.isFinite)(a)?(b=this.BCa(),new _geo.c.f.Rect(d,b.bottom,
a,b.top)):null};e.prototype.YI=function(a){return 0===a?this.Bb():-1===a?this.xE===e.Bg.Ss?null:this.KB:this.xE===e.Bg.ps?null:this.uz};e.prototype.Aa=function(a){_geo.c.qa.Jc.pP.prototype.Aa.call(this,a);a=null!=this.sb()?a.Qc(this.sb()):a;var b=a.Ye(),d=a.$a();0!==d.hU()&&(b=_geo.c.f.Rect.S1(b,2,0),b=d.xe(b),this.FK instanceof _geo.c.qa.Jc.pE?this.FK.DF():this.FK.SD(),this.u$ instanceof _geo.c.qa.Jc.pE?this.u$.DF():this.u$.SD(),d=b.ua(),b=b.ya(),this.ska(a,d,b))};e.prototype.Ra=function(){null!=
this.FK&&this.FK.pb(_geo.c.qa.Jc.pP.aa.f$a,this.X6b);_geo.c.qa.Jc.pP.prototype.Ra.call(this)};return e}();
_geo.c.qa.Jc.z3=function(){function b(b){_geo.c.V.$.Uh.call(this,b);null==b&&(b={});this.pa=_geo.c.Ja(b,{id:null!=b.id?b.id:"",point:null!=b.point?b.point:new _geo.c.f.sa(0,0),label:null!=b.label?b.label:"",symbol:null!=b.symbol?b.symbol:null,linestyle:null!=b.linestyle?b.linestyle:g.clone(),textbackground:null!=b.textbackground?b.textbackground:e.clone(),fillstyle:null!=b.fillstyle?b.fillstyle:d.clone(),textstyle:null!=b.textstyle?b.textstyle:a.clone(),symbolsize:null!=b.symbolsize?b.symbolsize:
10,timeseriesobject:null!=b.timeseriesobject?b.timeseriesobject:null});this.nr=this.pa.id;this.Rkb=this.xg=this.Wi=null;this.Y5=this.pa.timeseriesobject;null!==this.Y5&&this.Y5.tb(_geo.c.qa.Jc.JC.aa.Iwa,this.Q7a());this.B4b();this.C4b()}var a=new _geo.c.attributes.kb({font:"12px Arial",color:"black"}),g=new _geo.c.attributes.za({color:"black",width:1,pixelsnapmode:{x:!0,y:!0}}),e=new _geo.c.attributes.Ha({color:"transparent"}),d=new _geo.c.attributes.Ha({color:"transparent"});_geo.c.na(b,_geo.c.V.$.Uh);
_geo.c.ja(b,"geotoolkit.widgets.timeseries.Annotation");b.prototype.B4b=function(){this.Wi=new _geo.c.V.$.Text({sizeisindevicespace:!0});this.Wi.Bj(_geo.c.V.$.Text.ef.Gr);this.Wi.Ld(_geo.c.f.Ca.qh)};b.prototype.C4b=function(){null!=this.pa.symbol&&(this.xg=new _geo.c.V.$.Symbol({sizeisindevicespace:!0,painter:this.pa.symbol}),this.xg.Ld(_geo.c.f.Ca.ub))};b.prototype.Q7a=function(){null==this.Rkb&&(this.Rkb=function(){if(null!=this.Y5){var a=this.Y5.wi();if(null!=a.curve&&null!=a.curve.getData()){var b=
this.pa.point.ga(),d=a.curve,e=d.getData(),d=e.Nh(0).ye(),e=e.Nh(1).ye(),b=d.indexOf(b),e=e[b],b=d[b],d=a.Hca.va(),e=a.Hca.vq()?(e-d.ta())/d.da():(d.xa()-e)/d.da();this.bb({point:new _geo.c.f.sa(b,e)})}}}.bind(this));return this.Rkb};b.prototype.update=function(){var a=this.pa.point,b=this.Za(),d=.01,e=null!=this.pa.linestyle?this.pa.linestyle.ba():1;null!=b&&(d=b.hk(new _geo.c.f.Fc(0,5+e)).da());b=_geo.c.f.Ca.qh;.1<a.ea()&&(b=_geo.c.f.Ca.uj,d*=-1);null==this.xg&&null!=this.pa.symbol&&this.C4b();
null!=this.xg&&null!=this.pa.symbol?(this.xg.Ic(a.clone()),this.xg.Ty(this.pa.symbol),this.xg.Ba(this.pa.linestyle),this.xg.Ea(this.pa.fillstyle),this.xg.gd(this.pa.symbolsize,this.pa.symbolsize)):this.xg=null;null==this.Wi&&""!==this.pa.label&&this.B4b();null!=this.Wi&&""!==this.pa.label?(this.Wi.Ec(this.pa.label),this.Wi.Ic(a.clone().Eb(a.ea()+d)),this.Wi.Ob(this.pa.textstyle),this.Wi.Ea(this.pa.textbackground),this.Wi.Ld(b)):this.Wi=null;return this};b.prototype.bb=function(a){if(null==a)return this;
this.pa=_geo.c.Ja(a,this.pa);null!=a.timeseriesobject&&(null!=this.Y5&&this.Y5.pb(_geo.c.qa.Jc.JC.aa.Iwa,this.Q7a()),this.Y5=this.pa.timeseriesobject,this.Y5.tb(_geo.c.qa.Jc.JC.aa.Iwa,this.Q7a()));this.update();return this};b.prototype.xb=function(){return this.pa};b.prototype.ka=function(a){return this.bb(a)};b.prototype.la=function(){return this.xb()};b.prototype.Aa=function(a){null!=this.xg&&this.xg.Aa(a);null!=this.Wi&&this.Wi.Aa(a)};b.prototype.Ra=function(){null!=this.Y5&&this.Y5.pb(_geo.c.qa.Jc.JC.aa.Iwa,
this.Q7a());_geo.c.f.Gd.prototype.Ra.call(this)};return b}();
_geo.c.qa.Jc.gHa=function(){function b(b){_geo.c.V.$.Uh.call(this,b);null==b&&(b={});this.pa=_geo.c.Ja(b,{id:null!=b.id?b.id:"",point:null!=b.point?b.point:new _geo.c.f.sa(0,0),text:null!=b.text?b.text:"",textvisible:null!=b.textvisible?b.textvisible:!0,linevisible:null!=b.linevisible?b.linevisible:!0,linestyle:null!=b.linestyle?b.linestyle:g,fillstyle:null!=b.fillstyle?b.fillstyle:e,textstyle:null!=b.textstyle?b.textstyle:a,alignment:null!=b.alignment?b.alignment:_geo.c.f.Ca.qh,angle:null!=b.angle?
b.angle:0});this.Wx=this.Wi=null;this.ah()}var a=new _geo.c.attributes.kb({font:"12px Arial",color:"black"}),g=new _geo.c.attributes.za({color:"black",width:1,pixelsnapmode:{x:!0,y:!0}}),e=new _geo.c.attributes.Ha({color:"transparent"});_geo.c.na(b,_geo.c.V.$.Uh);_geo.c.ja(b,"geotoolkit.widgets.timeseries.AnnotationLine");b.prototype.bb=function(a){if(null==a)return this;this.pa=_geo.c.Ja(a,this.pa);this.update();return this};b.prototype.xb=function(){return this.pa};b.prototype.ka=function(a){return this.bb(a)};
b.prototype.la=function(){return this.xb()};b.prototype.ah=function(){var a=this.pa.point;this.Wi=(new _geo.c.V.$.Text({text:this.pa.text,ax:a.ga(),ay:a.ea(),fillstyle:this.pa.fillstyle,textstyle:this.pa.textstyle,alignment:this.pa.alignment})).Ma(this.pa.textvisible);this.Wi.je(_geo.c.f.Fa.hp(this.pa.angle,this.Wi.LA(),this.Wi.my()));this.Wx=(new _geo.c.V.$.Jr({from:new _geo.c.f.sa(a.ga(),0),to:new _geo.c.f.sa(a.ga(),1),linestyle:this.pa.linestyle})).Ma(this.pa.linevisible).Qb("annotation")};b.prototype.update=
function(){var a=this.pa.point;null!=this.Wi&&(this.Wi.Ec(this.pa.text),this.Wi.bs(a.ga()),this.Wi.Hs(a.ea()),this.Wi.Ld(this.pa.alignment),this.Wi.Ob(this.pa.textstyle),this.Wi.Ea(this.pa.fillstyle),this.Wi.je(_geo.c.f.Fa.hp(this.pa.angle,this.Wi.LA(),this.Wi.my())),this.Wi.Ma(this.pa.textvisible));null!=this.Wx&&(this.Wx.Hv(new _geo.c.f.sa(a.ga(),0),_geo.c.f.sa(a.ga(),1)),this.Wx.Ba(this.pa.linestyle),this.Wx.Ma(this.pa.linevisible))};b.prototype.Aa=function(a){this.Wx&&this.pa.linevisible&&this.Wx.Aa(a);
this.Wi&&this.pa.textvisible&&this.Wi.Aa(a)};return b}();
_geo.c.qa.Jc.LZa=function(){function b(a,b){_geo.c.controls.$.gE.call(this,a);this.Wi=this.Wx=this.xW=null;this.RS=[];this.xga=this.Eh=this.tX=null;this.yE="9px Arial";this.MP=this.Hkb=this.poa=this.ve=this.Ys=this.ie=null;null==b&&(b={});var e=_geo.c.Ja(b,{formatter:b.formatter instanceof _geo.c.f.MF?b.formatter:null,margintext:null!=b.margintext?b.margintext:2,font:null!=b.font?b.font:this.yE,height:null!=b.height?b.height:20,internalpadding:null!=b.internalpadding?b.internalpadding:4,linestyle:null!=
b.linestyle?b.linestyle:new _geo.c.attributes.za({color:"rgba(128, 128, 128, 0.5)",width:1,pixelsnapmode:{x:!0,y:!0}}),fillstyle:null!=b.fillstyle?b.fillstyle:new _geo.c.attributes.Ha({color:"rgba(250, 250, 250, 0.95)"}),fixedwidth:b.fixedwidth,labelcolor:null});this.ah();this.bb(e)}_geo.c.na(b,_geo.c.controls.$.gE);_geo.c.ja(b,"geotoolkit.widgets.timeseries.TimeSeriesLineLegendItem");b.prototype.ah=function(){this.Ed(!0);this.Gf(!0);this.Nvb();this.oh();this.Bd().tb(_geo.c.qa.Jc.JC.aa.Jfb,this.vi())};
b.prototype.bb=function(a){if(null==a)return this;a=_geo.c.yc(a);var b=_geo.c.Ja(a,{});b.linestyle=null;b.fillstyle=null;_geo.c.Nc(this,b);a.hasOwnProperty("height")&&a.height&&(this.Eh=a.height);a.hasOwnProperty("formatter")&&a.formatter&&(this.MP=a.formatter);a.hasOwnProperty("margintext")&&null!=a.margintext&&(this.xga=a.margintext);a.hasOwnProperty("font")&&null!=a.font&&(this.yE=a.font);a.hasOwnProperty("internalpadding")&&null!=a.internalpadding&&(this.ie=a.internalpadding);a.hasOwnProperty("linestyle")&&
void 0!==a.linestyle&&(this.Ys=_geo.c.attributes.za.gb(a.linestyle));a.hasOwnProperty("fillstyle")&&void 0!==a.fillstyle&&(this.ve=_geo.c.attributes.Ha.gb(a.fillstyle));a.hasOwnProperty("fixedwidth")&&void 0!==a.fixedwidth&&(this.poa=a.fixedwidth);a.hasOwnProperty("labelcolor")&&void 0!==a.labelcolor&&(this.Hkb=a.labelcolor);this.oh();return this};b.prototype.ka=function(a){return this.bb(a)};b.prototype.Nvb=function(){var a=[];this.Gh();this.xW=new _geo.c.V.$.Th;a.push(this.xW);this.Wx=new _geo.c.V.$.Jr;
a.push(this.Wx);a.push(this.Wi=new _geo.c.V.$.Text);this.Ia(a)};b.prototype.EPa=function(a){return null!=this.MP?this.MP.format(a):a};b.prototype.oh=function(){var a=this.Eh,b=a,e=this.ie,d=e/2,f=2*e,h=this.Bd(),l=h.wi(),k=this.Bd().xr().unit instanceof _geo.c.f.Dq?this.Bd().xr().unit.Yd():this.Bd().xr().unit,m=l.name,q=null==this.Bd().xr()||null==this.Bd().xr().unit?"":" ("+k+")",p=null==l.curve?null:h.gxc(),h=null==l.curve?null:l.curve.ab().Kc();null==l.curve||l.curve.ab().clone();k=l.OI;l=new _geo.c.attributes.kb({color:"black",
font:this.yE});p=this.EPa(p);m+=null==p?"":" "+p;m+=null==q?"":q;q=null!=this.poa?this.poa:_geo.c.Sa.TextMetrics.measureText(m,l).ba()+b+f+2*this.xga;this.wl(q).ik(a).Gf(!0);this.xW.Tb(new _geo.c.f.Rect(d,d,q-d,a-d)).Ba(this.Ys).Ea(this.ve);var u=1;this.RS.forEach(function(a){u=this.ip(a);this.removeChild(a)}.bind(this));this.RS=[];null!=k&&(d=(a-f+1)/2,q=null,q=null==k.top?null:k.top.fillstyle,q=(new _geo.c.V.$.Th({left:e,top:e+0*d,width:b-f,height:d})).Ba(null).Ea(q),this.bh(u,q),this.RS.push(q),
q=null==k.bottom?null:k.bottom.fillstyle,f=(new _geo.c.V.$.Th({left:e,top:e+1*d,width:b-f,height:d})).Ba(null).Ea(q),this.bh(u,f),this.RS.push(f));null!=this.Wx&&this.Wx.Hv({from:new _geo.c.f.sa(e,a/2),to:new _geo.c.f.sa(b-e,a/2)}).Ba(new _geo.c.attributes.za({color:h}));null!=this.Wi&&(this.Wi.ka({text:m,ax:b+this.xga,ay:a/2,textstyle:l}),this.Wi.Ld(_geo.c.f.Ca.We));null==this.Hkb?this.Wi.ec().ed(h):this.Wi.ec().ed(this.Hkb)};b.prototype.vi=function(){null==this.tX&&(this.tX=function(a,b,e){this.oh()}.bind(this));
return this.tX};b.prototype.Ra=function(){null!=this.Bd()&&this.Bd().pb(_geo.c.qa.Jc.JC.aa.Jfb,this.vi());_geo.c.controls.$.gE.prototype.Ra.call(this)};return b}();
_geo.c.qa.Jc.MZa=function(){function b(a,b){_geo.c.controls.$.gE.call(this,a);this.Wi=this.xg=this.Wx=this.xW=null;this.RS=[];this.MP=null;this.xga=0;this.yE="12px Arial";this.aSb=this.jd="";this.ck=this.Eh=this.X4=this.mQ=0;this.lnb=!0;this.iga=this.poa=0;this.ve=this.Ys=null;this.YPb=!0;this.vOb=this.orb.bind(this);this.kNa=!1;null==b&&(b={});var e=_geo.c.Ja(b,{formatter:b.formatter instanceof _geo.c.f.MF?b.formatter:null,margintext:null!=b.margintext?b.margintext:2,font:null!=b.font?b.font:this.yE,
textcolor:null!=b.textcolor?b.textcolor:"black",symbolsize:null!=b.symbolsize?b.symbolsize:0,height:null!=b.height?b.height:20,internalpadding:null!=b.internalpadding?b.internalpadding:4,externalpadding:null!=b.externalpadding?b.externalpadding:4,valuevisible:null!=b.valuevisible?b.valuevisible:!0,linestyle:null!=b.linestyle?b.linestyle:new _geo.c.attributes.za({color:"rgba(0, 0, 0, 0)",width:1,pixelsnapmode:{x:!0,y:!0}}),fillstyle:null!=b.fillstyle?b.fillstyle:new _geo.c.attributes.Ha({color:"rgba(0, 0, 0, 0)"}),
fixedwidth:b.fixedwidth,nanvisibility:null!=b.nanvisibility?b.nanvisibility:!0,formatdatahandler:null,singlerow:null!=b.singlerow?b.singlerow:!1});this.ah();this.bb(e)}_geo.c.na(b,_geo.c.controls.$.gE);_geo.c.ja(b,"geotoolkit.widgets.timeseries.TimeSeriesTooltipLegendItem");b.prototype.ah=function(){this.Ed(!0);this.Gf(!1);this.Nvb();this.oh()};b.prototype.bb=function(a){if(null==a)return this;a=_geo.c.yc(a);var b=_geo.c.Ja(a,{});b.linestyle=null;b.fillstyle=null;_geo.c.Nc(this,b);a.hasOwnProperty("height")&&
(this.Eh=a.height);a.formatter&&(this.MP=a.formatter);null!=a.margintext&&(this.xga=a.margintext);null!=a.font&&(this.yE=a.font);null!=a.textcolor&&(this.aSb=a.textcolor);null!=a.symbolsize&&(this.mQ=a.symbolsize);null!=a.externalpadding&&(this.X4=a.externalpadding);null!=a.internalpadding&&(this.iga=a.internalpadding);null!=a.linestyle&&(this.Ys=_geo.c.attributes.za.gb(a.linestyle));null!=a.fillstyle&&(this.ve=_geo.c.attributes.Ha.gb(a.fillstyle));void 0!==a.fixedwidth&&(this.poa=a.fixedwidth);void 0!==
a.valuevisible&&(this.lnb=a.valuevisible);void 0!==a.nanvisibility&&(this.YPb=a.nanvisibility);a.formatdatahandler&&(this.vOb=a.formatdatahandler);a.hasOwnProperty("singlerow")&&(this.kNa=a.singlerow);this.oh();return this};b.prototype.ka=function(a){return this.bb(a)};b.prototype.Nvb=function(){this.ie=10;var a=[];this.Gh();a.push(this.xg=new _geo.c.V.$.Symbol({alignment:_geo.c.f.Ca.ub,width:this.mQ,height:this.mQ,sizeIsInDeviceSpace:!0}));a.push(this.jd=new _geo.c.V.$.Text);a.push(this.ck=new _geo.c.V.$.Text);
this.Ia(this.xW=new _geo.c.V.$.Th);this.Ia(a)};b.prototype.EPa=function(a){return null!=this.MP?this.MP.format(a):a};b.prototype.orb=function(a){return{id:a.id,name:a.name,symbol:a.symbol,valuetext:this.EPa(a.valuetext),unittext:a.unittext}};b.prototype.oh=function(){var a=0,b=0,e=0,d,f,h=this.vOb(this.Bd().getData()),l=null!=this.xg&&null!=h.symbol?this.mQ:0,k=new _geo.c.attributes.kb({color:this.aSb,font:this.yE}),m=this.X4+this.iga;null!=this.jd&&(f=h.name,this.kNa&&(f+=" - "+h.valuetext,f+=h.unittext),
d=_geo.c.Sa.TextMetrics.measureText(f,k),a=l>d.da()?l:d.da(),e+=a,b=d.ba(),this.jd.ka({text:f,ax:m+l+(0!==l?this.xga:0),ay:m+a/2,textstyle:k}),this.jd.Ld(_geo.c.f.Ca.We));null!=this.xg&&null!=h.symbol&&(this.xg.ka({ax:m+l/2,ay:m+e/2,alignment:_geo.c.f.Ca.ub,width:l,height:l,sizeIsInDeviceSpace:!0,painter:h.symbol.TN().getClassName(),linestyle:h.symbol.ab(),fillstyle:h.symbol.Bb()}),b+=this.xga+l);e+=this.xga;this.ck.Ma(this.kNa?!1:this.lnb);null==this.ck||!0!==this.lnb||this.kNa||(f="",h.valuetext&&
(f+=h.valuetext),h.unittext&&(f+=h.unittext),d=_geo.c.Sa.TextMetrics.measureText(f,k),a=d.da(),b=d.ba()>b?d.ba():b,this.ck.ka({text:f,ax:m,ay:m+e+a/2,textstyle:k}),e+=d.da(),this.ck.Ld(_geo.c.f.Ca.We),!1===this.YPb&&(0,window.isNaN)(h.valuetext)?this.Ma(!1):this.Ma(!0));b=null!=this.poa?this.poa-2*(this.X4+this.iga):b;this.xW.Tb(new _geo.c.f.Rect(this.X4,this.X4,this.X4+b+2*this.iga,this.X4+e+2*this.iga)).Ba(this.Ys).Ea(this.ve);b+=2*(this.X4+this.iga);e=this.kNa?e+(this.X4+this.iga):e+2*(this.X4+
this.iga);this.wl(b).ik(e).Gf(!0);this.Pa(_geo.c.controls.$.gE.aa.MV,this)};return b}();
_geo.c.qa.bLb=function(){function b(a){this.pa={pos:void 0!==a.pos?a.pos:"right",thumbwidth:void 0!==a.thumbwidth?a.thumbwidth:20,thumbsize:void 0!==a.thumbsize?a.thumbsize:null,thumbminsize:void 0!==a.thumbminsize?a.thumbminsize:30};this.saa=this.Ao=this.$o=null;"top"===this.pa.pos.toLowerCase()||"bottom"===this.pa.pos.toLowerCase()?this.JB=!0:this.JB=!1;this.ah()}_geo.c.ja(b,"geotoolkit.widgets.ScrollBar");b.prototype.ah=function(){function a(f){d=!1;_geo.c.controls.f.Vo.oU("pointermove").forEach(function(a){window.removeEventListener(a,
b,!0)});_geo.c.controls.f.Vo.oU("pointerup").forEach(function(b){window.removeEventListener(b,a,!0)});null!=e.saa&&e.saa(0,0,e.pa.pos);f.stopPropagation();f.preventDefault()}function b(a){if(d){var g=0,g=e.JB?a.clientX:a.clientY,k=g-f,k=e.og+k;f=g;0<=k&&k+e.myc()<=e.X8a()&&(e.og=k,e.Ybc(k),e.qcc(k*e.jlb));a.stopPropagation();a.preventDefault()}}this.taa=window.document.createElement("div");this.gi=window.document.createElement("div");this.gi.className="scrollbar_track";this.xI=window.document.createElement("div");
this.xI.className="scrollbar_thumb";this.gi.appendChild(this.xI);this.taa.appendChild(this.gi);this.taa.style.position="absolute";this.gi.style.position="absolute";this.gi.style.left="0px";this.gi.style.top="0px";this.gi.style.right="0px";this.gi.style.bottom="0px";this.gi.style.border="1px solid gray";this.xI.style.border="1px outset black";this.xI.style.left="1px";this.xI.style.top="1px";this.JB?(this.xI.style.bottom="1px",this.taa.style.height=this.pa.thumbwidth+"px","top"===this.pa.pos.toLowerCase()?
this.taa.style.top="0px":this.taa.style.bottom="0px"):(this.xI.style.right="1px",this.taa.style.width=this.pa.thumbwidth+"px","left"===this.pa.pos.toLowerCase()?this.taa.style.left="0px":this.taa.style.right="0px");var e=this,d=!1,f=0;_geo.c.controls.f.Vo.oU("pointerdown").forEach(function(h){this.xI.addEventListener(h,function(h){d=!0;f=e.JB?h.clientX:h.clientY;e.qcc(e.og*e.jlb);_geo.c.controls.f.Vo.oU("pointermove").forEach(function(a){window.addEventListener(a,b,!0)});_geo.c.controls.f.Vo.oU("pointerup").forEach(function(b){window.addEventListener(b,
a,!0)})},!1)}.bind(this))};b.prototype.Yq=function(){return this.taa};b.prototype.iZ=function(a,b){if(null!=a&&null!=b)if(this.$o=new _geo.c.f.Rect(a),this.Ao=new _geo.c.f.Rect(b),this.Ttb()>this.kvb()&&0!==this.X8a()-this.Pmb-2){this.xI.style.visibility="visible";var e=0;null!=this.pa.thumbsize?e=this.pa.thumbsize:(e=this.X8a()/this.Ttb()*this.kvb(),e<this.pa.thumbminsize&&(e=this.pa.thumbminsize));this.Pmb=Math.floor(e);this.jlb=(this.Ttb()-this.kvb())/(this.X8a()-this.Pmb-2);this.og=Math.round(this.zyc()/
this.jlb);this.oGc(this.Pmb);this.Ybc(this.og)}else this.xI.style.visibility="hidden";else this.xI.style.visibility="hidden"};b.prototype.kvb=function(){return this.JB?this.Ao.ba():this.Ao.da()};b.prototype.Ttb=function(){return this.JB?this.$o.ba():this.$o.da()};b.prototype.myc=function(){return this.JB?this.xI.offsetWidth:this.xI.offsetHeight};b.prototype.X8a=function(){return this.JB?this.gi.offsetWidth:this.gi.offsetHeight};b.prototype.oGc=function(a){this.JB?this.xI.style.width=a+"px":this.xI.style.height=
a+"px"};b.prototype.Ybc=function(a){this.JB?this.xI.style.left=a+"px":this.xI.style.top=a+"px"};b.prototype.zyc=function(){return this.JB?this.Ao.ua()-this.$o.ua():this.Ao.ta()-this.$o.ta()};b.prototype.qcc=function(a){this.JB?this.translate(this.Ao.ua()-this.$o.ua()-a,0):this.translate(0,this.Ao.ta()-this.$o.ta()-a)};b.prototype.translate=function(a,b){if(0!==a||0!==b)null!=this.saa&&this.saa(a,b,this.pa.pos),this.Ao.zb(this.Ao.ga()-a),this.Ao.Eb(this.Ao.ea()-b)};b.prototype.bcb=function(a){this.saa=
a};return b}();
_geo.c.qa.cLb=function(){function b(a){this.pa={pos:void 0!==a.pos?a.pos:"right",manual:void 0!==a.manual?a.manual:!1,scrollenabled:void 0!==a.scrollenabled?a.scrollenabled:!1,autohide:void 0!==a.autohide?a.autohide:!1,thumbwidth:void 0!==a.thumbwidth?a.thumbwidth:20,thumbsize:void 0!==a.thumbsize?a.thumbsize:null,thumbminsize:void 0!==a.thumbminsize?a.thumbminsize:30,cornersize:void 0!==a.cornersize?a.cornersize:a.thumbwidth?a.thumbwidth:20};!0===this.pa.manual&&(this.pa.scrollenabled=!1);this.tn=
{};this.cjb={};this.saa=this.pnb=this.Ao=this.$o=null;this.ah()}var a=.375;_geo.c.ja(b,"geotoolkit.widgets.ScrollPanel");b.prototype.ah=function(){function b(a,d,f){e.pa.manual?null!=e.saa&&e.saa(a*e.cjb[f],d*e.cjb[f]):(e.Ao.zb(e.Ao.ga()-a),e.Ao.Eb(e.Ao.ea()-d),e.Fp.style.left=-e.Ao.ga()+"px",e.Fp.style.top=-e.Ao.ea()+"px")}var e=this;this.lpa=_geo.c.window.document.createElement("div");this.lpa.className="overview";this.$_=_geo.c.window.document.createElement("div");this.$_.style.position="absolute";
this.$_.style.left="0px";this.$_.style.right="0px";this.$_.style.top="0px";this.$_.style.bottom="0px";this.$_.style.overflow="hidden";this.pa.manual?this.Fp=this.lpa:(this.Fp=_geo.c.window.document.createElement("div"),this.Fp.appendChild(this.lpa),this.lpa.addEventListener("DOMSubtreeModified",function(){e.ai()},!1),this.pa.scrollenabled&&("onmousewheel"in this.Fp?this.Fp.addEventListener("mousewheel",function(b){e.Fp.style.top=-(-(0,window.parseInt)(_geo.c.window.getComputedStyle(e.Fp).top)-Math.round(a*
b.wheelDelta))+"px";e.ai()}):this.Fp.addEventListener("wheel",function(b){e.Fp.style.top=-(-(0,window.parseInt)(_geo.c.window.getComputedStyle(e.Fp).top)-Math.round(-40*a*b.deltaY))+"px";e.ai()})));this.$_.appendChild(this.Fp);for(var d=this.pa.pos.split(" "),f,h=0;h<d.length;++h)0<=["left","right","top","bottom"].indexOf(d[h].toLowerCase())&&(f=d[h].toLowerCase(),void 0===this.tn[f]&&(this.tn[f]=new _geo.c.qa.bLb({pos:f,thumbwidth:this.pa.thumbwidth,thumbsize:this.pa.thumbsize,thumbminsize:this.pa.thumbminsize}),
this.tn[f].bcb(b),this.$_.appendChild(this.tn[f].Yq())));this.Fp.style.position="absolute";this.Fp.style.left="0px";this.Fp.style.right="0px";this.Fp.style.top="0px";this.Fp.style.bottom="0px";for(f in this.tn)this.tn.hasOwnProperty(f)&&(this.Fp.style[f]=this.pa.autohide?0:this.pa.thumbwidth+"px","left"===f||"right"===f?(this.tn[f].Yq().style.top="0px",this.tn[f].Yq().style.bottom="0px",this.tn.top&&(this.tn[f].Yq().style.top=this.pa.cornersize+"px"),this.tn.bottom&&(this.tn[f].Yq().style.bottom=
this.pa.cornersize+"px")):(this.tn[f].Yq().style.left="0px",this.tn[f].Yq().style.right="0px",this.tn.left&&(this.tn[f].Yq().style.left=this.pa.cornersize+"px"),this.tn.right&&(this.tn[f].Yq().style.right=this.pa.cornersize+"px")),this.pa.autohide&&(this.tn[f].Yq().style.visibility="hidden"))};b.prototype.Jba=function(){return this.$_};b.prototype.z1b=function(){return this.lpa};b.prototype.iZ=function(a,b,d){var f;if(null!=a&&null!=b&&null!=d)for(f in this.$o=new _geo.c.f.Rect(a),this.Ao=new _geo.c.f.Rect(b),
this.pnb=new _geo.c.f.Rect(d),this.tn)this.tn.hasOwnProperty(f)&&(this.cjb[f]="top"===f||"bottom"===f?this.pnb.ba()/this.Ao.ba():this.pnb.da()/this.Ao.da());for(f in this.tn)this.tn.hasOwnProperty(f)&&this.tn[f].iZ(a,b);return this};b.prototype.ai=function(){var a;this.$o=new _geo.c.f.Rect(0,0,this.lpa.offsetWidth,this.lpa.offsetHeight);if(this.pa.autohide){var b=new _geo.c.f.Rect(0,0,this.$_.offsetWidth,this.$_.offsetHeight);for(a in this.tn)this.tn.hasOwnProperty(a)&&(this.Fp.style[a]="0px",this.tn[a].Yq().style.visibility=
"hidden");this.$o.ba()<=b.ba()&&this.$o.da()<=b.da()?this.Ao=b:(this.$o.ba()>b.ba()&&(this.tn.top&&(this.tn.top.Yq().style.visibility="visible",this.Fp.style.top=this.pa.thumbwidth+"px"),this.tn.bottom&&(this.tn.bottom.Yq().style.visibility="visible",this.Fp.style.bottom=this.pa.thumbwidth+"px"),b.Hb(this.Fp.offsetHeight)),this.$o.da()>b.da()&&(this.tn.left&&(this.tn.left.Yq().style.visibility="visible",this.Fp.style.left=this.pa.thumbwidth+"px"),this.tn.right&&(this.tn.right.Yq().style.visibility=
"visible",this.Fp.style.right=this.pa.thumbwidth+"px"),b.rb(this.Fp.offsetWidth)),this.$o.ba()>b.ba()&&(this.tn.top&&(this.tn.top.Yq().style.visibility="visible",this.Fp.style.top=this.pa.thumbwidth+"px"),this.tn.bottom&&(this.tn.bottom.Yq().style.visibility="visible",this.Fp.style.bottom=this.pa.thumbwidth+"px"),b.Hb(this.Fp.offsetHeight)),this.Ao=b,this.Ao.zb(-(0,window.parseInt)(_geo.c.window.getComputedStyle(this.Fp).left)),this.Ao.Eb(-(0,window.parseInt)(_geo.c.window.getComputedStyle(this.Fp).top)))}else this.Ao=
new _geo.c.f.Rect(-(0,window.parseInt)(_geo.c.window.getComputedStyle(this.Fp).left),-(0,window.parseInt)(_geo.c.window.getComputedStyle(this.Fp).top),this.Fp.offsetWidth,this.Fp.offsetHeight);this.Ao.ga()<this.$o.ga()&&this.Ao.zb(this.$o.ga());this.Ao.ea()<this.$o.ea()&&this.Ao.Eb(this.$o.ea());this.Ao.ya()>this.$o.ya()&&this.Ao.zb(Math.max(this.$o.ga(),Math.round(this.$o.ya()-this.Ao.ba())));this.Ao.xa()>this.$o.xa()&&this.Ao.Eb(Math.max(this.$o.ea(),Math.round(this.$o.xa()-this.Ao.da())));this.Fp.style.left=
-this.Ao.ga()+"px";this.Fp.style.top=-this.Ao.ea()+"px";for(a in this.tn)this.tn.hasOwnProperty(a)&&this.tn[a].iZ(this.$o,this.Ao)};b.prototype.bcb=function(a){this.saa=a;return this};return b}();
_geo.c.qa.fm=function(){function b(a){a=_geo.c.Ja(a,{bounds:new _geo.c.f.Rect(0,0,300,300)});a.hasOwnProperty("children")&&delete a.children;_geo.c.V.Ya.call(this,a);this.mz=new _geo.c.controls.ia.Ol(this,"compositeTool")}_geo.c.hB.nIa.qEc(function(a){var b=a.vf();return null!=b&&b instanceof _geo.c.qa.fm?(new _geo.c.controls.ia.lhb(a,!0)).add(b.ld()):null});_geo.c.na(b,_geo.c.V.Ya);_geo.c.ja(b,"geotoolkit.widgets.BaseWidget");b.prototype.th=function(){return this};b.prototype.HGa=function(){return _geo.c.f.Bf.ib()};
b.prototype.nq=function(a){this.mz.add(a);return this};b.prototype.fx=function(a){this.mz.remove(a);return this};b.prototype.ld=function(){return this.mz};b.prototype.hGa=function(a){this.mz=a;return this};b.prototype.Pg=function(a){return null==a||1>a.length?null:this.mz.Pg(a)};b.prototype.bH=function(a){return null==a?null:this.mz.bH(a)};b.prototype.vJ=function(){return this.mz.vJ()};b.prototype.Ra=function(){this.Ey()||(this.mz.Ra(),this.mz=null,_geo.c.V.Ya.prototype.Ra.call(this))};b.prototype.cB=
function(a,b){var e=new _geo.c.xd.D9(b||_geo.c.qa.jf.he.Kp()),e=e.AQ(a);e.ap("#widget",this);e.Bd(this.getClassName(),"template")};b.prototype.uF=function(a){a=new _geo.c.xd.D9(a||_geo.c.qa.jf.he.Kp());return a.ER("template",this)};b.prototype.getData=function(a){return{}};b.prototype.la=function(){var a=_geo.c.V.Ya.prototype.la.call(this);a.hasOwnProperty("children")&&delete a.children;return a};b.prototype.ka=function(a){if(null==a)return this;a=_geo.c.yc(a);a.hasOwnProperty("children")&&delete a.children;
_geo.c.V.Ya.prototype.ka.call(this,a);return this};return b}();
_geo.c.qa.Kd.c9=function(){function b(a){_geo.c.f.Gd.call(this);this.Jk=a;this.fL=!0;this.TM=!1}_geo.c.na(b,_geo.c.f.Gd);b.aa={V9:"StateChanged"};b.prototype.Ra=function(){var a=this;_geo.c.f.Gd.prototype.Ra.call(this);for(var b in a)a.hasOwnProperty(b)&&"object"===typeof a[b]&&(a[b]=null)};b.prototype.LL=function(){return this.Jk};b.prototype.ot=function(a){this.Pa(_geo.c.qa.Kd.c9.aa.V9,this,a);return this};b.prototype.ob=function(){return this.fL};b.prototype.Ma=function(a){if(this.fL===a)return this;
this.fL=a;this.ot("Visible");return this};b.prototype.usb=function(){return this.TM};b.prototype.zc=function(a){if(this.TM===a)return this;this.TM=a;this.ot("Enabled");return this};return b}();
_geo.c.qa.Kd.jIa=function(){function b(){}b.prototype.getName=_geo.c.Ua;b.prototype.Qb=_geo.c.Ua;b.prototype.ne=_geo.c.Ua;b.prototype.Ec=_geo.c.Ua;b.prototype.Yd=_geo.c.Ua;b.prototype.Sk=_geo.c.Ua;b.prototype.Zi=_geo.c.Ua;b.prototype.Ic=_geo.c.Ua;b.prototype.JL=_geo.c.Ua;b.prototype.Ks=_geo.c.Ua;b.prototype.xb=_geo.c.Ua;b.prototype.bb=_geo.c.Ua;return b}();
_geo.c.qa.Kd.z3=function(){function b(a){_geo.c.f.Gd.call(this);a=_geo.c.Ja(a,{name:"",text:"",target:null,anchor:null,options:null},!0);this.jd=a.name;this.vc=a.text;this.cy=a.target;this.wW=a.anchor;this.xg=a.symbol;this.pa=a.options}_geo.c.na(b,_geo.c.f.Gd);_geo.c.Rg(b,_geo.c.qa.Kd.jIa);b.prototype.getName=function(){return this.jd};b.prototype.Qb=function(a){if(this.jd===a)return this;this.jd=a;this.Pa(_geo.c.f.Gd.aa.Pm,this);return this};b.prototype.ne=function(){return this.vc};b.prototype.Ec=
function(a){if(this.vc===a)return this;this.vc=a;this.Pa(_geo.c.f.Gd.aa.Pm,this);return this};b.prototype.Yd=function(){return this.xg};b.prototype.Sk=function(a){if(this.xg===a)return this;this.xg=a;this.Pa(_geo.c.f.Gd.aa.Pm,this,"Symbol");return this};b.prototype.Zi=function(){return this.wW};b.prototype.Ic=function(a){if(this.wW.MI(a))return this;this.wW=a;this.Pa(_geo.c.f.Gd.aa.Pm,this);return this};b.prototype.JL=function(){return this.cy};b.prototype.Ks=function(a){if(this.cy===a)return this;
this.cy=a;this.Pa(_geo.c.f.Gd.aa.Pm,this);return this};b.prototype.xb=function(){return this.pa};b.prototype.bb=function(a){if(this.pa===a)return this;this.pa=_geo.c.Ja(a,this.pa||{});this.Pa(_geo.c.f.Gd.aa.Pm,this,"Options");return this};b.gb=function(a){return _geo.c.$l(a,_geo.c.qa.Kd.jIa)?a:new _geo.c.qa.Kd.z3(a)};return b}();
_geo.c.qa.Kd.EV=function(){function b(a){this.Cfa=!1;this.pA=a}b.prototype.cancel=function(){this.Cfa=!0;return this};b.prototype.sx=function(){return this.Cfa};b.prototype.Db=function(){return this.pA};b.prototype.Hab=function(a){this.pA=a;return this};return b}();
_geo.c.qa.Kd.ks=function(){function b(a,b){_geo.c.qa.Kd.c9.call(this,a);this.Rd=_geo.c.f.Pb.jc;this.H_=this.p2a=this.$b=this.bL=this.co=null;b=_geo.c.Ja(b,{overlay:null,cancreate:!0,candelete:!0,canedit:!0,canmove:!0});this.Elb=b.overlay;this.ah();this.bb(b);this.o2a=function(){this.Rta()}.bind(this);this.Uc().tb(_geo.c.V.Node.aa.jK,this.o2a);_geo.c.window.addEventListener("resize",this.o2a)}var a=new _geo.c.f.Fc(150,50),g=new _geo.c.f.Bl(-10,-10);_geo.c.na(b,_geo.c.qa.Kd.c9);_geo.c.ja(b,"geotoolkit.widgets.overlays.AnnotationOverlay");
b.aa={kGb:"CreateAnnotation",FKb:"RemoveAnnotation",WHa:"EditAnnotation",Yla:"ChangeActiveAnnotation"};b.prototype.Ra=function(){this.Uc().pb(_geo.c.V.Node.aa.jK,this.o2a);this.bL.Ra();this.co.Ra();this.p2a.Ra();_geo.c.window.removeEventListener("resize",this.o2a);_geo.c.qa.Kd.c9.prototype.Ra.call(this)};b.prototype.ah=function(){null==this.Elb&&(this.Elb=_geo.c.selection.Bc(this.LL()).Ve(function(a){return a instanceof _geo.c.V.Cg}).Ve(function(a){return"overlays"===a.getName()}).Tn());this.Elb.Ia([this.co=
(new _geo.c.V.Cg({name:"overlay-annotations"})).Ia([this.bL=new _geo.c.V.Cg({name:"overlay-annotation-shapes"})])]);this.th()};b.prototype.Uc=function(){return this.LL().Uc()};b.prototype.ry=function(){return this.co};b.prototype.th=function(){this.LL().Pg("overlay").add([this.p2a=(new _geo.c.controls.ia.Ol(this.co)).zc(!0).add([this.H_=(new _geo.c.qa.Kd.nM(this)).zc(!1).addListener("AnnotationChanged",function(){var a=new _geo.c.qa.Kd.EV(this.KA());this.Pa(_geo.c.qa.Kd.ks.aa.Yla,this,a)}.bind(this)).addListener("AnnotationEdited",
function(){var a=new _geo.c.qa.Kd.EV(this.KA());this.Pa(_geo.c.qa.Kd.ks.aa.WHa,this,a)}.bind(this))])])};b.prototype.Rta=function(){_geo.c.selection.Bc(this.bL).Ve(function(a){return a instanceof _geo.c.qa.Kd.eA}).select(function(a){a.oh()})};b.prototype.ot=function(a){_geo.c.qa.Kd.c9.prototype.ot.call(this,a);this.co.Ma(this.ob());this.H_.zc(this.usb());return this};b.prototype.Fba=function(a){return _geo.c.selection.Bc(this.bL).Ve(function(a){return a instanceof _geo.c.qa.Kd.eA}).Ve(function(b){return b.Db()===
a}).Tn()};b.prototype.bb=function(a){this.pa=_geo.c.Ja(a,this.pa);this.H_.bb(this.pa);return this};b.prototype.xb=function(){return this.pa};b.prototype.Raa=function(b){if(null===b)throw Error("annotation can not be null");if(!0!==this.pa.cancreate)return null;var d=null;!1===_geo.c.$l(b,_geo.c.qa.Kd.jIa)&&(d=_geo.c.Ja(b.options,{frame:a.clone(),offset:new _geo.c.f.sa(g.ga()-a.ba()/2,g.ea()-a.da()/2)}),b.options=d);d=new _geo.c.qa.Kd.EV(b);this.Pa(_geo.c.qa.Kd.ks.aa.kGb,this,d);if(d.sx())return null;
b=_geo.c.qa.Kd.z3.gb(b);if(null!=this.Fba(b))throw Error("annotation already exist");this.bL.Ia([(new _geo.c.qa.Kd.eA(b)).setOrientation(this.Rd)]);return b};b.prototype.Jpa=function(a){this.bL.Jpa(a);return this};b.prototype.Pya=function(){return this.bL.Pya()};b.prototype.B2=function(a){a=this.Fba(a);if(null==a||!0!==this.pa.candelete)return this;var b=new _geo.c.qa.Kd.EV(a.Db());this.Pa(_geo.c.qa.Kd.ks.aa.FKb,this,b);if(b.sx())return this;this.H_.KA()===a&&this.H_.$Y(null);this.bL.removeChild(a);
b.Hab(this.KA());this.Pa(_geo.c.qa.Kd.ks.aa.Yla,this,b);return this};b.prototype.K6=function(a){if(null==a)return this.H_.K6(null),this;a=this.Fba(a);if(null==a||!0!==this.pa.canedit)return this;var b=new _geo.c.qa.Kd.EV(a.Db());this.Pa(_geo.c.qa.Kd.ks.aa.WHa,this,b);if(b.sx())return this;this.H_.K6(a);return this};b.prototype.w9b=function(a){this.Fba(a);return this};b.prototype.CYb=function(a){var b=[];_geo.c.selection.Bc(this.bL).Ve(function(a){return a instanceof _geo.c.qa.Kd.eA}).select(function(a){b.push(a.Db())});
return _geo.c.f.Iterator.Hm(b,a)};b.prototype.KA=function(){var a=this.H_.KA();return null!=a?a.Db():null};b.prototype.$Y=function(a){if(this.KA()===a)return this;var b=new _geo.c.qa.Kd.EV(a);this.Pa(_geo.c.qa.Kd.ks.aa.Yla,this,b);if(b.sx())return this;a=this.Fba(a);this.H_.$Y(a);b.Hab(this.KA());this.Pa(_geo.c.qa.Kd.ks.aa.Yla,this,b);return this};b.prototype.setOrientation=function(a){if(this.Rd===a)return this;this.Rd=a;_geo.c.selection.Bc(this.bL).Ve(function(a){return a instanceof _geo.c.qa.Kd.eA}).ZY().forEach(function(b){b.setOrientation(a)});
return this};b.kda=function(a,b){_geo.c.qa.Kd.eA.kda(a,b)};b.ce=function(a){return _geo.c.qa.Kd.eA.ce(a)};return b}();
_geo.c.qa.Kd.eA=function(){function b(a,f){this.pA=a;this.wlb=null;this.pA instanceof _geo.c.f.Gd&&(this.wlb=function(a,b,d){"Symbol"===d&&this.J4a(b.Yd());"Options"===d&&this.QTb(b.xb());this.oh().ma()}.bind(this),this.pA.tb(_geo.c.f.Gd.aa.Pm,this.wlb));f=f||a.xb();var h=_geo.c.Ja(f,{offset:null,frame:null,radius:0,orientation:_geo.c.f.Pb.jc,visible:!0,linestyle:{color:g,width:1,pixelsnapmode:{x:!0,y:!0}},fillstyle:e,cssclass:"AnnotationShape"},!0);_geo.c.V.$.Xk.call(this,h);this.Ma(h.visible);this.wg=
h.offset;this.Z4=h.frame;this.Eg=Math.abs(h.radius);this.Rd=h.orientation;this.Cib=1;this.fLa=b.bIa.Fgb;this.gh=null;this.vc=(new _geo.c.V.$.Text({text:a.ne(),ax:0,ay:0,width:150,height:50,textStyle:new _geo.c.attributes.kb({color:"black",alignment:"left",font:"12px Arial",baseLine:"top"}),alignment:_geo.c.f.Ca.Ig,sizeIsInDeviceSpace:!0})).Ld(_geo.c.f.Ca.Ig).Bj(_geo.c.V.$.Text.ef.D_).Cw(!0);this.epa=this.$v=null;this.qya=(new _geo.c.V.Ya).Gf(!0).Ia([this.Dib=(new _geo.c.V.Ya).Ed(!0).Ia([this.Caa=
(new _geo.c.V.Ya).Ed(!0).Ga(new _geo.c.f.Rect(0,0,16,16)).Ma(!1),this.vc])]);this.Dib.ae=function(){var a=this.ha();if(null==a||this.Rd!==_geo.c.f.Pb.ic)return _geo.c.V.Ya.prototype.ae.call(this);a=this.getParent().va().da();return _geo.c.f.Fa.multiply(_geo.c.f.Fa.Mj(0,a),_geo.c.f.Fa.hp(-Math.PI/2,0,0))}.bind(this.Dib);this.QKa=this.OJa=this.g$=this.MJa=this.E_=this.Vb=null;this.J4a(a.Yd());this.QTb(a.xb())}var a={},g="#1565c0",e="#fdd835";_geo.c.na(b,_geo.c.V.$.Xk);_geo.c.ja(b,"geotoolkit.widgets.overlays.AnnotationShape");
b.aa={rXa:"GeometryChanged"};b.bIa={cf:"none",lLb:"simple-arrow",Fgb:"rectangle-callouts",sjc:"oval-callouts",Hfc:"cloud-callouts"};b.prototype.Ra=function(){this.pA instanceof _geo.c.f.Gd&&this.pA.pb(_geo.c.f.Gd.aa.Pm,this.wlb);this.J4a(null);if(null!=this.gh){if(Array.isArray(this.gh))for(var a=0;a<this.gh.length;a++)this.gh[a].Ra();else this.gh.Ra();this.gh=null}null!=this.qya&&(this.qya.Ra(),this.qya=null);_geo.c.V.$.Xk.prototype.Ra.call(this)};b.prototype.Db=function(){return this.pA};b.prototype.dl=
function(){return this.Rd};b.prototype.setOrientation=function(a){if(this.Rd===a)return this;this.ma();this.Rd=a;this.Dib.Rd=a;a=this.wg.clone();var b=this.Z4.clone();this.Rd===_geo.c.f.Pb.ic?this.wg.lb(a.y,-1*a.x):this.wg.lb(-1*a.y,a.x);this.Z4.gd(b.height,b.width);this.oh().ma();return this};b.prototype.Ec=function(a){if(this.ne()===a)return this;this.ma();this.pA.Ec(a);this.oh().ma();return this};b.prototype.ne=function(){return this.pA.ne()};b.prototype.J4a=function(a){null!=this.$v&&null!=this.epa&&
(this.$v.pb(_geo.c.V.$.Image.aa.Hr,this.epa),this.epa=null);this.Caa.Gh().cb(null).Ma(!1);this.$v=null;if(null==a)return this;if("string"==typeof a||a instanceof _geo.c.V.$.Image)this.AY(a);else if(a instanceof _geo.c.V.Ya)this.Caa.Ia(a).Ga(new _geo.c.f.Rect(0,0,a.ha().ba(),a.ha().da())).cb(a.ha().clone()).Ma(!0);else{var b=a.width,e=a.height;null!=a.url&&"string"==typeof a.url?this.AY(a.url,b,e,a.keepaspectratio):null!=a.node&&a.node instanceof _geo.c.V.Node&&(a.node instanceof _geo.c.V.$.Image?
this.AY(a.node,b,e,a.keepaspectratio):this.Caa.Ia(a.node).Ga(new _geo.c.f.Rect(0,0,b,e)).cb(new _geo.c.f.Rect(0,0,b,e)).Ma(!0))}this.Caa.ob()&&this.oh().ma();return this};b.prototype.AY=function(a,b,e,g){var k=null;this.$v=k=a instanceof _geo.c.V.$.Image?a.clone().Ld(_geo.c.f.Ca.Ig).Ic(0,0).Br(!1):new _geo.c.V.$.Image({x:0,y:0,alignment:_geo.c.f.Ca.Ig,url:a,sizeisindevicespace:!1});this.Caa.Ia(this.$v);var m=function(){b=b||this.$v.ba();e=e||this.$v.ba();this.Caa.Ga(new _geo.c.f.Rect(0,0,b,e)).cb(new _geo.c.f.Rect(0,
0,this.$v.ba(),this.$v.da())).Ma(!0);if(!1!==g&&(b!==this.$v.ba()||e!==this.$v.da())){var a=this.$v.ba()/this.$v.da(),d=b/e,a=d>a?new _geo.c.f.Fc(this.$v.ba()*e/this.$v.da(),e):new _geo.c.f.Fc(b,this.$v.da()*b/this.$v.ba());this.$v.gd(a.ba(),a.da());this.Caa.cb(null)}this.oh().ma()}.bind(this);!1===k.loaded?(this.epa=function(){this.$v.pb(_geo.c.V.$.Image.aa.Hr,this.epa);this.epa=null;m()}.bind(this),this.$v.tb(_geo.c.V.$.Image.aa.Hr,this.epa)):m()};b.prototype.Yd=function(){return this.pA.Yd()};
b.prototype.Sk=function(a){if(this.Yd()===a)return this;this.ma();this.pA.Sk(a);this.J4a(a).oh().ma();return this};b.prototype.JL=function(){return this.pA.JL()};b.prototype.Ks=function(a){if(this.JL()===a)return this;this.pA.Ks(a);this.oh().ma();return this};b.prototype.Pn=function(){return this.wg};b.prototype.Lo=function(a){if(null!=this.wg&&this.wg.MI(a,_geo.c.f.Math.Hc))return this;this.ma();this.wg=_geo.c.f.sa.gb(a);null!=this.pA&&this.pA.bb({offset:this.wg});this.oh().ma();return this};b.prototype.Pn=
function(){return this.wg};b.prototype.jAb=function(a){if(this.Cib===a)return this;this.ma();this.Cib=a;this.oh().ma();return this};b.prototype.Trb=function(){return this.Cib};b.prototype.Zi=function(){return this.pA.Zi()};b.prototype.Ic=function(a){if(null!=this.Zi()&&this.Zi().MI(a,_geo.c.f.Math.Hc))return this;this.ma();this.pA.Ic(a);this.oh().ma();return this};b.prototype.an=function(a,b){var e=new _geo.c.selection.Qm;if(a instanceof _geo.c.f.Rect){var g=[a.ua(),a.ya(),a.ya(),a.ua()],k=[a.ta(),
a.ta(),a.xa(),a.xa()];return e.select(this.vf(),g,k,!0).filter(function(a){return!(a instanceof _geo.c.V.Node)&&a.visual===this}.bind(this))}return e.select(this.vf(),a.x,a.y,b?b:10).filter(function(a){return!(a instanceof _geo.c.V.Node)&&a.visual===this}.bind(this))};b.prototype.Aa=function(a){function b(a){-1===k.indexOf(this)&&k.push(this)}var e=null!=this.sb()?a.Qc(this.sb()):a;this.fl(e);if(a instanceof _geo.c.Sa.JH)null==this.QKa&&(this.oh(a.$a()),this.QKa={path:this.gh,textarea:this.qya});
else if(null==this.Vb||null!=this.QKa)this.QKa=null,this.oh();var g=a.Sd(),k=g?[]:null;if(null!=this.gh)if(Array.isArray(this.gh))for(var m=0;m<this.gh.length;m++)g?a.YL(this.gh[m],b.bind(this.gh[m])):this.gh[m].Aa(e);else this.gh.Aa(e);this.qya.Aa(e);e.Sd()&&(a.Ea(_geo.c.attributes.Ha.Ui),a.Ba(null),a.xc(this.wib));this.Pk(e);g&&0<k.length&&a.io({visual:this,paths:k})};b.prototype.ha=function(){null==this.Vb&&this.oh();return this.Vb};b.prototype.oh=function(b){if(null!=this.QKa)return this;var e=
this.JL(),g=this.Zi();if(null==this.getParent()||null==g||null==e||null==e.Za()||null==this.wg||null==this.Z4)return this;this.vc.Ec(this.pA.ne());var l=e.Za(),e=this.Za();if(null!=b)var k=_geo.c.f.Fa.oba(b,this.Za()),e=_geo.c.f.Fa.multiply(k,e),l=_geo.c.f.Fa.multiply(k,l);var g=l.hb(g),l=this.Z4.clone(),l=new _geo.c.f.Fc(l.width/2,l.height/2),m=g.clone().lb(g.ga()+this.wg.ga(),g.ea()+this.wg.ea()),k=new _geo.c.f.Rect(m.x-l.width,m.y-l.height,m.x+l.width,m.y+l.height),l=k.clone().de(-4),q=new _geo.c.f.sa(Number.NaN,
Number.NaN),p=new _geo.c.f.sa(Number.NaN,Number.NaN),p=k.C6(g,m,q,p),m=0!==p?q:m,q=q=null;a.hasOwnProperty(this.fLa)&&(q=a[this.fLa]);null==q&&(q=_geo.c.qa.Kd.Rva.pfc.itc);p=_geo.c.Ja(this.pa,this.la(),!0);p.annotation=this.pA;q=q.call(this,b,g,m,k,p);this.gh=null!=q?q.geometry:null;b=null;if(null!=this.gh)for(var p=Array.isArray(this.gh)?this.gh:[this.gh],u=null,t=0;t<p.length;t++)u=p[t].ha(),null!=e&&(u=e.xe(u),p[t].ce().transform(e.me())),b=null==b?u:b.clone().zi(u);q=null!=q?q.clip:null;p=null;
null!=q&&(p=new _geo.c.attributes.yC(e?q.transform(e.me()):q));this.Py(p);this.wib=null!=e?e.xe(k):k;this.Vb=null!=b?b.zi(this.wib):this.wib;this.E_=k;this.g$=l;this.qya.Ga(l.clone()).je(null!=e?e.me():null).cb(new _geo.c.f.Rect(0,0,l.ba(),l.da()));e=0;!1===this.Caa.ob()?this.vc.Ic(0,0):(e=this.Caa.ha().ba()+2,this.vc.Ic(e,0),l.zb(l.ga()+e).rb(l.ba()-e));this.Rd===_geo.c.f.Pb.jc?this.vc.HO(l.ba(),l.da()):this.vc.HO(l.da()-e,l.ba()+e);this.OJa={"top-left":new _geo.c.f.sa(this.g$.ua(),this.g$.ta()),
"top-right":new _geo.c.f.sa(this.g$.ya(),this.g$.ta()),"bottom-right":new _geo.c.f.sa(this.g$.ya(),this.g$.xa()),"bottom-left":new _geo.c.f.sa(this.g$.ua(),this.g$.xa())};this.MJa={anchor:g,offset:m,center:new _geo.c.f.sa(this.E_.rd(),this.E_.td()),"top-left":new _geo.c.f.sa(this.E_.ua(),this.E_.ta()),"top-right":new _geo.c.f.sa(this.E_.ya(),this.E_.ta()),"bottom-right":new _geo.c.f.sa(this.E_.ya(),this.E_.xa()),"bottom-left":new _geo.c.f.sa(this.E_.ua(),this.E_.xa())};this.Cxb();return this};b.prototype.Cxb=
function(){this.Pa(b.aa.rXa,this)};b.prototype.Vrb=function(a){if(void 0===a)return this.MJa;var b={},e;for(e in this.MJa)this.MJa.hasOwnProperty(e)&&(b[e]=a.Ie(this.MJa[e]));return b};b.prototype.Tub=function(a){if(void 0===a)return this.OJa;var b={},e;for(e in this.OJa)this.OJa.hasOwnProperty(e)&&(b[e]=a.Ie(this.OJa[e]));return b};b.prototype.b$b=function(a,b){this.ma();this.Z4.gd(a,b);this.oh().ma();return this};b.prototype.v7a=function(){return this.Z4};b.prototype.jbb=function(a){if(null!=this.Z4&&
this.Z4.Mqb(a,_geo.c.f.Math.Hc))return this;this.ma();this.Z4=_geo.c.f.Fc.gb(a);null!=this.pA&&this.pA.bb({frame:this.Z4});this.oh().ma();return this};b.prototype.r7=function(){return this.Eg};b.prototype.zF=function(a){if(null==a)throw Error("radius can not be null");if(this.Eg===a)return this;this.ma();this.Eg=a;this.oh().ma();return this};b.prototype.F_b=function(){return this.fLa};b.prototype.UAb=function(a){if(this.fLa===a)return this;this.ma();this.fLa=a;this.oh().ma();return this};b.prototype.QTb=
function(a){this.pa=a;this.ka(a);return this};b.prototype.la=function(){var a=_geo.c.V.$.Xk.prototype.la.call(this);a.textstyle=this.vc.ec();a.connectorsize=this.Trb();a.radius=this.r7();a.frame=this.v7a();a.offset=this.Pn();return a};b.prototype.ka=function(a){if(null==a)return this;a=_geo.c.yc(a);_geo.c.Nc(this,a);a.hasOwnProperty("textstyle")&&this.vc.Ob(a.textstyle).Qa();a.hasOwnProperty("connectorsize")&&this.jAb(a.connectorsize);a.hasOwnProperty("geometrytype")&&this.UAb(a.geometrytype);a.hasOwnProperty("radius")&&
this.zF(a.radius);a.hasOwnProperty("frame")&&this.jbb(a.frame);a.hasOwnProperty("offset")&&this.Lo(a.offset);return this};b.kda=function(b,e){a[b]=e};b.ce=function(b){return a[b]};b.kda(b.bIa.cf,function(){return null});return b}();
_geo.c.qa.Kd.nM=function(){function b(b,f){var g={pointerdown:this.tg.bind(this),pointermove:[{callback:this.oe.bind(this),object:null}],pointerup:[{callback:this.wf.bind(this),object:null},{callback:this.wf.bind(this),object:_geo.c.window,enabled:!1}],dblclick:this.Luc};_geo.c.controls.ia.oc.call(this,g,"annotation");this.Kh=new _geo.c.selection.Qm;this.Xi=null;this.VJa=b;this.Jk=this.VJa.LL();this.co=this.VJa.ry();this.$b=null;this.co.Ia([this.$b=new _geo.c.V.Cg({name:"overlay-annotation-manipulator",
dynamic_layer:!0})]);this.Cd=new _geo.c.f.sa(0,0);this.sf=new _geo.c.f.sa(0,0);this.Gj=new _geo.c.f.sa(0,0);this.G0=new e({centerx:0,centery:0,radiusx:4,radiusy:4,linestyle:{color:"#1565c0",width:1,pixelsnapmode:{x:!0,y:!0}},fillstyle:"#C1E3E8",visible:!1});this.Lb={anchor:this.G0.clone().Ea("#8BE73D"),"top-left":this.G0.clone(),"top-right":this.G0.clone(),"bottom-left":this.G0.clone(),"bottom-right":this.G0.clone()};this.G0.Ea(a);this.$b.Ia([this.G0]);for(var l in this.Lb)this.Lb.hasOwnProperty(l)&&
this.$b.Ia(this.Lb[l]);this.hoa=!1;this.fd=this.Bt=this.Rhb=null;this.gzc();f=_geo.c.Ja(f,{cancreate:!0,candelete:!0,canedit:!0,canmove:!0});this.bb(f);this.rQb=function(a,b,d){this.Taa(!1);this.vh()}.bind(this)}var a="#fdd835",g=new _geo.c.f.Fa,e=function(){function a(b,d,e,g,m,q,p){b=_geo.c.Ja(b,{centerx:"number"==typeof b?b:0,centery:"number"==typeof d?d:0,radiusx:"number"==typeof e?e:10,radiusy:"number"==typeof g?g:10,visible:"boolean"==typeof m?m:!0,linestyle:q instanceof _geo.c.attributes.za?
q:null,fillstyle:p instanceof _geo.c.attributes.Ha?p:null},!0);this.Rf=new _geo.c.f.sa(b.centerx,b.centery);this.Eg=new _geo.c.f.Fc(b.radiusx,b.radiusy);d=this.Rf.x-this.Eg.width;e=this.Rf.y-this.Eg.height;g=this.Rf.x+this.Eg.width;m=this.Rf.y+this.Eg.height;this.im=!1;_geo.c.V.$.ym.call(this,d,e,g,m,0,0,b.visible,b.linestyle,b.fillstyle)}_geo.c.na(a,_geo.c.V.$.ym);_geo.c.ja(a,"geotoolkit.widgets.overlays.AnnotationTool-Handle");a.prototype.clone=function(){return new a({centerx:this.Rf.x,centery:this.Rf.y,
radiusx:this.Eg.width,radiusy:this.Eg.height,visible:this.ob(),linestyle:this.ab(),fillstyle:this.Bb()})};a.prototype.RLc=function(){return this.im};a.prototype.setActive=function(a){if(this.im===a)return this;this.im=a;this.ma();return this};a.prototype.qt=function(a){if(this.Rf.MI(a,_geo.c.f.Math.Hc))return this;this.ma();this.Rf.x=a.x;this.Rf.y=a.y;var b=_geo.c.f.Rc.tc(this.Eg.ba(),0,this.Za()),d=_geo.c.f.Rc.tc(0,this.Eg.da(),this.Za());a=this.Rf.x-b;var e=this.Rf.y-d,b=this.Rf.x+b,d=this.Rf.y+
d;this.Tb(a,e,b,d);this.Qa();this.ma();return this};a.prototype.Xh=function(){return this.Rf};a.prototype.Aa=function(a){a=null!=this.sb()?a.Qc(this.sb()):a;this.fl(a);var b=_geo.c.f.Rc.tc(this.Eg.ba(),0,a.$a()),d=_geo.c.f.Rc.tc(0,this.Eg.da(),a.$a());a.Ea(this.Bb(),this.eb);a.Ba(this.ab());a.xn(this.Rf.x-b,this.Rf.y-d,2*b,2*d);this.Pk(a)};return a}();_geo.c.na(b,_geo.c.controls.ia.oc);_geo.c.ja(b,"geotoolkit.widgets.overlays.AnnotationTool");b.prototype.Ra=function(){this.$Y(null);this.xo.removeEventListener("keydown",
this.ioa);this.Qj.parentNode&&this.Qj.parentNode.removeChild(this.Qj);this.Qj=null;this.$b.Ra();_geo.c.controls.ia.oc.prototype.Ra.call(this)};b.prototype.bb=function(a){this.pa=_geo.c.Ja(a,this.pa);return this};b.prototype.xb=function(){return this.pa};b.prototype.gzc=function(){this.Qj=_geo.c.window.document.createElement("div");this.Qj.style.position="absolute";this.Qj.style.display="none";this.Qj.style.border="0px solid transparent";this.Qj.style.backgroundColor="transparent";this.Qj.style.pointerEvents=
"none";this.Qj.style.overflow="hidden";_geo.c.window.document.body.appendChild(this.Qj);this.Rj=_geo.c.window.document.createElement("div");this.Rj.style.position="absolute";this.Rj.style.border="0px solid transparent";this.Rj.className="geotoolkit-inlinecontainer";this.Rj.style.pointerEvents="all";this.Qj.appendChild(this.Rj);this.xo=_geo.c.window.document.createElement("textarea");this.xo.className="geotoolkit-inlineeditor";this.xo.style.position="absolute";this.xo.style.resize="none";this.xo.style.border=
"0px solid transparent !important";this.xo.style.boxShadow="none";this.xo.style.borderWidth="0px";this.xo.style.borderColor="transparent";this.xo.style.borderStyle="inset";this.xo.style.outline="0px";this.xo.style.fontFamily="sans-serif";this.xo.style.fontSize="smaller";this.xo.style.lineHeight="normal";this.xo.style.backgroundColor=a;this.ioa=function(a){"Escape"===a.key||27===a.keyCode?this.Rsa(!1):!0!==a.ctrlKey||"Enter"!==a.key&&13!==a.keyCode||this.Rsa(!0)}.bind(this);this.xo.addEventListener("keydown",
this.ioa);this.Rj.appendChild(this.xo)};b.prototype.Rsa=function(a){if(!1===this.hoa)return this;this.Qj.style.display="none";this.hoa=!1;!0===a&&null!=this.Bt&&this.Bt.Ec(this.xo.value.replace(/\n/g,"<br/>"));return this};b.prototype.DTb=function(){null!=this.Bt&&this.Bt.oh();this.Taa(!1);this.vh();return this};b.prototype.Taa=function(b){if(null==this.Xi)return this;if(null==this.Bt)return this.Qj.style.display="none",this;var e=this.eU(this.Xi.NA()),h=this.Bt.getParent(),l=h.Za(),h=l.yb(h.Wb()),
l=this.Bt.Tub(g),l=new _geo.c.f.Rect({x:l["top-left"].ga(),y:l["top-left"].ea(),width:l["bottom-right"].ga()-l["top-left"].ga(),height:l["bottom-right"].ea()-l["top-left"].ea()});this.Qj.style.left=h.ua()+e.x+"px";this.Qj.style.top=h.ta()+e.y+"px";this.Qj.style.width=h.ba()+"px";this.Qj.style.height=h.da()+"px";this.Rj.style.left=Math.round(l.ga()-h.ua())+"px";this.Rj.style.top=Math.round(l.ea()-h.ta())+"px";this.Rj.style.width=Math.round(l.ba())+"px";this.Rj.style.height=Math.round(l.da())+"px";
this.Rj.style.transform="rotate(0deg)";this.xo.style.width=Math.round(l.ba())+"px";this.xo.style.height=Math.round(l.da())+"px";!1!==b&&(this.Qj.style.display="block",this.xo.focus(),null!=this.KA()&&null!=this.KA().Bb()&&null!=this.KA().Bb().Kc&&null!=this.KA().Bb().Kc()?this.xo.style.backgroundColor=this.KA().Bb().Kc():this.xo.style.backgroundColor=a);return this};b.prototype.Rn=function(){this.$b.Ma(this.isEnabled());!1===this.isEnabled()&&(this.G0.Ma(!1),this.Rsa(!1).ZU(null).yq(null).$Y(null));
_geo.c.controls.ia.oc.prototype.Rn.call(this)};b.prototype.vh=function(){if(null==this.Bt)for(var a in this.Lb)this.Lb.hasOwnProperty(a)&&this.Lb[a].Ma(!1);else{a=this.Bt.Za();a=this.Bt.Vrb(a);for(var b in a)a.hasOwnProperty(b)&&this.Lb.hasOwnProperty(b)&&this.Lb[b].qt(a[b]).Ma(!0)}};b.prototype.LL=function(){return this.Jk};b.prototype.$Y=function(a){if(this.Bt===a)return this;var b=this.Bt;this.Bt=a;this.Rsa(!0);null!=b&&b.pb(_geo.c.qa.Kd.eA.aa.rXa,this.rQb).oh();this.fireEvent("AnnotationChanged");
null!=this.Bt&&this.Bt.oh().tb(_geo.c.qa.Kd.eA.aa.rXa,this.rQb);null==this.Bt&&this.yq(null);this.vh();return this};b.prototype.KA=function(){return this.Bt};b.prototype.yq=function(a){if(this.fd===a)return this;null!=this.fd&&this.fd.setActive(!1);this.fd=a;null!=this.fd&&(this.Rsa(!0),this.fd.setActive(!0));return this};b.prototype.h1=function(){return this.Rhb};b.prototype.ZU=function(a){if(this.Rhb===a)return this;this.Rhb=a;return this};b.prototype.P6=function(a){return this.co};b.prototype.Luc=
function(a){if(!1===this.isEnabled()||null==this.Bt)return this;a.stopPropagation(!0,!0);this.Xi=a.Hh();this.VJa.K6(this.Bt.Db());return this};b.prototype.a5b=function(){return this.hoa};b.prototype.K6=function(a){if(null==a)return this.hoa&&this.Rsa(!0),this;if(a===this.Bt&&!0===this.hoa)return this;this.hoa&&this.Rsa(!0);this.$Y(a);this.xo.value=this.Bt.ne().replace(/<br>/g,"\n").replace(/<br\/>/g,"\n");this.Taa(!0);this.hoa=!0;return this};b.prototype.oe=function(a){var b=this.Fe(this.co,a),g=
null;if(this.$e()){if(!0===this.pa.canmove){a.stopPropagation(!0,!0);var b=this.co.Za().hb(b),g=b.x-this.Gj.x,l=b.y-this.Gj.y;if(this.fd){if(this.fd===this.Lb.anchor){g=this.P6(a);this.ZU(g);if(null==g)return;l=this.Fe(g,a);this.Bt.Ks(g).Ic(l)}else{var k=this.Bt.v7a().clone();a=k.ba();var k=k.da(),m=this.Bt.Pn().clone();m.lb(m.ga()+g/2,m.ea()+l/2);this.fd===this.Lb["top-left"]?(a-=g,k-=l):this.fd===this.Lb["top-right"]?(a+=g,k-=l):this.fd===this.Lb["bottom-left"]?(a-=g,k+=l):this.fd===this.Lb["bottom-right"]&&
(a+=g,k+=l);var q=this.Lb,p=function(a,b){var d=q[a];q[a]=q[b];q[b]=d};0>=a&&(0>g&&(p("top-right","top-left"),p("bottom-right","bottom-left")),0<g&&(p("top-left","top-right"),p("bottom-left","bottom-right")));0>=k&&(0>l&&(p("top-right","bottom-right"),p("top-left","bottom-left")),0<l&&(p("bottom-right","top-right"),p("bottom-left","top-left")));this.Bt.Lo(m).jbb({width:a,height:k})}this.fireEvent("AnnotationEdited")}else a=this.Bt.Pn().clone(),a.x+=g,a.y+=l,this.Bt.Lo(a);this.Gj=b.clone();this.Bt.oh();
this.Taa(!1);this.vh()}}else{g=this.P6(a);this.ZU(g);g=this.Fe(this.co,a);g=this.Kh.select(this.co,g.x,g.y,2);a=l=null;for(k=g.length-1;0<=k;k--)if(g[k]!==this.G0&&(g[k]instanceof e&&(a=g[k]),g[k]instanceof _geo.c.qa.Kd.eA)){l=g[k];break}this.G0.qt(b).Ma(null==l&&null===a&&null!==this.pa&&!0===this.pa.cancreate)}};b.prototype.wf=function(a){for(var b=this.Fe(this.co,a),e=this.Kh.select(this.co,b.x,b.y,2),g,b=e.length-1;0<=b;b--)if(e[b]instanceof _geo.c.qa.Kd.eA&&e[b]===this.KA()){g=e[b];break}if(null!=
g&&(g=g.an(a.om(),5),null!=g&&0<g.length))for(b=0;b<g.length;b++)for(var e=g[b],k=0;k<e.paths.length;k++)e.paths[k].Pa("click",e.paths[k]);this.$e()&&this.stop(a)};b.prototype.tg=function(a){if(!1!==this.isEnabled()){for(var b=a.om(),b=this.Kh.select(this.co.vf(),b.x,b.y,2),g,l,k=b.length-1;0<=k;k--)b[k]!==this.G0&&(b[k]instanceof e&&(l=b[k]),b[k]instanceof _geo.c.qa.Kd.eA&&null==g&&(g=b[k]));this.yq(l);null==l&&this.$Y(g);null!=this.Bt?(this.start(a),a=this.Fe(this.co,a),this.co.Za().hb(a,a),this.Cd=
a.clone(),this.Gj=a.clone()):null!=this.h1()&&(a=this.Fe(this.h1(),a),g=this.VJa.Raa({target:this.h1(),anchor:a,text:"Anchor : "+a.toString()}),null!=g&&this.VJa.$Y(g))}};b.prototype.start=function(a){a.stopPropagation();this.setActive(!0);_geo.c.controls.ia.oc.ii(a.Hh(),this);this.Wp(!0);return this};b.prototype.stop=function(){this.setActive(!1);_geo.c.controls.ia.oc.NO(this);this.Wp(!1);return this};b.prototype.Wp=function(a){this.tt("pointerup",a,_geo.c.window);return this};return b}();
_geo.c.qa.Kd.Rva=_geo.c.qa.Kd.Rva||{};
_geo.c.qa.Kd.Rva.pfc=function(){function b(a,b,e,d,f){var h=(new _geo.c.V.$.Dk).Ba(f.linestyle).Ea(f.fillstyle),l=Math.abs(f.radius);d.ba()/2<l&&(l=d.ba()/2);d.da()/2<l&&(l=d.da()/2);var k=f.connectorsize;f=d.contains(b.x,b.y);var m=b.ga(),q=b.ea();b=e.ga();e=e.ea();if(f)h.moveTo(d.ga()+l,d.ea()).lineTo(d.ya()-l,d.ea()),0<l&&h.arcTo(d.ya(),d.ta(),d.ya(),d.ta()+l,l),h.lineTo(d.ya(),d.xa()-l),0<l&&h.arcTo(d.ya(),d.xa(),d.ya()-l,d.xa(),l),h.lineTo(d.ga()+l,d.ea()+d.da()),0<l&&h.arcTo(d.ua(),d.xa(),d.ua(),
d.xa()-l,l),h.lineTo(d.ga(),d.ea()+l),0<l&&h.arcTo(d.ua(),d.ta(),d.ua()+l,d.ta(),l),h.close();else{var p={position:"top",value:d.ta(),My:d.ua(),Fv:d.ya(),CJ:l,$L:l},u={position:"right",value:d.ya(),My:d.ta(),Fv:d.xa(),CJ:l,$L:l},t={position:"bottom",value:d.xa(),My:d.ya(),Fv:d.ua(),CJ:l,$L:l};d={position:"left",value:d.ua(),My:d.xa(),Fv:d.ta(),CJ:l,$L:l};p.next=u;u.next=t;t.next=d;d.next=p;var l=k/2,r=null,k=function(a,b,d){var e=b.Lcb,f=Math.min(b.My,b.Fv),g=Math.max(b.My,b.Fv),h=b.My<b.Fv?b.CJ:
b.$L,k=b.My<b.Fv?b.$L:b.CJ,l=Math.min(b.iD,b.DI),m=Math.max(b.iD,b.DI),p=null,q=null;f+h<l&&m<g-k||(l<f+h&&(h=Math.max(l-f,0),l<f&&(p=e<f?f-l:null,l=f,h=null)),m>g-k&&(k=Math.max(g-m,0),m>g&&(q=e>g?m-g:null,m=g,k=null)),b.My<b.Fv?(b.iD=l,b.CJ=h,b.DI=m,b.$L=k):(b.iD=m,b.CJ=k,b.DI=l,b.$L=h),e=function(a,b,d,e){return Math.min(b+d,e)},f=function(a,b,d,e){return Math.max(e,b-d)},null!=p&&("top"===b.position||"right"===b.position?(b.iD=null,b.My=null,a.iD="left"===a.position?e(a,a.Fv,p,a.My-a.CJ):f(a,
a.Fv,p,a.My+a.CJ)):(b.DI=null,b.Fv=null,d.DI="left"===d.position?f(d,d.My,p,d.Fv+d.$L):e(d,d.My,p,d.Fv-d.$L))),null!=q&&("top"===b.position||"right"===b.position?(b.DI=null,b.Fv=null,d.DI="right"===d.position?e(d,d.My,q,d.Fv-d.$L):f(d,d.My,q,d.Fv+d.$L)):(b.iD=null,b.My=null,a.iD="right"===a.position?f(a,a.Fv,q,a.My+a.CJ):e(a,a.Fv,q,a.My-a.CJ))),a.$L=b.CJ,null==b.My&&(a.Fv=null),d.CJ=b.$L,null==b.Fv&&(d.My=null))},r=[];Math.abs(e-p.value)<_geo.c.f.Math.Hc?(r=p,r.Lcb=m,r.pob=b,r.iD=b-l,r.DI=b+l,k(d,
p,u),r=[p,u,t,d]):Math.abs(b-u.value)<_geo.c.f.Math.Hc?(r=u,r.Lcb=q,r.pob=e,r.iD=e-l,r.DI=e+l,k(p,u,t),r=[u,t,d,p]):Math.abs(e-t.value)<_geo.c.f.Math.Hc?(r=t,r.Lcb=m,r.pob=b,r.iD=b+l,r.DI=b-l,k(u,t,d),r=[t,d,p,u]):(r=d,r.Lcb=q,r.pob=e,r.iD=e+l,r.DI=e-l,k(t,d,p),r=[d,p,u,t]);b=function(a){h.moveTo(m,q);a=a[0];null!=a.DI&&("top"===a.position||"bottom"===a.position?h.lineTo(a.DI,a.value):h.lineTo(a.value,a.DI));var b=a,d=b.next;do b!==a&&null!=b.iD&&("top"===b.position||"bottom"===b.position?h.lineTo(b.iD,
b.value):h.lineTo(b.value,b.iD)),0<b.$L?"top"===b.position||"bottom"===b.position?h.arcTo(b.Fv,b.value,b.Fv,d.My+("right"===d.position?1:-1)*d.CJ,b.$L):h.arcTo(b.value,b.Fv,d.My+("top"===d.position?1:-1)*d.CJ,b.Fv,b.$L):null!=b.Fv&&("top"===b.position||"bottom"===b.position?h.lineTo(b.Fv,b.value):h.lineTo(b.value,b.Fv)),d!==a&&null!=d.DI&&("top"===d.position||"bottom"===d.position?h.lineTo(d.DI,d.value):h.lineTo(d.value,d.DI)),b=d,d=b.next;while(b!==a);"top"===a.position||"right"===a.position?a.My+
a.CJ<a.iD&&("top"===a.position?h.lineTo(a.iD,a.value):h.lineTo(a.value,a.iD)):a.My+a.CJ>a.iD&&("bottom"===a.position?h.lineTo(a.iD,a.value):h.lineTo(a.value,a.iD));h.lineTo(m,q);return h};b(r)}b=h.ha();e=null;!1===f&&null==a&&(null!=this.ab()&&(b=b.de(this.ab().ba())),e=(new _geo.c.Sa.yf).moveTo(b.ua(),b.ta()).lineTo(b.ya(),b.ta()).lineTo(b.ya(),b.xa()).lineTo(b.ua(),b.xa()).lineTo(b.ua(),b.ta()).moveTo(m-1,q-1).lineTo(m+1,q-1).lineTo(m+1,q+1).lineTo(m-1,q+1).lineTo(m-1,q-1).close());return{geometry:h,
clip:e}}_geo.c.qa.Kd.ks.kda(_geo.c.qa.Kd.eA.bIa.Fgb,b);return{itc:b}}();_geo.c.qa.Kd.Rva=_geo.c.qa.Kd.Rva||{};
_geo.c.qa.Kd.Rva.mIc=function(){function b(a,b,e,d,f){a=null;d=d.contains(b.x,b.y);if(!1===d){a=(new _geo.c.V.$.Dk).Ba(f.linestyle).Ea(f.fillstyle);var h=f.connectorsize||10;f=b.clone();var l=h*Math.tan(Math.PI/6);d=f.clone().zb(f.ga()-h).Eb(f.ea()-l);l=f.clone().zb(f.ga()-h).Eb(f.ea()+l);h=f.clone().zb(f.ga()-h);b=Math.atan2(e.ea()-b.ea(),e.ga()-b.ga())-Math.PI;b=_geo.c.f.Fa.hp(b,f.ga(),f.ea());var k=b.Ie(e);if(h.ga()<k.ga()&&k.ga()<f.ga()||h.ga()>k.ga()&&k.ga()>f.ga())e=b.hb(h);b.hb(d,d);b.hb(h,
h);b.hb(l,l);a.moveTo(e.ga(),e.ea()).lineTo(h.ga(),h.ea()).lineTo(d.ga(),d.ea()).lineTo(f.ga(),f.ea()).lineTo(l.ga(),l.ea()).lineTo(h.ga(),h.ea()).close()}return{geometry:a,clip:null}}_geo.c.qa.Kd.ks.kda(_geo.c.qa.Kd.eA.bIa.lLb,b)}();
_geo.c.qa.Ab.Ad.hfc=function(){function b(a){_geo.c.Ab.Ad.Tk.call(this,a);this.SFa(_geo.c.Ab.Bk.hHa.ib())}_geo.c.na(b,_geo.c.Ab.Ad.Tk);_geo.c.ja(b,"geotoolkit.widgets.animation.effects.BubbleChartSize");b.prototype.Ah=function(a,b){return"s-data"===a.attributeName&&b instanceof _geo.c.qa.FH};b.prototype.lo=function(a){return(a=a.getData())?a.s.data:null};b.prototype.apply=function(a){a.setData({s:{data:this.V6()}})};_geo.c.Ab.Ad.he.ib().oC(b);return b}();
_geo.c.qa.Ab.Ad.QIc=function(){function b(a){_geo.c.Ab.Ad.Tk.call(this,a)}var a=function(){function a(){_geo.c.Ab.Bk.mM.call(this)}var b=null;_geo.c.na(a,_geo.c.Ab.Bk.mM);a.prototype.gl=function(a,b,d,e){a=e(a.x.length,b.x.length);var g=Math.floor(a);d={x:b.x.slice(0,g),y:b.y.map(function(a){return a.slice(0,g)})};if(g!==a){a-=g;var q=b.x[g-1],p=b.x[g];d.x.push(q+(p-q)*a);for(e=0;e<b.y.length;e++)q=b.y[e][g-1],p=b.y[e][g],q+=(p-q)*a,d.y[e].push(q)}return d};a.prototype.clone=function(a){return{x:a.x.slice(),
y:a.y.map(function(a){return a.slice()})}};a.ib=function(){null==b&&(b=new a);return b};return a}(),g=function(){function b(){_geo.c.Ab.Bk.mM.call(this)}var d=null;_geo.c.na(b,a);b.prototype.gl=function(a,b,d,e){d=d||{x:[],y:[]};if(a.x.length===b.x.length){for(var g=0;g<a.x.length;++g)d.x[g]=e(a.x[g],b.x[g]);for(g=0;g<a.y.length;++g){d.y[g]=d.y[g]||[];for(var q=0;q<a.x.length;++q)d.y[g][q]=e(a.y[g][q],b.y[g][q])}return d}if(0===a.x.length){for(a=0;a<b.x.length;++a)d.x[a]=b.x[a];for(a=0;a<b.y.length;++a)for(d.y[a]=
d.y[a]||[],g=0;g<b.x.length;++g)d.y[a][g]=e(0,b.y[a][g]);return d}return null};b.ib=function(){null==d&&(d=new b);return d};return b}();_geo.c.na(b,_geo.c.Ab.Ad.Tk);_geo.c.ja(b,"geotoolkit.widgets.animation.effects.LineChartData");b.prototype.Ah=function(a,b){return"data"===a.attributeName&&b instanceof _geo.c.controls.$.g_&&("vertical"===a.type||"horizontal"===a.type)};b.prototype.lo=function(b){"horizontal"===this.zs&&this.SFa(a.ib());"vertical"===this.zs&&this.SFa(g.ib());return(b=b.getData())&&
Array.isArray(b.x)&&Array.isArray(b.y)?{x:b.x,y:b.y}:null};b.prototype.apply=function(a){a.setData(this.V6())};_geo.c.Ab.Ad.he.ib().oC(b);return b}();
_geo.c.qa.Ab.Ad.olc=function(){function b(a){_geo.c.Ab.Ad.Tk.call(this,a);this.DA=_geo.c.Ab.Bk.fWa.ib()}_geo.c.na(b,_geo.c.Ab.Ad.Tk);_geo.c.ja(b,"geotoolkit.widgets.animation.effects.TimeSeriesData");b.prototype.Ah=function(a,b){return"data"===a.attributeName&&b instanceof _geo.c.qa.UH};b.prototype.lo=function(a){for(var b=a.HQ(),e=[],d=0;d<b.length;d++)a.dQa(b[d]).fQa().St()>d+1?e[d]=a.dQa(b[d]).fQa().Nh(d+1).data.data:e[d]=e[d-1].slice();return e};b.prototype.apply=function(a){for(var b=a.HQ(),
e=[],d=[],f=0;f<this.V6().length;f++){e[f]=new _geo.c.data.dh({cols:[{type:"number",data:a.dQa(b[f]).fQa().Nh(0).data.data},{type:"number",data:this.V6()[f]}]});d[f]=new _geo.c.data.Ps(e[f]);var h=a.Ay(b[f]);null!=h&&h.setData(d[f])}};_geo.c.Ab.Ad.he.ib().oC(b);return b}();
_geo.c.qa.Ab.Ad.bfc=function(){function b(a){_geo.c.Ab.Ad.Tk.call(this,a);this.SFa(_geo.c.Ab.Bk.fWa.ib())}_geo.c.na(b,_geo.c.Ab.Ad.Tk);_geo.c.ja(b,"geotoolkit.widgets.animation.effects.BarChartWidgetValue");b.prototype.Ah=function(a,b){return"datasets"===a.attributeName&&b instanceof _geo.c.qa.Rdb};b.prototype.lo=function(a){a=a.getData();return null==a?null:a.datasets.map(function(a){return a.values})};b.prototype.apply=function(a){a.setData({datasets:this.V6().map(function(a){return{values:a}})})};
_geo.c.Ab.Ad.he.ib().oC(b);return b}();
_geo.c.qa.Bh=function(){function b(a){a=_geo.c.Ja(a,{fillstyle:"white"});_geo.c.qa.fm.call(this,a);this.RKa=this.HK=this.Pe=this.He=null;this.Ia(this.T1(a));this.lq=null;this.ubc(a.tools);this.th();this.Jv(a.tools);this.Ea(a.fillstyle||a.backgroundfillstyle);a.hasOwnProperty("backgroundfillstyle")&&_geo.c.warn('AnnotatedWidget(properties["backgroundfillstyle"]) deprecated since 2.6, use properties["fillstyle"]');this.en()}function a(a,b){var d=a.Db(b);if(d)return d.Pc()&&d.Pc().mca()===_geo.c.fa.Kq.gP?
"auto":d.Re()}function g(a,b){var d=a.Db(b);if(d)return d.Pc()&&d.Pc().mca()===_geo.c.fa.Kq.wS?"auto":d.bl()}function e(a,b,d){for(var e=null,e=null,g=0;g<b.length;g++)e=b[g],e=a.Db(e),void 0!==d.constraint?e.Ed(!0).qb(d):e.qb(d)}var d="#757575";_geo.c.na(b,_geo.c.qa.fm);_geo.c.Rg(b,_geo.c.V.Sb.Bea);_geo.c.ja(b,"geotoolkit.widgets.AnnotatedWidget");b.aa={rYa:"ModelVisibleLimitsChanged"};b.Xfc=15;b.Yfc=15;b.prototype.T1=function(a){null==a&&(a={});a=_geo.c.Ja(a,{model:new _geo.c.V.Ya,north:void 0,
south:void 0,east:void 0,west:void 0,annotationssizes:{}});a.annotations&&(a.annotations.west&&(a.west=a.annotations.west.item,a.annotationssizes.west=a.annotations.west.size),a.annotations.north&&(a.north=a.annotations.north.item,a.annotationssizes.north=a.annotations.north.size),a.annotations.south&&(a.south=a.annotations.south.item,a.annotationssizes.south=a.annotations.south.size),a.annotations.east&&(a.east=a.annotations.east.item,a.annotationssizes.east=a.annotations.east.size));this.Zc=a.model;
var b=new _geo.c.attributes.za(d),b=null!=a.border?null!=a.border.color?new _geo.c.attributes.za(a.border.color):b:b;this.Zc.Ia([(new _geo.c.V.Cg).Ae("manipulator_layer").Ia((new _geo.c.V.$.Fq).lFa("visible-bounds").Ba(b.Vd({x:!0,y:!0}))),this.co=new _geo.c.V.Cg({name:"overlays",cssclass:"overlay"})]);this.Fb=(new _geo.c.V.qp(a)).Ae("annotated_node").qb({left:0,top:0,right:0,bottom:0}).MR(function(a,b){return _geo.c.V.jj.tua(a,b)});this.Fb.vGa();this.Rk(a.annotationssizes);a=(new _geo.c.V.Ya).Ae(a.applicationId).Ed(!0).ee(new _geo.c.fa.Uk).Ia(this.Fb);
this.Fb.aFa();return a};b.prototype.MVb=function(a,b){if(null!=this.Fb){var d=this.Fb.Db(a);if(null!=d&&null!=d.we()){var e=-1,g=0;d.we().nm().forEach(function(a){a===b&&(e=g);g++});-1!==e&&e!==g-1&&(d.we().remove(b),d.we().add(b))}}};b.prototype.Nec=function(a){null!=this.Fb&&(this.Fb.gs(a),this.en())};b.prototype.Ga=function(a){var b=this.ha();if(null!=b&&b.Ij(a,_geo.c.f.Math.Hc))return this;_geo.c.V.Ya.prototype.Ga.call(this,a);a=this.ha();if(null!=b&&null!=a&&b.ba()===a.ba()&&b.da()===a.da())return this;
this.$t();return this};b.prototype.$t=function(){this.MVb(_geo.c.fa.Oa.Wc,this.Pe);this.MVb(_geo.c.fa.Oa.od,this.He);null!=this.Fb&&this.Fb.Nb();return this};b.prototype.fM=function(a){this.Fb.fM(a);return this};b.prototype.th=function(){this.eAa=!0;var a=_geo.c.selection.Bc(this.Fb).Ve('node => id(node) == "manipulator_layer"').ZY()[0];this.et=new _geo.c.controls.ia.rM(a);this.jv=(new _geo.c.controls.ia.ti).zc(!0).addListener(_geo.c.controls.ia.ti.aa.kF,function(a,b){var d=b.Mk();this.CF(d.x,d.y);
this.et.Cla(!0)}.bind(this));this.Au=(new _geo.c.controls.ia.Selection(a)).zc(!1).addListener(_geo.c.controls.ia.oc.aa.ot,function(a){a.isEnabled()?(a.Asa()===_geo.c.controls.ia.mP.Lr&&this.jv.zc(!1),this.fQ.zc(!1)):a.Asa()===_geo.c.controls.ia.mP.Lr&&this.jv.zc(!0)}.bind(this)).Sy(function(a){return a}).addListener(_geo.c.controls.ia.Selection.aa.lF,function(){}).$Fa(_geo.c.controls.ia.mP.Lr);this.fQ=(new _geo.c.controls.ia.Lr(a)).zc(!1).addListener(_geo.c.controls.ia.oc.aa.ot,function(a){a.isEnabled()?
(null==this.lq&&this.sda(),this.jv.zc(!1),this.Au.zc(!1)):(null!=this.lq&&(this.Au.zc(this.lq.selection),this.lq=null),this.jv.zc(!0))}.bind(this)).addListener(_geo.c.controls.ia.Lr.aa.Ev,function(a,b){var d=b.RI();this.Fb.gs(d);this.en()}.bind(this));this.VK=(new _geo.c.controls.ia.GC(a,_geo.c.controls.ia.DM.Pxa)).zc(!1).addListener(_geo.c.controls.ia.GC.aa.mF,function(a){this.sda();this.et.zc(!1);this.fQ.zc(!1);this.Au.zc(!1);this.jv.zc(!1)}.bind(this)).addListener(_geo.c.controls.ia.GC.aa.NSa,
function(a,b){this.gs(b.Wb());this.en()}.bind(this)).addListener(_geo.c.controls.ia.GC.aa.Ev,function(a){null!=this.lq&&(this.et.zc(this.lq.D5a),this.fQ.zc(this.lq.tzb),this.Au.zc(this.lq.selection),this.jv.zc(this.lq.w$a),this.lq=null)}.bind(this));this.nq([this.p5=(new _geo.c.controls.ia.Ol(a,"manipulatorTools")).add([this.et,(new _geo.c.controls.ia.Ol(this.co)).Qb("overlay"),this.fQ,this.Au,this.VK,this.jv])])};b.prototype.el=function(){};b.prototype.gs=function(a){this.pcb(a);return this};b.prototype.CF=
function(a,b){this.Fb.CF(a,b);this.en();return this};b.prototype.Nu=function(a,b,d,e){this.Fb.Nu(a,b,d,e);this.en();return this};b.prototype.Xz=function(a){this.Fb.Uc().cb(a);this.en();return this};b.prototype.p1=function(){return null!=this.Fb&&null!=this.Fb.Uc()?this.Fb.Uc().va():null};b.prototype.wRa=function(a){var b=this.Uc();if(!b)return null;var d=b.getParent(),e=b.va(),g=null;null!=d&&null!=d.va()&&(b=b.Za(),g=null==b?new _geo.c.f.Rect(d.Zl()):b.xe(d.Zl()));if(null!=e&&null!=g)a||g.Nd(e);
else return e;return g};b.prototype.pcb=function(a){this.Fb.gs(a);this.en();return this};b.prototype.en=function(){var a=this.Zc.va(),b=this.Zc.Wb();this.Pe.cb(a,b,this.Zc.Fy());this.He.cb(a,b,this.Zc.vq());this.el();this.Pa(_geo.c.qa.Bh.aa.rYa,this,b.clone());return this};b.prototype.Rk=function(a){if(null==a)return this;var b=_geo.c.fa.Oa,d=!1;null!=a.west&&(e(this.Fb,[b.Sc,b.xt,b.cv],{constraint:"auto"===a.west?_geo.c.fa.Kq.wS:void 0,width:"auto"===a.west?void 0:a.west}),d=!0);null!=a.east&&(e(this.Fb,
[b.od,b.Kw,b.Rv],{constraint:"auto"===a.east?_geo.c.fa.Kq.wS:void 0,width:"auto"===a.east?void 0:a.east}),d=!0);null!=a.north&&(e(this.Fb,[b.Le,b.Kw,b.xt],{constraint:"auto"===a.north?_geo.c.fa.Kq.gP:void 0,height:"auto"===a.north?void 0:a.north}),d=!0);null!=a.south&&(e(this.Fb,[b.Wc,b.Rv,b.cv],{constraint:"auto"===a.south?_geo.c.fa.Kq.gP:void 0,height:"auto"===a.south?void 0:a.south}),d=!0);!0===d&&this.Fb.Nb();this.ma();return this};b.prototype.NPa=function(){return{west:g(this.Fb,_geo.c.fa.Oa.Sc),
east:g(this.Fb,_geo.c.fa.Oa.od),north:a(this.Fb,_geo.c.fa.Oa.Le),south:a(this.Fb,_geo.c.fa.Oa.Wc)}};b.prototype.Eua=function(a){a&&this.Fb.Eua(a)&&this.$t();return this};b.prototype.SAa=function(a,b){null!=this.Op(a)&&this.dzb(a);b.location=b.location?b.location:a;_geo.c.V.qp.rL(this.Fb,b)};b.prototype.Op=function(a){a=this.Db(a);for(var b,d,e=0;e<a.cd();e++)if((d=this.Dc(e))&&"function"==typeof d.Dc&&d.Dc(0)instanceof _geo.c.V.$.Text){b=d.Dc(0);break}return b};b.prototype.dcc=function(a,b){var d=
this.Op(a);d&&d.ka(b);return this};b.prototype.dzb=function(a){var b=this.Op(a);this.Fb.removeItem(b.getParent(),a)};b.prototype.Vr=function(a,b,d){var e;a instanceof _geo.c.axis.Xf&&null!=a.getParent()&&this.Fb.removeItem(a.getParent(),b);a instanceof _geo.c.axis.Xf?(e=new _geo.c.V.Ya,e.Ed(!0),e.Ia(a),a.Ga(e.va()),this.Fb.Sq(e,b)):(b=_geo.c.Ja(a,{location:b,connect:!1}),e=_geo.c.V.qp.PG(this.Fb,b),a=e.axis,a.ka(b),e=e.group);d&&this.Fb.connect(a,d);return{axis:a,group:e}};b.prototype.mda=function(a){var b=
a.getParent(),b=b.getParent(),d=b.we();null!==d&&d.remove(a);b.removeChild(a);this.Fb.Qa();this.Fb.disconnect(a)};b.prototype.connect=function(a,b,d,e){this.Fb.connect(a,b,d,e);return this};b.prototype.disconnect=function(a){this.Fb.disconnect(a);return this};b.prototype.OJ=function(){this.Nu(1.25,1.25);return this};b.prototype.PJ=function(){this.Nu(.8,.8);return this};b.prototype.Uc=function(){return this.Zc};b.prototype.lia=function(){this.Fb.gs(this.Zc.va());this.en();return this};b.prototype.pan=
function(a,b){this.CF(a,b);this.en();return this};b.prototype.MR=function(a){this.Fb.MR(a);return this};b.prototype.Db=function(a){return this.Fb.Db(a)};b.prototype.b1=function(a){var b={paperformat:null,top:.5,bottom:.5,left:1,right:1,units:"in",scaling:_geo.c.V.Sb.R9.iHa,keepaspectratio:!0,continuous:!1,drawwesttoeast:!0},d={footer:null,header:null,documentheader:null,output:"PDF Output",printsettings:{},modellimits:null,imagecompression:null,streamcompression:!0,scale:null},e={mode:_geo.c.Cb.ns.u3,
quality:1,speed:_geo.c.Cb.oP.I9},g=_geo.c.Ja(a||{},d,!0);g.printsettings=_geo.c.Ja(g.printsettings,b,!0);g.imagecompression=_geo.c.Ja(g.imagecompression,e,!0);g.scale||(g.scale={x:Math.abs(this.Fb.Uc().Za().Rb()),y:Math.abs(this.Fb.Uc().Za().hc())});null==g.printsettings.paperformat&&(a=_geo.c.f.Bf.ib().Zb("px"),a=_geo.c.V.Sb.gW.ib().nY("Letter",a,_geo.c.V.Sb.oK.hW),g.printsettings.paperformat=a);this.vs={};g.modellimits&&this.E8(g.modellimits);this.Oua(g.scale);this.ho();a=this.Kz(g);a=new _geo.c.V.Sb.Document(a,
g.header,g.footer,!0);var q=new _geo.c.V.Sb.Qma,b=new _geo.c.f.stream.qW;Array.isArray(g.embededfonts)&&(d=g.embededfonts,d.forEach(function(a){q.sba(a.subType,a.fontName,a.fontWeight,a.fontStyle,a.fontBase64EncodedFile,a.encoding)}));g.imagecompression&&q.H8(g.imagecompression.mode,g.imagecompression.quality,g.imagecompression.speed);q.mV(g.streamcompression);return q.JBa(a,g.printsettings,b).then(function(a){this.Mn();a.save(g.output,g.save)}.bind(this),function(a){this.Mn();throw a;}.bind(this))};
b.prototype.XI=function(){return this.HK?this.HK:this.Fb.Uc().va()};b.prototype.E8=function(a){this.HK=a;return this};b.prototype.Qba=function(){return this.RKa};b.prototype.Oua=function(a){this.RKa=a;return this};b.prototype.ho=function(){this.vs=this.vs||{};var a=[];_geo.c.selection.Bc(this).Ve(function(a){return null!=a&&(null!=a.getName()&&-1!==a.getName().indexOf("manipulator")||a instanceof _geo.c.controls.ia.scroll.u4||a instanceof _geo.c.controls.ia.scroll.YZ||null!=a.zd()&&"string"===typeof a.zd()&&
-1!==a.zd().indexOf("manipulator"))}).select(function(b){b.ob()&&(a.push(b),b.Ma(!1))});this.Nb();this.vs.layers=a;this.vs.prevHScrollVisibility=!1;this.vs.prevVScrollVisibility=!1;null!=this.Pe&&(this.vs.prevHScrollVisibility=this.Pe.ob(),this.Pe.Ma(!1));null!=this.He&&(this.vs.prevVScrollVisibility=this.He.ob(),this.He.Ma(!1));var b=this.XI();this.vs.prevLimits=this.Fb.Uc().Wb();this.Fb.Uc().gs(b);this.Fb.wV();return this};b.prototype.Mn=function(){null!=this.Pe&&this.Pe.Ma(this.vs.prevHScrollVisibility);
null!=this.He&&this.He.Ma(this.vs.prevVScrollVisibility);this.Fb.Uc().gs(this.vs.prevLimits);this.Fb.wV();this.Fb.Nb();for(var a=this.vs.layers,b=0;b<a.length;b++)a[b].Ma(!0);this.Nb()};b.prototype.Kz=function(a){var b=this.Qba()?this.Qba():{x:Math.abs(this.Fb.Uc().Za().Rb()),y:Math.abs(this.Fb.Uc().Za().hc())};a=a||{};a.scale=_geo.c.Ja(a.scale,b,!0);var d=b=0,e=[];if(null!=a.documentheader){var g=a.documentheader,q=g.ha(),p=q.da(),q=new _geo.c.V.Sb.Gq(g,q.clone());q.Ga(new _geo.c.f.Rect(0,0,g.ha().ba(),
p));e.push(q);d+=p}p=this.Fb.Uc().Za();g=Math.abs(p.Rb());p=Math.abs(p.hc());a=_geo.c.f.Fa.Lm(a.scale.x/g,a.scale.y/p);a=this.dDc(e,a,d);b+=a.ba();d+=a.da();return new _geo.c.V.Sb.$la(e,new _geo.c.V.Sb.sma(b,d))};b.prototype.dDc=function(a,b,d){var e,g,q,p,u,t,r,n=0,v=0,w=0,x=0,y=_geo.c.f.Fa.Lm(b.Rb(),1);q=_geo.c.f.Fa.Lm(1,b.hc());e=this.Fb.Db(_geo.c.fa.Oa.Le);null!=e&&0!==e.ha().da()&&(g=new _geo.c.V.Sb.Gq(e,e.ha()),x=y.transform(e.ha()),x=x.da(),a.push(g));e=this.Fb.Db(_geo.c.fa.Oa.Sc);null!=e&&
0!==e.ha().ba()&&(r=new _geo.c.V.Sb.Gq(e,e.ha()),n=q.transform(e.ha()),n=n.ba(),a.push(r));var B=this.Fb.Db(_geo.c.fa.Oa.ub);e=new _geo.c.V.Sb.Gq(B,B.ha());B=b.transform(B.ha());a.push(e);b=B.ba();B=B.da();u=this.Fb.Db(_geo.c.fa.Oa.od);null!=u&&0!==u.ha().ba()&&(t=new _geo.c.V.Sb.Gq(u,u.ha()),v=q.transform(u.ha()),v=v.ba(),a.push(t));q=this.Fb.Db(_geo.c.fa.Oa.Wc);null!=q&&0!==q.ha().da()&&(p=new _geo.c.V.Sb.Gq(q,q.ha()),w=y.transform(q.ha()),w=w.da(),a.push(p));a=n;y=x;q=a+b;u=y+B;b=a+b+v;B=y+B+w;
null!=g&&g.Ga(new _geo.c.f.Rect(a,d,q,x+d));null!=r&&r.Ga(new _geo.c.f.Rect(0,y+d,n,u+d));e.Ga(new _geo.c.f.Rect(a,y+d,q,u+d));null!=p&&p.Ga(new _geo.c.f.Rect(a,u+d,q,u+w+d));null!=t&&t.Ga(new _geo.c.f.Rect(q,y+d,q+v,u+d));return new _geo.c.f.Rect(0,0,b,B)};b.prototype.Jv=function(a){if(null==a)return this;(a.hasOwnProperty("horizontalscroll")||a.hasOwnProperty("verticalscroll"))&&this.ubc(a);null!=a.crosshair&&this.et.es(a.crosshair);null!=a.panning&&null!=a.panning.enabled&&this.jv.zc(a.panning.enabled);
null!=a.rubberbandzoom&&this.fQ.es(a.rubberbandzoom);null!=a.selection&&(this.Au.es(a.selection),null!=a.selection.resetselection&&(this.eAa=a.selection.resetselection));return this};b.prototype.jpc=function(a){var b=this.Zc.va(),d=this.Zc.Wb(),e,g;e=_geo.c.controls.ia.scroll.u4.getClassName();null!=a&&null!=a.verticalscroll&&null!=a.verticalscroll.type&&(e=a.verticalscroll.type);g="VerticalScroll";null!=a&&null!=a.verticalscroll&&null!=a.verticalscroll.name&&(g=a.verticalscroll.name);null!=this.He&&
e!==this.He.getClassName()&&(this.fx(this.He.ld()),this.Fb.removeItem(this.He,_geo.c.fa.Oa.od),this.He=null);null==this.He&&(this.He=_geo.c.controls.ia.scroll.XF.ib().Yq(e,{name:g,modellimits:b,visiblelimits:d}),b=function(a,b){var d=this.Zc.Wb(),e=b.Wb(),d=(d.ta()-e.ta())*this.Zc.Za().hc();this.pan(0,d);this.en()}.bind(this),this.He.addListener(_geo.c.controls.ia.scroll.Pf.aa.$r,b).addListener(_geo.c.controls.ia.scroll.Pf.aa.bn,b),this.Fb.Sq(this.He,_geo.c.fa.Oa.od),this.nq([this.He.ld()]));null!=
a&&null!=a.verticalscroll&&(null!=a.verticalscroll.visible&&this.He.Ma(a.verticalscroll.visible),null!=a.verticalscroll.options&&this.He.ka(a.verticalscroll.options),this.Fb.Db(_geo.c.fa.Oa.od).Nb());this.He.Xj(this.Zc.vq())};b.prototype.gpc=function(a){var b=this.Zc.va(),d=this.Zc.Wb(),e,g;e=_geo.c.controls.ia.scroll.YZ.getClassName();null!=a&&null!=a.horizontalscroll&&null!=a.horizontalscroll.type&&(e=a.horizontalscroll.type);g="HorizontalScroll";null!=a&&null!=a.horizontalscroll&&null!=a.horizontalscroll.name&&
(g=a.horizontalscroll.name);null!=this.Pe&&e!==this.Pe.getClassName()&&(this.fx(this.Pe.ld()),this.Fb.removeItem(this.Pe,_geo.c.fa.Oa.Wc),this.Pe=null);null==this.Pe&&(this.Pe=_geo.c.controls.ia.scroll.XF.ib().Yq(e,{name:g,modellimits:b,visiblelimits:d}),b=function(a,b){var d=this.Zc.Wb(),e=b.Wb(),d=(d.ua()-e.ua())*this.Zc.Za().Rb();this.pan(d,0);this.en()}.bind(this),this.Pe.addListener(_geo.c.controls.ia.scroll.Pf.aa.$r,b).addListener(_geo.c.controls.ia.scroll.Pf.aa.bn,b),this.Fb.Sq(this.Pe,_geo.c.fa.Oa.Wc),
this.nq([this.Pe.ld()]));this.Pe.cu(this.Zc.Fy());null!=a&&null!=a.horizontalscroll&&(null!=a.horizontalscroll.visible&&this.Pe.Ma(a.horizontalscroll.visible),null!=a.horizontalscroll.options&&this.Pe.ka(a.horizontalscroll.options),this.Fb.Db(_geo.c.fa.Oa.Wc).Nb())};b.prototype.ubc=function(a){this.jpc(a);this.gpc(a);var b=this.Pe.Re(),d=this.He.bl();null!=a&&null!=a.horizontalscroll&&null!=a.horizontalscroll.size&&(b=a.horizontalscroll.size);null!=a&&null!=a.verticalscroll&&null!=a.verticalscroll.size&&
(d=a.verticalscroll.size);this.He.qb({width:d,right:0,bottom:b,top:0});this.Pe.qb({left:0,right:d,bottom:0,height:b});return this};b.prototype.vU=function(){var a={tools:{}};null!=this.He&&(a.tools.verticalscroll={},a.tools.verticalscroll.visible=this.He.ob(),a.tools.verticalscroll.size=this.Pe.bl(),a.tools.verticalscroll.type=this.He.getClassName(),a.tools.verticalscroll.options=this.He.xb());null!=this.Pe&&(a.tools.horizontalscroll={},a.tools.horizontalscroll.visible=this.Pe.ob(),a.tools.verticalscroll.size=
this.Pe.Re(),a.tools.horizontalscroll.type=this.Pe.getClassName(),a.tools.horizontalscroll.options=this.Pe.xb());null!=this.jv&&(a.tools.panning={},a.tools.panning.enabled=this.jv.isEnabled());return a};b.prototype.la=function(){var a=_geo.c.qa.fm.prototype.la.call(this);a.annotationssizes=this.NPa();return _geo.c.Ja(this.getData(),a)};b.prototype.ka=function(a){if(null==a)return this;a=_geo.c.yc(a);_geo.c.qa.fm.prototype.ka.call(this,a);a.hasOwnProperty("backgroundfillstyle")&&(_geo.c.warn('AnnotatedWidget::setProperties(properties["backgroundfillstyle"]) deprecated since 2.6, use properties["fillstyle"]'),
this.Ea(a.backgroundfillstyle));a.hasOwnProperty("annotationssizes")&&this.Rk(a.annotationssizes);this.setData(a);return this};b.prototype.getData=function(a){return this.vU()};b.prototype.setData=function(a){if(null==a)return this;this.Jv(a.tools);return this};b.prototype.sda=function(){this.lq={D5a:this.et.isEnabled(),tzb:this.fQ.isEnabled(),selection:this.Au.isEnabled(),G7b:this.VK.isEnabled(),w$a:this.jv.isEnabled()};return this};return b}();
_geo.c.qa.QZ=function(){function b(a){null==a&&(a={});var b=15,g=25,h=15,p=30,u=15,t=10,r=g+p+u,n=50;a.viewcachesize=a.viewcache||null!=a.viewcachesize?_geo.c.Ja(a.viewcachesize,{width:256,height:256}):null;a.border=_geo.c.Ja(a.border,{color:"transparent"},!0);b={bounds:a.bounds,border:a.border,north:null,south:null,west:null,east:null,viewcache:!0,viewcachesize:a.viewcachesize,annotationssizes:{north:b+g,west:b+p+g,south:b+p+h+g,east:b+h+r+t}};b=_geo.c.Ja(a,b);b.x=_geo.c.Ja(b.x,{neatlimits:!1,minspan:n});
b.y=_geo.c.Ja(b.y,{neatlimits:!1,minspan:n});b.z=_geo.c.Ja(b.z,{neatlimits:!1,minspan:n});this.Nza=this.aCc.bind(this);this.gD=b.viewcache;this.cq={};null!=b.viewcachesize&&(this.gD=!0,this.cq=b.viewcachesize);this.v2a=null;_geo.c.qa.Bh.call(this,b);this.BAa=!1;n=this.Go();this.Tg(!1);this.Fb.vGa();this.qu={x:new _geo.c.axis.iea({orientation:_geo.c.axis.wd.ic,neatlimits:b.x.neatlimits}),y:new _geo.c.axis.iea({orientation:_geo.c.axis.wd.jc,neatlimits:b.y.neatlimits}),z:null};this.Vs={x:null,y:null,
z:null};this.Pib=this.Zja.bind(this);this.aKa={x:!1,y:!1,z:!1};this.Y_={x:null,y:null,z:null};this.SC={x:[],y:[],z:[]};this.dv={x:!1,y:!1,z:!1};this.Ik={x:null,y:null,z:null};this.Et={x:0,y:0,z:0};this.$s={x:1,y:1,z:1};this.XM={x:null,y:null};this.jMa={x:!1,y:!1,z:!1};this.ni=_geo.c.V.qp.rL(this.Fb,{location:_geo.c.fa.Oa.Le,text:"",textstyle:{font:e}}).text;this.ni.pe("crossplot-title");h=_geo.c.V.qp.PG(this.Fb,{location:_geo.c.fa.Oa.Wc,connect:!0,title:{text:"",visible:!1,textstyle:new _geo.c.attributes.kb({color:d,
font:f}),alignment:_geo.c.f.Ca.uj}}).axis;h.pe("crossplot-horizontal-axis");h.wx(this.qu.x);var r=null!=b.x&&null!=b.x.axis&&null!=b.x.axis.title?null:_geo.c.V.qp.rL(this.Fb,{location:_geo.c.fa.Oa.Wc,text:"x"}).text,v=null!=b.y&&null!=b.y.axis&&null!=b.y.axis.title?null:_geo.c.V.qp.rL(this.Fb,{location:_geo.c.fa.Oa.Sc,text:"y"}).text,w=_geo.c.V.qp.PG(this.Fb,{location:_geo.c.fa.Oa.Sc,connect:!0,autolabelrotation:!0,autolabelrotationangle:-Math.PI/2,title:{text:"",visible:!1,textstyle:new _geo.c.attributes.kb({color:d,
font:f}),alignment:_geo.c.f.Ca.We}}).axis;w.pe("crossplot-vertical-axis");w.wx(this.qu.y);var x=_geo.c.Ja(null!=b.z&&null!=b.z.axis?b.z.axis.title:null,{text:"",visible:!1,textstyle:new _geo.c.attributes.kb({color:d,font:f}),alignment:_geo.c.f.Ca.We}),g={location:_geo.c.controls.$.sp.od,componentsizes:{colorbox:u,axis:p,title:g},axis:{autolabelrotation:null!=b.z&&void 0!==b.z.autolabelrotation?b.z.autolabelrotation:!0,title:x},colorprovider:new _geo.c.f.er({values:[0,1],colors:["black","black"]}),
title:{text:"zlabel",textstyle:new _geo.c.attributes.kb({color:d,font:f})},flip:!1};this.Xd=null;this.Ug=(new _geo.c.controls.$.OZ(g)).Kl(this.gD?null!=this.cq?new _geo.c.V.Ek(this.cq.width,this.cq.height):new _geo.c.V.Ek:null).Gf(!0);this.ue={x:h,y:w,z:this.Ug.xb().axis.item};this.ui={x:r,y:v,z:!1===x.visible?this.Ug.xb().title.item:null};g=new _geo.c.V.Ya;g.wl(t);this.Fb.Sq(g,_geo.c.fa.Oa.od);this.Fb.Sq(this.Ug,_geo.c.fa.Oa.od);this.Xv=new _geo.c.V.Ya;this.Xv.Ia([(new _geo.c.V.Cg).Ae("xplot_layer").Ia([this.SE=
new _geo.c.controls.$.QZ])]);this.L_a=(new _geo.c.V.Ya).Ia([this.vRb=(new _geo.c.V.Cg).Ae("highlight_layer").Ia([this.NAa=(new _geo.c.controls.$.QZ).Qb("default")])]);this.Vga={"default":{"cross-plot":this.NAa,"highlighted-indices":[],data:[],options:{}}};this.Fb.Uc().bh(0,this.L_a);this.Fb.Uc().bh(0,this.Xv);this.Fb.Uc().Xj(!0);this.He.Xj(!0);this.Zqa();this.Fb.aFa();this.$t();this.j1a.Ma(!1);this.Ug.Ma(!1);this.L_a.Kl(this.gD?null!=this.cq?new _geo.c.V.Ek(this.cq.width,this.cq.height):new _geo.c.V.Ek:
null);this.Xv.Kl(this.gD?null!=this.cq?(new _geo.c.V.Ek(this.cq.width,this.cq.height)).Kka(null):(new _geo.c.V.Ek).Kka(null):null);this.Xv.Gf(!0);this.setData(a);this.Tg(n);this.Xz(this.hLa());this.$t();return this}var a="#e0e0e0",g="#f5f5f5",e="16px Roboto",d="#757575",f="13px Roboto";_geo.c.na(b,_geo.c.qa.Bh);_geo.c.ja(b,"geotoolkit.widgets.CrossPlot");b.prototype.Ra=function(){if(null!=this.jg)this.jg.pb("StateChanged",this.Nza);else for(var a in this.Vs)this.Vs.hasOwnProperty(a)&&null!=this.Vs[a]&&
this.Vs[a].pb(_geo.c.data.yl.aa.Pm,this.Pib);_geo.c.qa.Bh.prototype.Ra.call(this)};b.prototype.$t=function(){var a=this.hLa();a&&!a.Jd()&&this.Xz(a);_geo.c.qa.Bh.prototype.$t.call(this);a=this.Fb.Db("center");null!=this.j1a&&null!=a&&this.j1a.Ga(a.va()).Ma(!0);return this};b.prototype.Ga=function(a){_geo.c.qa.Bh.prototype.Ga.call(this,a);this.en();return this};b.prototype.th=function(){_geo.c.qa.Bh.prototype.th.call(this);var a=_geo.c.selection.Bc(this.Fb).Ve('node => id(node) == "manipulator_layer"').Tn();
this.Au.Sy(function(a){for(var b=0;b<a.length;++b)if(a[b].crossplot===this.SE)return a[b];return[]}.bind(this)).addListener(_geo.c.controls.ia.Selection.aa.lF,function(a,b){b.getSelection().indices instanceof Array&&this.ML({"default":{indices:b.getSelection().indices}},this.eAa)}.bind(this));this.v2a=(new _geo.c.controls.ia.Tea(a)).addListener(_geo.c.controls.ia.Tea.aa.Wca,function(a,b){for(var d=b.getSelection(),e=0;e<d.length;e++)d[e].crossplot===this.SE&&this.ML(d[e].indices,this.eAa)}.bind(this)).addListener(_geo.c.controls.ia.oc.aa.ot,
function(a){a.isEnabled()?(this.Au.zc(!1),this.jv.zc(!1)):this.jv.zc(!0)}.bind(this)).zc(!1);this.p5.add(this.v2a);this.VK.zc(!0);this.VK.zc(!0).addListener(_geo.c.controls.ia.GC.aa.mF,function(a){this.Xv.Kl(null)}.bind(this)).addListener(_geo.c.controls.ia.GC.aa.Ev,function(a){this.Xv.Kl(this.gD?null!=this.cq?(new _geo.c.V.Ek(this.cq.width,this.cq.height)).Kka(null):(new _geo.c.V.Ek).Kka(null):null)}.bind(this));return this};b.prototype.Zqa=function(){function b(d){d.sj("MAJOR").ed(a);d.sj("MINOR").ed(g);
d.ug("MINOR",!0);d.ug("EDGE",!1)}var d=_geo.c.axis.m_.ib(),e=d.create(),f=d.create(),h=(new _geo.c.axis.ju).XTa(_geo.c.axis.ju.Lva.Reb),u=new _geo.c.axis.EF,t=new _geo.c.axis.EF,r=new _geo.c.axis.EF,n=d.create({ticks:{EDGE:{visible:!0}}}),d=d.create({ticks:{EDGE:{visible:!0}}}),v=new _geo.c.axis.EF,w=new _geo.c.axis.EF;b(n);b(d);b(v);b(w);this.fo={x:e,y:f,z:h,xlog:u,ylog:t,zlog:r};this.Zv={x:n,y:d,xlog:v,ylog:w};null==this.xp&&(this.xp=new _geo.c.axis.cK(n,d),this.xp.wx(_geo.c.axis.wd.ic,this.qu.x),
this.xp.wx(_geo.c.axis.wd.jc,this.qu.y),e=new _geo.c.V.Cg,e.Ae("grid_layer"),e.Ia(this.xp),this.Xv.bh(0,e),this.XM.x=(new _geo.c.controls.$.Vk({bounds:new _geo.c.f.Rect(0,0,1,1),bins:25,frequencytype:_geo.c.controls.$.Vk.jS.UYa,fillstyle:new _geo.c.attributes.Ha("rgba(192,192,192,0.3)"),linestyle:new _geo.c.attributes.za("rgba(192,192,192,0.3)")})).Ma(!1),this.XM.y=(new _geo.c.controls.$.Vk({bounds:new _geo.c.f.Rect(0,0,1,1),bins:25,frequencytype:_geo.c.controls.$.Vk.jS.UYa,fillstyle:new _geo.c.attributes.Ha("rgba(192,192,192,0.3)"),
linestyle:new _geo.c.attributes.za("rgba(192,192,192,0.3)")})).Ma(!1),e=(new _geo.c.V.Ya).Ia(this.XM.x),f=(new _geo.c.V.Ya).Ia(this.XM.y).rotate(-Math.PI/2,.5,.5),h=null,this.gD&&(h=null==this.cq?new _geo.c.V.Ek:new _geo.c.V.Ek(this.cq.width,this.cq.height)),u=this.Fb.Db("center"),this.j1a=(new _geo.c.V.Ya).Kl(h).Ma(!1).Ga(null!=u?u.ha().clone():null).cb(new _geo.c.f.Rect(0,0,1,1)).Ia([new _geo.c.V.$.Th({left:0,top:0,width:1,height:1,linestyle:new _geo.c.attributes.za("transparent")}),e,f]),u.Ia(this.j1a));
this.w2();return this};b.prototype.w2=function(){this.ue.x.zg(this.fo["x"+(this.dv.x?"log":"")]);this.ue.y.zg(this.fo["y"+(this.dv.y?"log":"")]);this.ue.z.zg(this.fo["z"+(this.dv.z?"log":"")]);this.xp.zg(_geo.c.f.Pb.jc,this.Zv["x"+(this.dv.x?"log":"")]);this.xp.zg(_geo.c.f.Pb.ic,this.Zv["y"+(this.dv.y?"log":"")]);var a=this.dv.z?Math.log(this.Et.z)/Math.LN10:this.Et.z,b=this.dv.z?Math.log(this.$s.z)/Math.LN10:this.$s.z;this.ue.z.cb(new _geo.c.f.Rect(a,a,b,b))};b.prototype.setData=function(a){_geo.c.Ac(a,
this.getData());_geo.c.qa.Bh.prototype.setData.call(this,a);null!=a.bounds&&this.Ga(a.bounds);this.yda(a.header);null!=a.datasource&&(null!=this.jg&&this.jg.pb("StateChanged",this.Nza),this.jg=a.datasource,null!=this.jg&&this.jg.tb("StateChanged",this.Nza));null!=a.marker&&this.Ebb(a.marker);void 0!==a.colorprovider&&(null!=a.z?this.Qy(a.colorprovider,a.z.logarithmic):this.Qy(a.colorprovider));null!=a.x&&this.L2("x",a.x);null!=a.y&&this.L2("y",a.y);null!=a.z&&this.L2("z",a.z);this.Jv(a.tools);return this};
b.prototype.getData=function(a){a=a||{};var b=_geo.c.qa.Bh.prototype.getData.call(this,a);null!=this.ha()&&(b.bounds=this.ha().la());b.header=this.Tba(b.header);b.x=this.l1("x",a);b.y=this.l1("y",a);b.z=this.l1("z",a);null!=this.Im()&&(b.colorprovider=this.Im().la());b.marker=this.X7a();return b};b.prototype.bb=function(a){a=_geo.c.Ac(a,this.la());this.yda(a.header);null!=a.marker&&this.Ebb(a.marker);void 0!==a.colorprovider&&this.Qy(a.colorprovider);a.hasOwnProperty("tools")&&this.Jv(a.tools);return this};
b.prototype.xb=function(){var a=_geo.c.qa.Bh.prototype.getData.call(this);a.header=this.Tba();null!=this.Im()&&(a.colorprovider=this.Im().la());a.marker=this.X7a();a.colorprovider=this.Im();a.tools=this.vU();return a};b.prototype.Ebb=function(a){if(null==a)return this;var b={},d={};null!=a.defaultcolor&&(b.defaultcolor=a.defaultcolor);void 0!==a.defaultlinecolor&&(b.defaultlinecolor=a.defaultlinecolor);null!=a.highlightcolor&&(d.defaultcolor=a.highlightcolor,b.highlightcolor=a.highlightcolor);null!=
a.size&&(b.symbolsize=a.size);d.symbolsize=null!=a.highlightsize?a.highlightsize:a.size;null!=a.painter&&(b.painter="string"===typeof a.painter?_geo.c.FQ(a.painter):a.painter);d.painter=null!=a.highlightpainter?"string"===typeof a.highlightpainter?_geo.c.FQ(a.highlightpainter):a.highlightpainter:"string"===typeof a.painter?_geo.c.FQ(a.painter):a.painter;this.SE.setData(b);this.NAa.setData(d);this.Cnc=d;return this};b.prototype.X7a=function(){var a={},b=this.SE.getData(),d=this.NAa.getData();a.painter=
"string"===typeof b.painter?b.painter:b.painter.getClassName();a.size=b.symbolsize;a.defaultcolor=b.defaultcolor.uC();a.defaultlinecolor=b.defaultlinecolor instanceof _geo.c.f.vb?b.defaultlinecolor.uC():null;a.highlightcolor=b.highlightcolor.uC();a.highlightsize=d.symbolsize;return a};b.prototype.yda=function(a){if(null==a)return this;var b={};null!=a.title&&this.ni.ka(a.title);null!=a.annotationsize&&(b.north=a.annotationsize);this.Rk(b);this.$t();return this};b.prototype.Tba=function(){var a={};
null!=this.ni&&(a.title=this.ni.la());a.annotationsize=this.Fb.Db(_geo.c.fa.Oa.Le).Re();return a};b.prototype.wyc=function(){function a(b,d){return b.toFixed(2)}function b(a,d){return Math.pow(10,a).toFixed(2)}return this.dv.x?b:a};b.prototype.$wc=function(){function a(b,d){return d.toFixed(2)}function b(a,d){return Math.pow(10,d).toFixed(2)}return this.dv.y?b:a};b.prototype.L2=function(a,b,d){var e=null!=d?d:{};if(null==b)return e;a=a.toLowerCase();if("x"!==a&&"y"!==a&&"z"!==a)return e;var f=!1,
g={},h={},r={x:"south",y:"west",z:"east"};void 0!==b.neatlimits&&(this.jMa[a]=b.neatlimits,this.qu[a]&&(b.minspan&&this.qu[a].bb({minspan:b.minspan}),this.qu[a].K8(void 0!==b.logarithmic&&b.logarithmic?!1:b.neatlimits)));if(void 0===b.datasource)if(null!=this.jg&&null!=b.name){var n=null;this.jg.Mf().Ve('item => name(item) == "'+b.name+'"').select(function(a){n=a});null!=n&&(b.datasource=n)}else null!=this.Vs[a]&&(b.datasource=this.Vs[a]);b.datasource!=this.Vs[a]&&(f=!0,null==this.jg&&null!=this.Vs[a]&&
this.Vs[a].pb(_geo.c.data.yl.aa.Pm,this.Pib),this.Vs[a]=b.datasource,null==this.jg&&null!=this.Vs[a]&&this.Vs[a].tb(_geo.c.data.yl.aa.Pm,this.Pib));var v=this.Vs[a];b.hasOwnProperty("unit")&&(null==b.unit!==(null==this.Ik[a])||null!=b.unit&&!_geo.c.f.Bf.ib().Zb(b.unit).tF(this.Ik[a]))&&(this.Ik[a]=b.unit,null!=v&&(f=!0));null!=v&&(null==v.Zb()||null!=v.Zb()&&""===v.Zb().Yd()?null!=this.Ik[a]&&(this.Ik[a]=null,f=!0):_geo.c.f.Bf.ib().Zb(v.Zb()).tr(this.Ik[a])||(this.Ik[a]=v.Zb(),f=!0));null!=b.autominmax&&
(this.aKa[a]=b.autominmax);f&&(null!=v?null==b.data&&(b.data=v.ye(!1,this.Ik[a])):b.data=[]);var w=[];if(null!=b.data)for(f=!0,null==this.Y_[a]&&0<b.data.length&&(w=_geo.c.f.Math.cJ(b.data),null==b.min&&(b.min=w[0]),null==b.max&&(b.max=w[1]),null==b.reversed&&(b.reversed="y"===a?b.min<b.max:b.min>b.max)),this.Y_[a]=b.data,this.SC[a]=[],w=0;w<b.data.length;++w)this.SC[a].push(Math.log(b.data[w])/Math.LN10);!0===this.aKa[a]&&(null!=v?(b.min=v.mh(this.Ik[a]),b.max=v.Yh(this.Ik[a])):null!=this.Y_[a]&&
(w=_geo.c.f.Math.cJ(this.Y_[a]),b.min=w[0],b.max=w[1]));null!=b.logarithmic&&this.dv[a]!==b.logarithmic&&(f=!0,this.dv[a]=b.logarithmic,"x"===a&&(w=this.wyc(),this.et.du(_geo.c.fa.Oa.Le,{textconverter:w}),this.et.du(_geo.c.fa.Oa.Wc,{textconverter:w})),"y"===a&&(w=this.$wc(),this.et.du(_geo.c.fa.Oa.od,{textconverter:w}),this.et.du(_geo.c.fa.Oa.Sc,{textconverter:w})));null==b.label&&null!==this.ui[a]&&(b.label={});null!=b.label&&null==b.label.text&&null!=v&&(v=[v.getName()],this.Ik[a]instanceof _geo.c.f.Dq?
(v.push(" ("),v.push(this.Ik[a].Yd()),v.push(")")):"string"===typeof this.Ik[a]&&(v.push(" ("),v.push(this.Ik[a]),v.push(")")),b.label.text=v.join(""));null!=b.label&&(null!=this.ui[a]?this.ui[a].ka(b.label):"z"===a?(v=this.ue[a].B7(),h.axis={title:{title:b.label.text,textstyle:null!=v?v.clone().ka(b.label.textstyle):b.label.textstyle}}):(v=b.label.textstyle?this.ue[a].B7().clone().ka(b.label.textstyle):this.ue[a].B7(),this.ue[a].Vp({title:b.label.text,textstyle:v})),"z"===a&&null!=b.label.text&&
(h.titletext=b.label.text));null!=b.axis&&(null!=b.axis.title&&this.ue[a].Vp(b.axis.title),null!=b.axis.baseline&&this.ue[a].BO(b.axis.baseline),null!=b.axis.autolabelrotation&&("z"===a?this.Ug.bb({axis:{autolabelrotation:b.axis.autolabelrotation}}):this.ue[a].Wz(b.axis.autolabelrotation)),null!=b.axis.autolabelrotationangle&&("z"===a?this.Ug.bb({axis:{autolabelrotationangle:b.axis.autolabelrotationangle}}):this.ue[a].z8(b.axis.autolabelrotationangle)));null!=b.annotationsize&&(g[r[a]]=b.annotationsize);
null!=b.min&&(this.Et[a]=b.min);null!=b.max&&(this.$s[a]=b.max);!0===b.neatlimits&&(r=_geo.c.f.Math.sr(this.Et[a],this.$s[a],!1,!1),this.Et[a]=r.nb(),this.$s[a]=r.wb());!0===f&&(e["data"+a]=this.dv[a]?this.SC[a]:this.Y_[a]);null!=b.tickgenerator&&(this.fo[a+(this.dv[a]?"log":"")]=b.tickgenerator);null!=b.gridtickgenerator&&"z"!==a&&(this.Zv[a+(this.dv[a]?"log":"")]=b.gridtickgenerator);null!=b.axisticks&&(this.fo[a].bb(b.axisticks),this.fo[a+"log"].bb(b.axisticks));null!=b.gridticks&&"z"!==a&&(this.Zv[a].bb(b.gridticks),
this.Zv[a+"log"].bb(b.gridticks));this.dv[a]?(e["min"+a]=0===this.Et[a]?0:Math.log(this.Et[a])/Math.LN10,e["max"+a]=0===this.$s[a]?0:Math.log(this.$s[a])/Math.LN10):(e["min"+a]=this.Et[a],e["max"+a]=this.$s[a]);"z"===a&&(h.min=e.minz,h.max=e.maxz);f={};null!=b.histogram&&(r=this.XM[a],null!=b.histogram.visible&&r.Ma(b.histogram.visible),null!=b.histogram.fillstyle?f.fillstyle=b.histogram.fillstyle:null!=b.histogram.color&&(f.fillstyle=_geo.c.attributes.Ha.gb(b.histogram.color)),null!=b.histogram.linestyle?
f.linestyle=b.histogram.linestyle:null!=b.histogram.linecolor&&(f.linestyle=_geo.c.attributes.za.gb(b.histogram.linecolor)),null!=b.histogram.bins&&(f.bins=Number(b.histogram.bins)));if(null==d){this.w2();this.SE.setData(e);if("z"!==a){d={};d["min"+a]=e["min"+a];d["max"+a]=e["max"+a];for(var x in this.Vga)this.Vga.hasOwnProperty(x)&&this.Vga[x]["cross-plot"].setData(d)}this.Xz(this.hLa())}else"z"!==a&&(d["min"+a]=e["min"+a],d["max"+a]=e["max"+a]);null!=b.reversed&&("x"===a&&this.Fb.Uc().cu(b.reversed),
"y"===a&&this.Fb.Uc().Xj(b.reversed),"z"===a&&(h.flip=b.reversed));this.Rk(g);"z"===a&&(this.Xd instanceof _geo.c.f.er&&(null!=this.Xd.kca()?this.Xd.so(this.Xd.kca(),h.min,h.max):this.Xd.tda(h.min,h.max)),this.Ug.bb(h),null!=b.legendvisible&&this.Ug.Ma(b.legendvisible),this.Ug.lg());this.$t();"z"===a&&this.Ug.Nb();"z"!==a&&!0===this.XM[a].ob()&&(this.XM[a].setData(f),this.SE.ai(),this.Oyb(a));return e};b.prototype.hLa=function(){var a=this.SE.ha();this.qu.x.ai(a.ua(),a.ya(),this.SE.Za());a=a.clone().zb(this.qu.x.mh()).rb(this.qu.x.Yh()-
this.qu.x.mh());this.qu.y.ai(a.ta(),a.xa(),this.SE.Za());return a=a.clone().Eb(this.qu.y.mh()).Hb(this.qu.y.Yh()-this.qu.y.mh())};b.prototype.en=function(){_geo.c.qa.Bh.prototype.en.call(this);if(!this.BAa&&this.SE){this.BAa=!0;var a=this.p1(),b=this.hLa();b.Ij(a)||this.Xz(b);this.BAa=!1}return this};b.prototype.l1=function(a,b){a=a.toLowerCase();if("x"!==a&&"y"!==a&&"z"!==a)return this;var d={};d.unit=this.Ik[a];null!=this.Vs[a]&&(d.autominmax=this.aKa[a].autominmax);null!=b&&!0!==b["no-data"]&&
(d.datasource=this.Vs[a],d.data=this.Y_[a]);d.label=null!=this.ui[a]?this.ui[a].la():{text:this.ue[a].Op(),textstyle:this.ue[a].B7()};var e={x:_geo.c.fa.Oa.Wc,y:_geo.c.fa.Oa.Sc,z:_geo.c.fa.Oa.od},e=this.Fb.Db(e[a]);d.annotationsize="x"===a?e.Re():e.bl();d.min=this.Et[a];d.max=this.$s[a];d.logarithmic=this.dv[a];this.fo[a]&&(d.axisticks=this.fo[a].la());if("z"!==a){d.gridticks=this.Zv[a].la();var e={},f=this.XM[a];e.visible=f.ob();e.bins=f.xL();e.color=f.Bb().Kc();e.linecolor=f.ab().Kc();d.histogram=
e}"z"===a&&(d.reversed=this.Ug.xb().flip);"x"===a&&(d.reversed=this.Fb.Uc().Fy());"y"===a&&(d.reversed=this.Fb.Uc().vq());"z"===a&&(d.legendvisible=this.Ug.ob());return d};b.prototype.Oyb=function(a){if("x"!==a&&"y"!==a||null==this.XM||null==this.XM[a]||!1===this.XM[a].ob())return this;var b=this.Fb.Uc().Wb(),d=this.SE.oub(b).map(function(b){return b[a]}),e="x"===a?b.ga():b.ea(),b=e+("x"===a?b.ba():b.da());this.XM[a].setData({data:d,minvalue:e,maxvalue:b});"y"===a&&this.XM[a].getParent().cu(this.Fb.Uc().Fy());
"x"===a&&this.XM[a].getParent().Xj(this.Fb.Uc().vq());this.XM[a].ma();return this};b.prototype.aCc=function(a,b,d){if(d.data instanceof _geo.c.f.dK){a={x:{axisname:"x",dataModified:!1,boundsChanged:!1,dataCommands:[],changed:!1,exists:!1,data:null},y:{axisname:"y",dataModified:!1,dataCommands:[],boundsChanged:!1,changed:!1,exists:!1,data:null},z:{axisname:"z",dataModified:!1,dataCommands:[],boundsChanged:!1,changed:!1,exists:!1,data:null}};for(var e in this.Vs)if(this.Vs.hasOwnProperty(e)){a[e].exists=
!0;var f=this.Vs[e];if(null!=f){var g=d.data.Hz(f)?d.data.get(f):null,h;if(null!=g)for(b=0;b<g.length;b++)if(a[e].changed=!0,h=g[b].data)"state"===h.name?(null!=h.value.min&&(a[e].min=h.value.min,a[e].boundsChanged=!0),null!=h.value.max&&(a[e].max=h.value.max,a[e].boundsChanged=!0),h=h.value.range,null!=h&&null!=h.changes&&(a[e].dataModified=!0,"shifted"===h.changes?a[e].dataCommands.push({name:"shifted",amount:h.amount}):h.changes===_geo.c.data.tp.Al.Nva?a[e].dataCommands.push({name:h.changes,amount:h.amount}):
h.changes===_geo.c.data.tp.Al.Zma?a[e].dataCommands.push({name:h.changes,from:h.from,amount:h.amount}):h.changes===_geo.c.data.aa.ff&&(h=this.l1(e,{}),null!=h.datasource&&(a[e].name="reset",a[e].data=h.datasource,a[e].src=f)))):"data"===h.name&&(a[e].data=h.value,a[e].name="data",a[e].src=f)}}d=function(a,b){if(!a.exists||!b.exists)return!1;var d=a.boundsChanged&&this.aKa[a.axisname]||b.boundsChanged&&this.aKa[b.axisname]||a.changed!==b.changed||a.dataModified!==b.dataModified||a.dataCommands.length!==
b.dataCommands.length||"reset"===a.name||"reset"===b.name;if(!d&&0<a.dataCommands.length)for(var e=a.dataCommands,f=b.dataCommands,g=0;g<e.length;++g)if(e[g].name!==f[g].name||e[g].amount!==f[g].amount||e[g].name===_geo.c.data.tp.Al.Zma&&e[g].from!==f[g].from){d=!0;break}return d}.bind(this);b={};if(d(a.x,a.y)||d(a.x,a.z))a.x.changed&&(b=this.Zja(_geo.c.data.yl.aa.Pm,a.x.src,a.x,b)),a.y.changed&&(b=this.Zja(_geo.c.data.yl.aa.Pm,a.y.src,a.y,b)),a.z.changed&&(b=this.Zja(_geo.c.data.yl.aa.Pm,a.z.src,
a.z,b)),this.w2(),this.SE.setData(b),this.Xz(this.hLa());else{d=a.x.dataCommands;for(b=0;b<d.length;++b)e=d[b],"shifted"===e.name?this.kDb(e.amount):e.name===_geo.c.data.tp.Al.Nva?this.PT(e.amount):e.name===_geo.c.data.tp.Al.Zma&&this.mua(e.from,e.amount);if(0===d.length){var r=this.getData({"no-data":!0});d=function(a,b){null!=r[a]&&null!=b[a]&&!0!==r[a].autominmax&&(b[a].autominmax=!1,b[a].min=r[a].min,b[a].max=r[a].max)};d("x",a);d("y",a);d("z",a);this.setData(a)}}}};b.prototype.Zja=function(a,
b,d,e){e=this.Nhb("x",a,b,d,e);e=this.Nhb("y",a,b,d,e);return e=this.Nhb("z",a,b,d,e)};b.prototype.Nhb=function(a,b,d,e,f){if(b!==_geo.c.data.yl.aa.Pm||!(d instanceof _geo.c.data.Hq||d instanceof _geo.c.data.jE)||this.Vs[a]!==d)return f;b={data:d.ye(!1,this.Ik[a])};!0===d.autominmax&&(b.min=d.mh(this.Ik[a]),b.max=d.Yh(this.Ik[a]));return this.L2(a,b,f)};b.prototype.kpb=function(a,b){return this.Vs[a].kpb(b,this.Ik[a])};b.prototype.Da=function(a,b){if(!(null==this.Vs[a]||this.Vs[a].ud()<=b)){var d=
this.Vs[a].Da(b);null!=this.Vs[a].Zb()&&(d=this.Vs[a].Zb().Ib(d,this.Ik[a]));this.dv[a]&&(d=Math.log(d)/Math.LN10);return d}};b.prototype.kDb=function(a){for(var b in this.Vs)if(this.Vs.hasOwnProperty(b)){var d=this.dv[b]?this.SC[b]:null;if(null!=d)for(var e=0;e<a;e++)d.shift()}this.SE.kDb(a)};b.prototype.mua=function(a,b){for(var d in this.Vs)if(this.Vs.hasOwnProperty(d)){var e=this.dv[d]?this.SC[d]:null;null!=e&&e.splice(a,b)}this.SE.mua(a,b)};b.prototype.PT=function(a){for(var b=this.Vs.x.ud(),
d=b-a;d<b;d++){var e={x:this.Da("x",d),y:this.Da("y",d),z:this.Da("z",d)};this.dv.x?this.SC.x[d]=e.x:this.Y_.x[d]=e.x;this.dv.y?this.SC.y[d]=e.y:this.Y_.y[d]=e.y;this.dv.z?this.SC.z[d]=e.z:this.Y_.z[d]=e.z}this.SE.PT(a)};b.prototype.Qy=function(a,b){if(null==a){var d=this.SE.getData().defaultcolor.uC();a=new _geo.c.f.er({values:[0,1],colors:[d,d]})}a instanceof _geo.c.f.Te?this.Xd=a:null!=a.type&&(d=_geo.c.f.Te.YPa(a.type),this.Xd=d.gb(a));var d={},e=null;if(e=null!=b?this.dv.z===b?this.dv:b:this.dv.z){for(var e=
this.Xd.Ut(),f=e.map(function(a){return _geo.c.f.Math.log10(a.value,null,!0)}),g=2.220446049250313E-16,h=1;h<e.length;++h)f[h]===f[h-1]&&(f[h-1]-=1.1*g,f[h]+=1.1*g);d.colorprovider=new _geo.c.f.er({values:f,colors:e.map(function(a){return a.color})})}else d.colorprovider=this.Xd;this.w2();this.SE.setData(d);this.Ug.bb(d);this.Ug.Nb();this.Ug.lg();return this};b.prototype.Im=function(){return this.Xd};b.prototype.AQa=function(a){null==a&&(a="default");return null==this.Vga[a]?null:this.Vga[a]["highlighted-indices"]};
b.prototype.BRa=function(a,b){var d=this.SE.BL(a);this.ML(d,b)};b.prototype.Mqc=function(a,b,d){var e=a["cross-plot"];null!=b.options&&e.setData(b.options);if(null!=b.indices){var f=!0===d?b.indices:a["highlighted-indices"].concat(b.indices);a["highlighted-indices"]=f;a=[];b=[];d=this.dv.x?this.SC.x:this.Y_.x;var g=this.dv.y?this.SC.y:this.Y_.y;if(Array.isArray(d)&&Array.isArray(g))for(var f=f.slice().sort(),h=0;h<f.length;++h){var r=f[h];if(0===h||r!==f[h-1])a.push(d[r]),b.push(g[r])}e.setData({datax:a,
datay:b})}};b.prototype.ML=function(a,b){function d(a,b,e){a=a.getData();var f={};f["min"+e]=a["min"+e];f["max"+e]=a["max"+e];b.setData(f)}var e=a;Array.isArray(a)&&(e={"default":{indices:a}});for(var f in e)if(e.hasOwnProperty(f)){var g=this.Vga[f];null==g&&(g=(new _geo.c.controls.$.QZ).Qb(f).setData(this.Cnc).Ga(this.NAa.ha().clone()),d(this.NAa,g,"x"),d(this.NAa,g,"y"),this.vRb.Ia([g]),this.Vga[f]={"cross-plot":g,"highlighted-indices":[]});this.Mqc(this.Vga[f],e[f],b)}return this};b.prototype.BL=
function(a){return this.SE.BL(a)};b.prototype.el=function(){this.Oyb("x");this.Oyb("y")};b.prototype.Jv=function(a){if(null==a)return this;null!=a.crosshair&&(null!=a.crosshair.north&&(a.crosshair.north.textconverter=null),null!=a.crosshair.south&&(a.crosshair.south.textconverter=null),null!=a.crosshair.east&&(a.crosshair.east.textconverter=null),null!=a.crosshair.west&&(a.crosshair.west.textconverter=null));_geo.c.qa.Bh.prototype.Jv.call(this,a);return this};b.prototype.Vcc=function(a,b,d){this.h0a&&
this.fx(this.h0a);this.h0a=new _geo.c.controls.ia.HF({offset:b?b:0,symbolAlignment:a?a:_geo.c.controls.ia.HF.JM.TO,group:this.getParent(),colorbar:this.Ug,callback:function(a,b,d){a=new _geo.c.f.Rect(a.x-5,a.y-5,a.x+5,a.y+5);a=this.Uc().Za().xe(a);a=this.BL(a);return 0<a.length?this.getData().z.data[a[a.length-1]]:null}.bind(this)});d instanceof _geo.c.V.$.Symbol&&this.h0a.Sk(d);this.nq(this.h0a);return this};var h=_geo.c.qa.jf.he.Kp();h.Gp("geotoolkit.widgets.CrossPlot",h.Oz("geotoolkit.widgets.BaseWidget"));
return b}();
_geo.c.qa.Vk=function(){function b(a){null==a&&(a={});var b=15,g=25,k=15,m=d;a.border=_geo.c.Ja(a.border,{color:"transparent"},!0);g={bounds:a.bounds,border:a.border,north:null,south:null,west:null,east:null,annotationssizes:{north:b+g,west:b+m+g,south:b+m+k+g,east:b+m}};g=_geo.c.Ja(a,g,!0);g.fillstyle=g.backgroundfillstyle;this.SC=this.wa=this.jg=null;this.zLa=!1;this.Lg=null;this.Et={x:0,y:0};this.$s={x:1,y:null};this.MK=null;this.cNb=this.Mhb=this.Lhb=!1;this.MK=new _geo.c.V.Cg;this.MK.Ae("hplot_layer");b=
this.uha();_geo.c.qa.Bh.call(this,g);this.UQ=new _geo.c.axis.iea({orientation:_geo.c.axis.wd.ic});this.OO=new _geo.c.axis.iea({orientation:_geo.c.axis.wd.jc});this.ni=_geo.c.V.qp.rL(this.Fb,{location:_geo.c.fa.Oa.Le,text:"title",textstyle:{font:e}}).text;g=_geo.c.V.qp.PG(this.Fb,{location:_geo.c.fa.Oa.Wc,connect:!0}).axis;g.wx(this.UQ);g.pe("horizontalAxis");var k=_geo.c.V.qp.rL(this.Fb,{location:_geo.c.fa.Oa.Wc,text:"xlabel"}).text,m=_geo.c.V.qp.rL(this.Fb,{location:_geo.c.fa.Oa.Sc,text:"ylabel"}).text,
q=_geo.c.V.qp.PG(this.Fb,{location:_geo.c.fa.Oa.Sc,connect:!0}).axis;q.wx(this.OO);q.pe("verticalAxis");var p=_geo.c.V.qp.PG(this.Fb,{location:_geo.c.fa.Oa.od,connect:!0}).axis;p.pe("verticalAxis");this.ue={x:g,west:q,east:p};this.ui={x:k,y:m};this.Xv=new _geo.c.V.Ya;this.Xv.Ia(this.MK);this.Fb.Uc().bh(0,this.Xv);this.Zqa();this.$t();this.ru.Ma(!1);this.Xv.Kl(new _geo.c.V.Ek);this.xlb=this.Zja.bind(this);this.RK=this.$ja.bind(this);this.setData(a);this.Fb.Uc().Xj(!0);this.Xz(b.ha());this.odb()}var a=
"#e0e0e0",g="#f5f5f5",e="16px Roboto",d=30;_geo.c.na(b,_geo.c.qa.Bh);_geo.c.ja(b,"geotoolkit.widgets.Histogram");b.aa={r9:"dataUpdated"};b.prototype.Ra=function(){null!=this.jg&&(this.jg.pb(_geo.c.data.yl.aa.Pm,this.xlb),this.jg.pb(_geo.c.data.aa.ff,this.RK),this.jg=null);_geo.c.qa.Bh.prototype.Ra.call(this)};b.prototype.uha=function(){var a=new _geo.c.controls.$.Vk;a.tb(_geo.c.controls.$.Vk.aa.r9,function(a,b,d){this.Pa(_geo.c.qa.Vk.aa.r9,b,d)}.bind(this));this.MK.Ia(a);return a};b.prototype.qy=
function(a){return this.MK.Dc(null!=a?a:0)};b.prototype.th=function(){_geo.c.qa.Bh.prototype.th.call(this);this.fQ.OD(_geo.c.controls.ia.GM.ic);this.He.Ma(!1);this.Fb.MR(function(a,b){b=_geo.c.V.jj.BSa(a,b);return _geo.c.V.jj.tua(a,b)});var a=new _geo.c.f.FV,b=function(b,d){var e=this.qy().m1(b);return null==e?"":"["+a.format(e.minvalue)+":"+a.format(e.maxvalue)+"] "}.bind(this),d=function(b,d){var e=this.qy().m1(b);return null==e?"":a.format(e.frequency)+" "}.bind(this);this.et.du(_geo.c.fa.Oa.Le,
{textconverter:b});this.et.du(_geo.c.fa.Oa.Wc,{textconverter:b});this.et.du(_geo.c.fa.Oa.od,{textconverter:d});this.et.du(_geo.c.fa.Oa.Sc,{textconverter:d});this.Au.Sy(function(a){for(var b=0;b<a.length;++b)if(a[b].histogram===this.qy())return a[b];return[]}.bind(this)).addListener(_geo.c.controls.ia.Selection.aa.lF,function(a,b){b.getSelection().indices instanceof Array&&this.O7(b.getSelection().indices,this.eAa)}.bind(this));this.VK.zc(!0).OD(_geo.c.controls.ia.DM.Ka).addListener(_geo.c.controls.ia.GC.aa.mF,
function(a){this.Xv.Kl(null)}.bind(this)).addListener(_geo.c.controls.ia.GC.aa.Ev,function(a){this.Xv.Kl(new _geo.c.V.Ek)}.bind(this));return this};b.prototype.odb=function(){var a=new _geo.c.f.FV,b=function(b,d){var e=this.Vj()?this.qy().m1(d):this.qy().m1(b);return null==e?"":"["+a.format(e.minvalue)+":"+a.format(e.maxvalue)+"] "}.bind(this),d=function(b,d){var e=this.Vj()?this.qy().m1(d):this.qy().m1(b);return null==e?"":a.format(e.frequency)+" "}.bind(this);this.Vj()?(this.fQ.OD(_geo.c.controls.ia.GM.jc),
this.Pe.Ma(!1),this.Fb.MR(function(a,b){b=_geo.c.V.jj.k$a(a,b);return _geo.c.V.jj.tua(a,b)}),this.et.du(_geo.c.fa.Oa.Le,{textconverter:d}),this.et.du(_geo.c.fa.Oa.Wc,{textconverter:d}),this.et.du(_geo.c.fa.Oa.od,{textconverter:b}),this.et.du(_geo.c.fa.Oa.Sc,{textconverter:b}),this.VK.OD(_geo.c.controls.ia.DM.Na)):(this.fQ.OD(_geo.c.controls.ia.GM.ic),this.He.Ma(!1),this.Fb.MR(function(a,b){b=_geo.c.V.jj.BSa(a,b);return _geo.c.V.jj.tua(a,b)}),this.et.du(_geo.c.fa.Oa.Le,{textconverter:b}),this.et.du(_geo.c.fa.Oa.Wc,
{textconverter:b}),this.et.du(_geo.c.fa.Oa.od,{textconverter:d}),this.et.du(_geo.c.fa.Oa.Sc,{textconverter:d}),this.VK.OD(_geo.c.controls.ia.DM.Ka))};b.prototype.Zqa=function(){function b(d){d.sj("MAJOR").ed(a);d.sj("MINOR").ed(g);d.ug("MINOR",!0);d.ug("EDGE",!1);return d}this.xNb=new _geo.c.controls.axis.uma(this.qy().xL());var d=new _geo.c.axis.ju,e=new _geo.c.axis.EF;this.hib=new _geo.c.controls.axis.uma(this.qy().xL());var k=new _geo.c.axis.ju,m=new _geo.c.axis.EF;b(this.hib).ug("MAJOR",!1);b(k);
b(m);this.fo={x:this.xNb,y:d,xlog:e};this.Zv={x:this.hib,y:k,xlog:m};null==this.xp&&(d=new _geo.c.axis.ju,b(d),this.xp=new _geo.c.axis.cK(d,k),k=new _geo.c.V.Cg,k.Ae("grid_layer"),k.Ia(this.xp),this.Xv.bh(0,k),this.ru=new _geo.c.V.Ya,this.ru.Ga(this.Fb.Uc().getParent().ha()),this.ru.cb(new _geo.c.f.Rect(0,0,1,1)),this.ru.Ia(new _geo.c.V.$.Th({left:0,top:0,width:1,height:1,linestyle:new _geo.c.attributes.za("transparent")})),this.h$=new _geo.c.V.$.hr({x:[0,1],y:[0,0],linestyle:new _geo.c.attributes.za("red")}),
this.h$.Ma(!1),this.ru.Xj(!0),this.ru.Ia(this.h$),this.Fb.Ia(this.ru));this.w2();return this};b.prototype.dl=function(){return this.qy().dl()};b.prototype.setOrientation=function(a){a!==this.dl()&&this.BVa();this.qy().setOrientation(a);this.odb();this.w2();this.bab();return this};b.prototype.el=function(){if(null==this.h$||!1===this.h$.ob()||null==this.wa)return this;var a=this.Vj(),b=this.Fb.Uc().Wb(),d=a?b.ea():b.ga(),e=d+(a?b.da():b.ba()),b=[],g=[],q=[],p;for(p=0;p<this.wa.length;++p){var u=this.wa[p];
u>=d&&u<=e?b.push(u):Math.abs(u-d)<_geo.c.f.Math.Hc?b.push(d):Math.abs(u-e)<_geo.c.f.Math.Hc&&b.push(e)}u=b.length;q[0]=0;g[0]=0;if(0<u){b.sort(function(a,b){return a-b});var e=e-d,t=0,r=0;for(p=0;p<u;++p)t=(b[p]-d)/e,r=(p+1)/u,q.push(t,t),g.push(r-1/u,r);q.push(1);g.push(1)}else q[1]=1,g[1]=0;a?this.h$.hl(g,q):this.h$.hl(q,g);this.h$.ma();return this};b.prototype.$t=function(){_geo.c.qa.Bh.prototype.$t.call(this);if(null==this.ru)return this;this.ru.Ga(this.Fb.Uc().getParent().ha());this.ru.Ma(!0);
return this};b.prototype.w2=function(){this.Vj()?(this.ue.west.zg(this.fo["x"+(this.zLa?"log":"")]),this.ue.x.zg(this.fo.y),this.xp.zg(_geo.c.f.Pb.ic,this.Zv["x"+(this.zLa?"log":"")]),this.xp.zg(_geo.c.f.Pb.jc,this.Zv.y)):(this.ue.x.zg(this.fo["x"+(this.zLa?"log":"")]),this.ue.west.zg(this.fo.y),this.ue.east.zg(this.fo.y),this.xp.zg(_geo.c.f.Pb.jc,this.Zv["x"+(this.zLa?"log":"")]),this.xp.zg(_geo.c.f.Pb.ic,this.Zv.y))};b.prototype.setData=function(a){_geo.c.qa.Bh.prototype.setData.call(this,a);null!=
a.bounds&&this.Ga(a.bounds);this.yda(a.header);this.Jv(a.tools);null==a.x&&(a.x={});null==a.datasource&&null!=this.jg&&(a.datasource=this.jg);var b=a.datasource;b!==this.jg&&(null!=this.jg&&(this.jg.pb(_geo.c.data.yl.aa.Pm,this.xlb),this.jg.pb(_geo.c.data.aa.ff,this.RK)),this.jg=b,null!=this.jg&&(this.jg.tb(_geo.c.data.yl.aa.Pm,this.xlb),this.jg.tb(_geo.c.data.aa.ff,this.RK)));if(null!=b){null!=a.autominmax&&(this.jg.autominmax=a.autominmax);null==this.jg.autominmax&&(this.jg.autominmax=!0);if(null==
a.unit||null!=a.datasource.Zb()&&!this.HGa().Zb(a.datasource.Zb()).tr(a.unit)||null==a.datasource.Zb())a.unit=a.datasource.Zb();null==a.x.min&&!0===this.jg.autominmax&&(a.x.min=a.datasource.mh(a.unit));null==a.x.max&&!0===this.jg.autominmax&&(a.x.max=a.datasource.Yh(a.unit));null==a.data&&(a.data=a.datasource.ye(!1,a.unit));null==a.x.label&&(a.x.label={});null==a.x.label.text&&(a.x.label.text=a.datasource.getName(),null!=a.unit&&(a.x.label.text=a.unit instanceof _geo.c.f.Dq?a.x.label.text+(" ("+a.unit.Yd()+
")"):a.x.label.text+(" ("+a.unit+")")))}void 0!==a.unit&&(this.Lg=a.unit);null!=a.autominmax&&null!=this.jg&&(this.jg.autominmax=a.autominmax);if(null!=a.data){if(null==a.x.min||null==a.x.max){for(var b=Number.POSITIVE_INFINITY,d=Number.NEGATIVE_INFINITY,e=a.data.length,g=a.data,q=0;q<e;q++){var p=g[q];(0,window.isNaN)(p)||(b=Math.min(b,p),d=Math.max(d,p))}a.x.min=a.x.min||b;a.x.max=a.x.max||d}null==a.x.reversed&&(a.x.reversed=a.x.min>a.x.max);this.wa=a.data}b={};null!=a.data&&(b.data=a.data);null!=
a.bins&&(b.bins=a.bins);null!=a.fillstyle&&(b.fillstyle=a.fillstyle);null!=a.linestyle&&(b.linestyle=a.linestyle);null!=a.autogradient&&(b.autogradient=a.autogradient);null!=a.frequencytype&&(b.frequencytype=a.frequencytype);null!=a.highlightcolor&&(b.highlightstyle={color:a.highlightcolor});null!=a.binspacing&&(b.binspacing=a.binspacing);this.bab(b);null!=a.accumulation&&(null!=a.accumulation.visible&&this.h$.Ma(a.accumulation.visible),null!=a.accumulation.linestyle&&this.h$.Ba(a.accumulation.linestyle));
this.L2("x",a.x);this.L2("y",a.y);this.el();return this};b.prototype.getData=function(a){a=a||{};var b=_geo.c.qa.Bh.prototype.getData.call(this,a);null!=this.ha()&&(b.bounds=this.ha().la());b.header=this.Tba(b.header);b.x=this.l1("x",a);b.y=this.l1("y",a);null!=this.jg&&(b.autominmax=this.jg.autominmax);!0!==a["no-data"]&&(b.datasource=this.jg,b.data=this.wa);a=this.qy();b.bins=a.xL();b.fillstyle=a.Bb().la();b.autogradient=a.uia();b.linestyle=a.ab();b.frequencytype=a.csa();b.highlightcolor=a.zQa().Kc();
b.binspacing=a.S6a();return b};b.prototype.yda=function(a){if(null==a)return this;var b={};null!=a.title&&this.ni.ka(a.title);null!=a.annotationsize&&(b.north=a.annotationsize);this.Rk(b);this.$t();return this};b.prototype.Qn=function(){return this.qy().Qn()};b.prototype.ksa=function(){return this.qy().ksa()};b.prototype.ad=function(){return this.qy().ad()};b.prototype.kd=function(){return this.qy().kd()};b.prototype.Tba=function(){var a={};a.title=this.ni.la();a.annotationsize=this.Fb.Db(_geo.c.fa.Oa.Le).Re();
return a};b.prototype.L2=function(a,b){if(null==b)return this;a=a.toLowerCase();if("x"!==a&&"y"!==a)return this;var d={},e={},g={x:"south",y:"west"};null!=b.tickgenerator&&(this.fo[a]=b.tickgenerator,this.Zv[a]=b.tickgenerator);null!=b.label&&this.ui[a].ka(b.label);null!=b.annotationsize&&(e[g[a]]=b.annotationsize);null!=b.min&&(this.Et[a]=b.min,"x"===a&&(d.minvalue=b.min),"y"===a&&0>this.Et[a]&&(this.Et[a]=0));null!=b.max&&(this.$s[a]=b.max,"x"===a&&(d.maxvalue=b.max),"y"===a&&0>this.$s[a]&&(this.$s[a]=
0));null!=b.neatlimits&&("x"===a?(this.Lhb=b.neatlimits,this.cNb=b.neatlimitscenteredonzero):"y"===a&&(this.Mhb=b.neatlimits));this.Lhb&&"x"===a&&null!=b.max&&null!=b.min&&(g=_geo.c.f.Math.sr(this.Et[a],this.$s[a],!1,this.cNb),this.Et[a]=g.nb(),this.$s[a]=g.wb(),d.minvalue=g.nb(),d.maxvalue=g.wb());null!=b.autominmax&&!0===b.autominmax&&("x"===a?d.autominmax=b.autominmax:"y"===a&&(g=this.qy().Qn(),this.Et.y=g[12],this.$s.y=g[13]));null!=b.axisticks&&this.fo[a].bb(b.axisticks);null!=b.gridticks&&this.Zv[a].bb(b.gridticks);
if(null!=b.annotationside&&"y"===a){var g="left"===b.annotationside||"both"===b.annotationside||"west"===b.annotationside,q="right"===b.annotationside||"both"===b.annotationside||"east"===b.annotationside;this.ue.west.ob()!==g&&this.ue.west.Ma(g);this.ue.east.ob()!==q&&this.ue.east.Ma(q)}this.w2();this.bab(d);null!=b.reversed&&("x"===a&&this.Fb.Uc().cu(b.reversed),"y"===a&&this.Fb.Uc().Xj(b.reversed));this.Rk(e);this.$t();return this};b.prototype.bab=function(a){var b=this.qy();b.setData(a);this.Mhb&&
(a=1,b.csa()===_geo.c.controls.$.Vk.jS.Iva&&(b.qia()===_geo.c.controls.$.Vk.XR.dS?a=b.ksa():0<b.xL()&&(a=b.lCa(b.xL()-1))),a=_geo.c.f.Math.sr(0,a,this.zLa,!1),!(0,window.isNaN)(a.wb())&&(0,window.isFinite)(a.wb())?this.$s.y=a.wb():this.$s.y=1);null!=this.$s.y&&(this.Vj()?(b.va().zb(this.Et.y),b.va().rb(this.$s.y-this.Et.y)):(b.va().Eb(this.Et.y),b.va().Hb(this.$s.y-this.Et.y)));this.Xz(b.ha());this.Fb.Uc().ma();this.xNb.DO(b.xL());this.hib.DO(b.xL());return this};b.prototype.l1=function(a,b){a=a.toLowerCase();
if("x"!==a&&"y"!==a&&"z"!==a)return this;var d={};"x"===a?(d.unit=this.Lg,null!=this.jg?d.autominmax=this.jg.autominmax:d.neatlimits=this.Lhb,!0!==b["no-data"]&&(d.datasource=this.jg,d.data=this.wa)):"y"===a&&(d.neatlimits=this.Mhb);d.label=this.ui[a].la();var e={x:_geo.c.fa.Oa.Wc,y:_geo.c.fa.Oa.Sc},e=this.Fb.Db(e[a]);d.annotationsize="x"===a?e.Re():e.bl();d.min=this.Et[a];d.max=this.$s[a];d.axisticks=this.fo[a].la();d.gridticks=this.Zv[a].la();"x"===a&&(d.reversed=this.Fb.Uc().Fy());"y"===a&&(d.reversed=
this.Fb.Uc().vq());return d};b.prototype.Zja=function(a,b,d){if(a===_geo.c.data.yl.aa.Pm&&(b instanceof _geo.c.data.Hq||b instanceof _geo.c.data.jE))"data"===d.name&&this.setData({data:b.ye(!1,this.Lg)}),"min"===d.name&&!0===b.autominmax&&this.setData({min:b.mh(this.Lg)}),"max"===d.name&&!0===b.autominmax&&this.setData({max:b.Yh(this.Lg)});else return this;this.el();return this};b.prototype.$ja=function(a,b,d){this.setData({data:b.ye(!1,this.Lg),autominmax:this.jg.autominmax,x:{min:!0===this.jg.autominmax?
b.mh(this.Lg):this.Et.x,max:!0===this.jg.autominmax?b.Yh(this.Lg):this.$s.x}});this.el();return this};b.prototype.Vba=function(){for(var a=[],b=this.qy().T6a(),d=0;d<b.length;++d)!0===b[d].highlighted&&a.push(b[d].binnumber);return a};b.prototype.o4b=function(a,b){var d=this.qy().U6a(a).map(function(a){return a.binnumber});this.O7(d,b)};b.prototype.O7=function(a,b){this.qy().O7(a,b);return this};b.prototype.Jv=function(a){if(null==a)return this;null!=a.crosshair&&(null!=a.crosshair.north&&(a.crosshair.north.textconverter=
null),null!=a.crosshair.south&&(a.crosshair.south.textconverter=null),null!=a.crosshair.east&&(a.crosshair.east.textconverter=null),null!=a.crosshair.west&&(a.crosshair.west.textconverter=null));_geo.c.qa.Bh.prototype.Jv.call(this,a);return this};b.prototype.cB=function(a,b){var d=new _geo.c.xd.D9(b||_geo.c.qa.jf.yXa.ib()),d=d.AQ(a);d.ap("#widget",this);d.Bd("geotoolkit.widgets.Histogram","template");this.Nb()};b.prototype.uF=function(a){a=new _geo.c.xd.D9(a||_geo.c.qa.jf.yXa.ib());return a.ER("template",
this)};b.prototype.Vj=function(){return this.dl()===_geo.c.f.Pb.ic};b.prototype.BVa=function(){var a=this.ui.x.la(),b=this.ui.y.la();this.ui.x.ka({text:b.text,textstyle:b.textstyle});this.ui.y.ka({text:a.text,textstyle:a.textstyle})};b.prototype.ka=function(a){if(null==a)return this;a=_geo.c.yc(a);a.fillstyle=a.backgroundfillstyle;delete a.backgroundfillstyle;_geo.c.qa.Bh.prototype.ka.call(this,a);return this};return b}();
_geo.c.qa.vYa=function(){function b(b){null==b&&(b={});var e=20,g=25,l=15,k=30;b.viewcachesize=b.viewcache||null!=b.viewcachesize?_geo.c.Ja(b.viewcachesize,{width:256,height:256}):null;b.border=_geo.c.Ja(b.border,{color:"transparent"},!0);e={bounds:b.bounds,border:b.border,north:null,south:null,west:null,east:null,axiswidth:40,axisheight:40,annotationssizes:{north:e+g,west:e+k+g,south:e+k+l+g,east:e+k}};e=_geo.c.Ja(b,e,!0);this.AN=null;this.tmb=!1;this.t_a=!0;this.d5=[];this.Rfa={};this.Rfa[_geo.c.fa.Oa.Sc]=
e.annotationssizes.west;this.Rfa[_geo.c.fa.Oa.od]=e.annotationssizes.east;this.Rfa[_geo.c.fa.Oa.Wc]=e.annotationssizes.south;this.mi={};this.mi[_geo.c.fa.Oa.Sc]={};this.mi[_geo.c.fa.Oa.od]={};this.mi[_geo.c.fa.Oa.Wc]={};this.qn={};this.Cf={};this.Cf[_geo.c.fa.Oa.Sc]={};this.Cf[_geo.c.fa.Oa.od]={};this.Cf[_geo.c.fa.Oa.Wc]={};this.b5={};this.b5[_geo.c.fa.Oa.Sc]=(new _geo.c.V.Ya).wl(0);this.b5[_geo.c.fa.Oa.od]=(new _geo.c.V.Ya).wl(0);this.b5[_geo.c.fa.Oa.Wc]=(new _geo.c.V.Ya).ik(0);this.o5={};this.o5[_geo.c.fa.Oa.Wc]=
(new _geo.c.V.Cg).Ae("south_layer");this.o5[_geo.c.fa.Oa.Sc]=(new _geo.c.V.Cg).Ae("West_layer");this.o5[_geo.c.fa.Oa.od]=(new _geo.c.V.Cg).Ae("east_layer");this.gpa=this.mCc.bind(this);this.poc=this.txb.bind(this);_geo.c.qa.Bh.call(this,e);this.Fb.Sq(this.b5[_geo.c.fa.Oa.Sc],_geo.c.fa.Oa.Sc);this.Fb.fF(0,this.b5[_geo.c.fa.Oa.od],_geo.c.fa.Oa.od);this.Fb.fF(0,this.b5[_geo.c.fa.Oa.Wc],_geo.c.fa.Oa.Wc);this.Ea(new _geo.c.attributes.Ha("white"));this.Ba((new _geo.c.attributes.za("white")).Vd({x:!1,y:!1}));
this.Fb.vGa();this.gD=e.viewcache;this.cq={};null!=e.viewcachesize&&(this.gD=!0,this.cq=e.viewcachesize);this.Xv=new _geo.c.V.Ya;this.Xv.cb(new _geo.c.f.Rect(0,0,1,1));this.Xv.Kl(this.gD?new _geo.c.V.Ek(this.cq.width,this.cq.height):null);this.C_a=!0;this.vW=null;this.ckb=new _geo.c.attributes.Ha({color:"lightgrey"});this.D_a=e.axiswidth;this.B_a=e.axisheight;b=this.Fb.Uc();b.bh(0,this.Xv);b.Xj(!0);this.xp=new _geo.c.axis.cK;b.bh(0,(new _geo.c.V.Ya).Ia(this.xp));this.He.Xj(!0);this.MK=new _geo.c.V.Cg;
this.pSb=(new _geo.c.V.Ya).Ga(new _geo.c.f.Rect(0,0,1,1));this.co=(new _geo.c.V.Ya).Ga(new _geo.c.f.Rect(0,0,1,1));this.Xv.bh(0,this.co);this.Xv.bh(0,this.MK);this.Xv.bh(0,this.pSb);this.wa=null;this.Sl=_geo.c.data.GHa.ib();this.ni=_geo.c.V.qp.rL(this.Fb,{location:_geo.c.fa.Oa.Le,text:"",textstyle:{font:a}}).text;this.Fb.aFa();this.$t();this.bb(e)}var a="16px Roboto",g="#e0e0e0",e="#efefef";_geo.c.na(b,_geo.c.qa.Bh);_geo.c.ja(b,"geotoolkit.widgets.MultiHistograms");b.aa={LHb:"histogramsselected",
pFb:"binsselected",Pdb:"axisselected",r9:"dataupdated"};b.prototype.x3b=function(){return this.pSb};b.prototype.Uia=function(){return this.co};b.prototype.th=function(){_geo.c.qa.Bh.prototype.th.call(this);this.Fb.Db(_geo.c.fa.Oa.Wc).Ia((new _geo.c.V.Ya).Ia(this.o5[_geo.c.fa.Oa.Wc]));this.Fb.Db(_geo.c.fa.Oa.Sc).Ia((new _geo.c.V.Ya).Ia(this.o5[_geo.c.fa.Oa.Sc]));this.Fb.Db(_geo.c.fa.Oa.od).Ia((new _geo.c.V.Ya).Ia(this.o5[_geo.c.fa.Oa.od]));this.ERb=(new _geo.c.controls.ia.Selection(this.o5[_geo.c.fa.Oa.Wc])).zc(!1).Sy(function(a){for(var b=
a.length;0<=b&&a[b]!==this.Fb.Uc();b--)if(a[b]instanceof _geo.c.axis.Xf)return a[b];return[]}.bind(this)).addListener(_geo.c.controls.ia.Selection.aa.lF,function(a,d){this.E9b(_geo.c.fa.Oa.Wc,!0,!0,a,d);this.Pa(b.aa.Pdb,this,{location:_geo.c.fa.Oa.Wc,histogram:this.qn[this.vW]?this.qn[this.vW].shape:null,group:this.mi[_geo.c.fa.Oa.Wc][this.vW]?this.vW:null})}.bind(this));this.PSb=(new _geo.c.controls.ia.Selection(this.o5[_geo.c.fa.Oa.Sc])).zc(!1).Sy(function(a){for(var b=a.length;0<=b&&a[b]!==this.Fb.Uc();b--)if(a[b]instanceof
_geo.c.axis.Xf)return a[b];return[]}.bind(this)).addListener(_geo.c.controls.ia.Selection.aa.lF,function(a,d){this.E9b(_geo.c.fa.Oa.Sc,!0,!0,a,d);this.Pa(b.aa.Pdb,this,{location:_geo.c.fa.Oa.Sc,histogram:this.qn[this.vW]?this.qn[this.vW].shape:null,group:this.mi[_geo.c.fa.Oa.Sc][this.vW]?this.vW:null})}.bind(this));this.Au.Sy(function(a){for(var b=[],d=0;d<a.length;d++)a[d].histogram&&null!=this.qn[a[d].histogram.zd()]&&b.push(a[d]);return b}.bind(this)).addListener(_geo.c.controls.ia.Selection.aa.lF,
function(a,d){var e=d.getSelection(),f=!1,g,p,u=[],t=[];for(p=0;p<e.length;p++)0!==e[p].hittest.length&&(g=e[p].histogram,u.push(g),this.pFc(g,e[p].hittest)&&(f=!0,this.CDb(g,!0),t.push(e[p].hittest)));f?this.Pa(b.aa.pFb,this,{histograms:u,bins:t}):(this.Cdc(this.d5),g&&(this.Ada(this.d5,!1),this.obb(g),this.CDb(g,!0),this.j3(),this.Pa(b.aa.LHb,this,g)))}.bind(this));this.nq([(new _geo.c.controls.ia.Ol(this.o5[_geo.c.fa.Oa.Wc],"southTools")).add([this.ERb]),(new _geo.c.controls.ia.Ol(this.o5[_geo.c.fa.Oa.Sc],
"westTools")).add([this.PSb])]);var a=_geo.c.controls.ia.scroll.u4.getClassName(),e=this.Db(_geo.c.fa.Oa.Wc);this.AN=_geo.c.controls.ia.scroll.XF.ib().Yq(a,{name:"southverticalscrollbar",modellimits:e.va(),visiblelimits:e.Wb()});a=function(a,b){var d=this.Db(_geo.c.fa.Oa.Wc),e=d.Wb(),f=b.Wb();d.gs(new _geo.c.f.Rect(e.ua(),f.xa(),e.ya(),f.ta()),d.ha());this.AN.cb(d.va(),f)}.bind(this);this.AN.addListener(_geo.c.controls.ia.scroll.Pf.aa.$r,a).addListener(_geo.c.controls.ia.scroll.Pf.aa.bn,a);this.AN.Ma(!0);
this.Fb.Sq(this.AN,_geo.c.fa.Oa.Rv);this.nq([this.AN.ld()])};b.prototype.j3=function(){var a=_geo.c.selection.Bc(this.MK).Ve(function(a){return a instanceof _geo.c.controls.$.Vk&&!0===a.getParent().ob()}).ZY(),b=0<a.length?a[a.length-1]:null;if(null!=b){this.Ada(b,!0);var a=this.OG(b)[0],h=b.zd(),b=b.zd(),l;null!=(l=a.groupid[_geo.c.fa.Oa.Wc])&&null!=this.Cf[_geo.c.fa.Oa.Wc][l]&&(b=l);null!=(l=a.groupid[_geo.c.fa.Oa.Sc])&&null!=this.Cf[_geo.c.fa.Oa.Sc][l]&&(h=l);null!=(l=a.groupid[_geo.c.fa.Oa.od])&&
null!=this.Cf[_geo.c.fa.Oa.od][l]&&(h=l);null!=this.Cf[_geo.c.fa.Oa.Sc][h]?(l=this.Cf[_geo.c.fa.Oa.Sc][h],a=l.ze()):null!=this.Cf[_geo.c.fa.Oa.od][h]?(l=this.Cf[_geo.c.fa.Oa.od][h],a=l.ze()):(a=new _geo.c.axis.ju,l=(new _geo.c.axis.Xf(a)).cb(new _geo.c.f.Rect(0,0,1,1)));null!=this.Cf[_geo.c.fa.Oa.Wc][b]?(b=this.Cf[_geo.c.fa.Oa.Wc][b],h=b.ze()):(h=new _geo.c.axis.ju,b=(new _geo.c.axis.Xf(h)).cb(new _geo.c.f.Rect(0,0,1,1)));var k=a.clone(),m=h.clone();k.jh("MAJOR",new _geo.c.attributes.za({color:g}));
k.jh("MINOR",new _geo.c.attributes.za({color:e}));k.ug("MINOR",a.vw("MINOR"));k.ug("EDGE",!1);m.jh("MAJOR",new _geo.c.attributes.za({color:g}));m.jh("MINOR",new _geo.c.attributes.za({color:e}));m.ug("MINOR",h.vw("MINOR"));m.ug("EDGE",!1);this.xp.zg(_geo.c.f.Pb.jc,m);this.xp.zg(_geo.c.f.Pb.ic,k);l=l.va();a=b.va();l=new _geo.c.f.Rect(a.ua(),l.xa(),a.ya(),l.ta());this.xp.getParent().cb(l)}};b.prototype.CDb=function(a,b,e){a=this.OG(a);for(var g=0;g<a.length;g++){var k=a[g].shape.zd(),m;for(m in this.Cf)if(this.Cf.hasOwnProperty(m)){var q=
this.qn[k].groupid[m];q&&this.Cf[m][q]?(this.svb(this.Cf[m][q],m),b&&m!==e&&this.aYb(this.Cf[m][q],m)):this.Cf[m][k]?(this.svb(this.Cf[m][k],m),b&&m!==e&&this.aYb(this.Cf[m][k],m)):this.svb(null,m)}}return this};b.prototype.aYb=function(a,b){var e,g,k;b===_geo.c.fa.Oa.Wc&&(e=this.Db(b),g=a.getParent().ha(),k=this.b5[b].ha().da(),g=new _geo.c.f.Rect(g.ua(),g.ta()+e.ha().da()-k,g.ya(),g.ta()-k),g.xa()>e.va().xa()&&g.Eb(e.va().xa()-e.ha().da()),e.gs(g,e.ha()),this.AN.cb(e.va(),g))};b.prototype.svb=function(a,
b){for(var e in this.Cf[b])this.Cf[b].hasOwnProperty(e)&&null!=this.Cf[b][e]&&this.Cf[b][e].getParent().Ea(new _geo.c.attributes.Ha("white"));null!=a&&(a.getParent().Ea(this.ckb),this.Db(b).ma());return this};b.prototype.pFc=function(a,b){return!0===this.qn[a.zd()].highlightable?(a.O7(b,!0),!0):!1};b.prototype.E9b=function(a,b,e,g,k){b=null!=b?b:!0;var m=this.Cf[a];g=g instanceof _geo.c.axis.Xf?g:k.getSelection();if(null!=g)for(var q in m)m.hasOwnProperty(q)&&m[q]===g&&this.vW!==q&&(this.Cdc(this.d5),
this.Ada(this.d5,!1),this.qn[q]?this.obb(q):this.mi[a][q]&&this.fBb(q),this.j3(),b&&this.CDb(this.vW,e,a));return this};b.prototype.Cdc=function(a){a=this.OG(a);for(var b=0;b<a.length;b++)a[b].shape.O7([],!0);return this};b.prototype.uha=function(a,b,e){null==a&&(a={});a=new _geo.c.controls.$.Vk(a);var g,k;e=null!=e?e.toString():this.D_b();a.Ae(e);a.tb(_geo.c.V.Node.aa.Cj,this.gpa);a.tb(_geo.c.controls.$.Vk.aa.qYa,this.gpa);a.tb(_geo.c.controls.$.Vk.aa.oHa,this.poc);this.qn[e]={shape:a,highlightable:!1,
groupid:{}};this.qn[e].groupid[_geo.c.fa.Oa.Sc]=null;this.qn[e].groupid[_geo.c.fa.Oa.od]=null;this.qn[e].groupid[_geo.c.fa.Oa.Wc]=null;var m;k=new _geo.c.V.Ya;k.Ga(new _geo.c.f.Rect(0,0,1,1));k.Ia(a);var q=a.Bb().Kc();this.MK.Ia(k);this.Sl&&this.wa&&this.Sl.bind(a,this.wa);this.Ada(null,!1).Ada(a,!0);b&&null===b.xaxis?g=null:(m=new _geo.c.controls.axis.uma(a.xL()),m.ug("MINOR",!1),m.ug("EDGE",!0),m.sj("MAJOR").ed(q),m.sj("MINOR").ed(q),m.sj("EDGE").ed(q),k=a.TG(),k=null!=k?" ( "+k.Yd()+" )":"",k=
a.getName()+k,g=_geo.c.V.qp.PG(this.Fb,{location:_geo.c.fa.Oa.Wc,connect:!1,title:{text:k,visible:!0,textstyle:new _geo.c.attributes.kb({color:"#757575"}),alignment:_geo.c.f.Ca.uj}}).axis,g.zg(m),g.S6().ed(q),b&&null!=b.xaxis&&g.ka(b.xaxis));b&&null===b.yaxis?k=null:(k=_geo.c.V.qp.PG(this.Fb,{location:_geo.c.fa.Oa.Sc,connect:!1,title:{text:"Frequency",visible:!0,textstyle:new _geo.c.attributes.kb({color:"#757575"}),alignment:_geo.c.f.Ca.We}}).axis,m=new _geo.c.axis.ju,m.sj("MAJOR").ed(q),k.zg(m),
k.S6().ed(q),b&&null!=b.yaxis&&k.ka(b.yaxis));g&&(q=b?b.xaxis:{},q=_geo.c.Ja({axis:g},q),this.w9a(_geo.c.fa.Oa.Wc,q,a),this.Cf[_geo.c.fa.Oa.Wc][e]=g);k&&(b=b?b.yaxis:{},b=_geo.c.Ja({axis:k},b),this.w9a(_geo.c.fa.Oa.Sc,b,a),this.Cf[_geo.c.fa.Oa.Sc][e]=k);this.hKc=a;this.j3();this.Nb();return a};b.prototype.Yyb=function(a){a=this.OG(a);for(var b=0;b<a.length;b++){var e=a[b].shape;this.Zyb(e);this.LRa(e.zd());var g=this.d5.indexOf(e);-1!==g&&this.d5.splice(g,1);this.qn[e.zd()]=null;this.MK.removeChild(e.getParent());
this.Sl&&this.wa&&this.Sl.Dx(e,this.wa);e.pb(_geo.c.controls.$.Vk.aa.qYa,this.gpa);e.pb(_geo.c.V.Node.aa.Cj,this.gpa)}this.vC(_geo.c.fa.Oa.Sc);this.vC(_geo.c.fa.Oa.od);this.vC(_geo.c.fa.Oa.Wc);this.j3();return this};b.prototype.OG=function(a){var b=null,e=[];if(void 0===a)return e;null===a&&(a=Object.keys(this.qn));a=Array.isArray(a)?a:[a];for(var g=0;g<a.length;g++)"string"===typeof a[g]?b=this.qn[a[g]]:a[g]instanceof _geo.c.controls.$.Vk&&(b=this.qn[a[g].zd()]),b&&e.push(b),b=null;return e};b.prototype.Ada=
function(a,b){for(var e=this.OG(a),g=0;g<e.length;g++){e[g].highlightable=b;var k=this.d5.indexOf(e[g].shape);!0===b&&-1===k?this.d5.push(e[g].shape):!1===b&&-1!==k&&this.d5.splice(k,1)}return this};b.prototype.Z_b=function(){return this.d5};b.prototype.Vba=function(a){a=this.OG(a);for(var b=[],e=0;e<a.length;e++){var g=a[e].shape;b.push(g.Vba())}return b};b.prototype.A7a=function(a){var b=[],e;for(e in this.qn)this.qn.hasOwnProperty(e)&&null!=this.qn[e]&&(a?b.push(this.qn[e].shape.zd()):b.push(this.qn[e].shape));
return b};b.prototype.Ssb=function(){var a=[],b;for(b in this.mi)if(this.mi.hasOwnProperty(b))for(var e in this.mi[b])this.mi[b].hasOwnProperty(e)&&null!=this.mi[b][e]&&a.push(e);return a};b.prototype.SAa=function(a,b){var e=_geo.c.qa.Bh.prototype.SAa.call(this,b),g=e.group,k="number"==typeof b.length?a===_geo.c.fa.Oa.Wc?this.B_a:this.D_a:b.length;a===_geo.c.fa.Oa.Wc?g.ik(k):g.wl(k);a===_geo.c.fa.Oa.Sc&&(this.Fb.removeItem(g,_geo.c.fa.Oa.Sc),this.Fb.fF(0,g,_geo.c.fa.Oa.Sc));return e};b.prototype.w9a=
function(a,b,e){b=_geo.c.Ac(b,{title:{visible:!0,textstyle:new _geo.c.attributes.kb({color:"#757575"}),alignment:_geo.c.f.Ca.ub}});var g=null!=b.axis?b.axis:b,k=_geo.c.qa.Bh.prototype.Vr.call(this,g,a,null),g=k.axis,k=k.group;!b.tickgenerator||b.tickgenerator instanceof _geo.c.axis.ml||g.ze().ka(b.tickgenerator);null!=b.flip&&(a===_geo.c.fa.Oa.Wc||a===_geo.c.fa.Oa.Le?k.cu(b.flip):k.Xj(b.flip));var m="number"!==typeof b.length?a===_geo.c.fa.Oa.Wc?this.B_a:this.D_a:b.length;a===_geo.c.fa.Oa.Wc?k.ik(m):
k.wl(m);a===_geo.c.fa.Oa.Sc&&(this.Fb.removeItem(k,a),this.Fb.fF(0,k,a));this.Fb.Qa();if(b.accumulative){g.cb(new _geo.c.f.Rect(0,0,100,100));b=new _geo.c.V.Ya;b.Ga(new _geo.c.f.Rect(0,0,1,1));b.cb(g.va());this.MK.Ia(b);this.Fb.connect(g,b);for(var q in this.qn)this.qn.hasOwnProperty(q)&&null!=this.qn[q]&&this.qn[q].shape.qia()===_geo.c.controls.$.Vk.XR.Jeb&&(this.Cf[a][q]=g)}else e&&this.nsc(a,g,e);this.vC(a);this.j3();return g};b.prototype.eOa=function(a,b,e){!1===b instanceof _geo.c.axis.Xf&&"object"==
typeof b&&this.w9a(a,b,e)};b.prototype.nsc=function(a,b,e){e&&(0!==this.OG(e).length?(this.Fb.connect(b,e.getParent()),this.Cf[a][e.zd()]=b):"string"==typeof e?(this.Fb.connect(b,this.mi[a][e].sharedmodel),this.Cf[a][e]=b,this.mi[a][e].axis=b):e.hasOwnProperty("groupid")?(e=e.groupid,this.Fb.connect(b,this.mi[a][e].sharedmodel),this.Cf[a][e]=b,this.mi[a][e].axis=b):e instanceof _geo.c.V.Node&&(this.Fb.connect(b,e),this.Cf[a][e.zd()]=b),this.j3())};b.prototype.Frb=function(a){var b,e=[],g;if("string"==
typeof a){for(g in this.Cf)this.Cf.hasOwnProperty(g)&&this.Cf[g].hasOwnProperty(a)&&(b={},b.axis=this.Cf[g][a],b.id=a,b.location=g,e.push(b));return e}if(a instanceof _geo.c.axis.Xf){for(g in this.Cf)if(this.Cf.hasOwnProperty(g))for(var k in this.Cf[g])this.Cf[g].hasOwnProperty(k)&&this.Cf[g][k]===a&&(b={},b.axis=a,b.id=k,b.location=g,e.push(b));return e}return null};b.prototype.LRa=function(a){if(a=this.Frb(a))for(var b=0;b<a.length;b++){var e=a[b];this.Cf[e.location][e.id]=null;this.Fb.removeItem(e.axis.getParent(),
e.location);this.Fb.disconnect(e.axis);this.vC(e.location)}return this};b.prototype.A8b=function(a,b){var e;if(null!=a){var g=this.OG(a);if(this.Cf.hasOwnProperty(b)&&this.Cf[b])if(0!==g.length)e=g[0].shape.zd(),e=this.Cf[b][e];else if(null!=this.mi[b][a])e=this.Cf[b][a];else if(null!=this.mi[b][a.groupid])e=this.Cf[b][a.groupid];else return null;this.LRa(e);return this}return null};b.prototype.Ra=function(){this.Yyb(this.A7a());_geo.c.qa.fm.prototype.Ra.call(this)};b.prototype.vC=function(a,b){for(var e=
this.Fb.Db(a),g=e.we().nm(),k=e.ha().clone(),m=e.ha().clone(),q=1,p={};g.$g();){var u=g.next();u.ob()&&(q=a===_geo.c.fa.Oa.Wc?q+u.Re():q+u.bl())}if((0,window.isNaN)(q))return this;a===_geo.c.fa.Oa.Wc?(q>this.Rfa[a]&&!this.t_a?(p[a]=this.Rfa[a],this.Rk(p),m=e.ha().clone(),this.tmb?e.cb(k.Hb(q)):e.cb(m),e.gs(m,m),this.tmb&&(this.AN.Ma(!0),this.AN.cb(e.va(),m))):this.t_a?(p[a]=q,this.Rk(p),m=e.ha().clone(),e.cb(m),e.gs(m,m),this.AN.Ma(!1)):(p[a]=this.Rfa[a],this.Rk(p),m.Hb(this.Rfa[a]),e.cb(m),e.gs(m,
m),this.AN.cb(m,m)),b||(this.vC(_geo.c.fa.Oa.Sc,!0),this.vC(_geo.c.fa.Oa.od,!0))):(a===_geo.c.fa.Oa.od&&this.AN.la().size>q?p[a]=this.AN.la().size:p[a]=q,this.Rk(p),m=e.ha().clone(),e.cb(m),e.gs(m,m),b||this.vC(_geo.c.fa.Oa.Wc,!0));return this};b.prototype.D_b=function(){return _geo.c.f.kS.NU()};b.prototype.mCc=function(a,e){var g=this.qn[e.zd()].groupid[_geo.c.fa.Oa.Wc],l=this.qn[e.zd()].groupid[_geo.c.fa.Oa.Sc],k=this.qn[e.zd()].groupid[_geo.c.fa.Oa.od];if(null!=this.Cf[_geo.c.fa.Oa.Wc][e.zd()]){var m=
e.TG(),m=null!=m?" ( "+m.Yd()+" ) ":"",m=e.getName()+m;this.Cf[_geo.c.fa.Oa.Wc][e.zd()].Vp(m)}this.UR(e);g&&this.IGa(this.mi[_geo.c.fa.Oa.Wc][g],_geo.c.fa.Oa.Wc);l&&this.IGa(this.mi[_geo.c.fa.Oa.Sc][l],_geo.c.fa.Oa.Sc);k&&this.IGa(this.mi[_geo.c.fa.Oa.od][k],_geo.c.fa.Oa.od);this.Pa(b.aa.r9,this,{event:a,src:e});this.j3();this.Nb()};b.prototype.txb=function(a,b,e){if(a=this.Cf[_geo.c.fa.Oa.Wc][b.zd()])a.ze().DO(e),this.j3(),this.Nb()};b.prototype.UR=function(a,b){var e=a.getParent().va().clone(),
g=a.va().clone();b!==_geo.c.fa.Oa.Wc&&null!=b||a.getParent().cb(new _geo.c.f.Rect(g.ua(),e.xa(),g.ya(),e.ta()));if(b!==_geo.c.fa.Oa.Wc||null==b)a.csa()===_geo.c.controls.$.Vk.jS.Iva&&a.qia()===_geo.c.controls.$.Vk.XR.dS?(e=_geo.c.f.Math.sr(g.ta(),g.xa()),g.Eb(e.nb()).Hb(e.wb()-e.nb()),a.getParent().cb(g)):a.getParent().cb(new _geo.c.f.Rect(e.ua(),g.xa(),e.ya(),g.ta()))};b.prototype.IGa=function(a,b){var e=a.models,g=!1,k,m=null,q;for(k=0;k<e.length;k++)q=e[k].shape,q instanceof _geo.c.controls.$.Vk&&
q.csa()===_geo.c.controls.$.Vk.jS.Iva&&q.qia()===_geo.c.controls.$.Vk.XR.dS&&(g=!0),null==m?m=new _geo.c.f.Rect(q.va()):m.zi(q.va());g&&(k=_geo.c.f.Math.sr(m.ta(),m.xa()),m.Eb(k.nb()).Hb(k.wb()-k.nb()));a.sharedmodel.va().Ij(m)||a.sharedmodel.cb(m);for(k=0;k<e.length;k++)q=e[k].shape,g=q.getParent().va(),b===_geo.c.fa.Oa.Wc?q.getParent().cb(new _geo.c.f.Rect(m.ua(),g.xa(),m.ya(),g.ta())):q.getParent().cb(new _geo.c.f.Rect(g.ua(),m.xa(),g.ya(),m.ta())),q.getParent().ma()};b.prototype.nTb=function(a,
b){var e=this.OG(a),g;if("string"==typeof b)g=b;else if(b.hasOwnProperty("groupid"))g=b.groupid;else return null;for(var k in this.mi)if(this.mi.hasOwnProperty(k)&&this.mi[k][g]){for(var m=this.mi[k][g],q=0;q<e.length;q++){var p=e[q].shape,u=m.models.indexOf(this.qn[p.zd()]);-1===u&&(m.models.push(this.qn[p.zd()]),e[q].groupid[k]=g,(p=this.Cf[k][p.zd()])&&this.Fb.removeItem(p.getParent(),k))}this.IGa(m,k);this.vC(k);this.j3()}return this};b.prototype.Zyb=function(a){a=this.OG(a);for(var b=0;b<a.length;b++){var e=
a[b].groupid,g=a[b].shape,k;for(k in e)e.hasOwnProperty(k)&&null!=e[k]&&this.$yb(g,e[k])}return this};b.prototype.$yb=function(a,b){var e=this.OG(a),g;if("string"==typeof b)g=b;else if(b.hasOwnProperty("groupid"))g=b.groupid;else return null;for(var k in this.mi)if(this.mi.hasOwnProperty(k)&&this.mi[k][g]){for(var m=this.mi[k][g],q=0;q<e.length;q++){var p=e[q].shape,u=m.models.indexOf(this.qn[p.zd()]);-1!==u&&(m.models.splice(u,1),e[q].groupid[k]=null,this.UR(p),p=this.Cf[k][p.zd()],this.Fb.Sq(p.getParent(),
k),0===this.SCa(g).length&&this.nua(g))}this.IGa(m,k);this.vC(k);this.j3()}return this};b.prototype.zBa=function(a,b,e,g){var k=this.OG(a);b=b?b:_geo.c.fa.Oa.Sc;var m,q,p,u;g=null!=g?g:this.D_b();for(u=0;u<k.length;u++){p=k[u];if(null!=p.groupid[b])return null;m=p.shape;null==q?q=new _geo.c.f.Rect(m.va()):q.zi(m.va())}var t;a="";this.vm();for(u=0;u<k.length;u++){p=k[u];m=p.shape;if(t=this.Cf[b][m.zd()])a=a+" "+t.Op(),this.Fb.removeItem(t.getParent(),b);p.groupid[b]=g}var r;m=new _geo.c.V.Ya;m.cb(q);
m.Ga(new _geo.c.f.Rect(0,0,1,1));this.MK.Ia(m);this.mi[b][g]={models:k,sharedmodel:m};null==e&&(e={});e.hasOwnProperty("axis")||(null==e.linestyle&&(e.linestyle=new _geo.c.attributes.za),null==e.textstyle&&(e.textstyle=new _geo.c.attributes.kb),null==e.baselinestyle&&(e.baselinestyle=new _geo.c.attributes.za),e.tickgenerator instanceof _geo.c.axis.ml||!t||(q=t.ze().clone(),e.tickgenerator=q.Bn("MAJOR",!0).ka(e.tickgenerator)),b!==_geo.c.fa.Oa.Wc||null!=e.title&&null!=e.title.text||(e.title=null==
e.title?{}:e,e.title.text=a),t&&(e=_geo.c.Ac(e,t.la(),!0)),r=this.w9a(b,e,g));this.tm();this.mi[b][g].axis=r;this.Cf[b][g]=r;this.IGa(this.mi[b][g],b);this.vC(b);return{groupid:g}};b.prototype.ka=function(a){this.bb(a);return this};b.prototype.bb=function(a){if(null==a)return this;_geo.c.qa.Bh.prototype.ka.call(this,a);null!=a.header&&this.gZ(a.header);null==a.axiswidth||(0,window.isNaN)(a.axiswidth)||(this.D_a=a.axiswidth);null==a.axisheight||(0,window.isNaN)(a.axisheight)||(this.B_a=a.axisheight);
null!=a.tools&&this.Jv(a.tools);null!=a.annotationsgaps&&this.TAb(a.annotationsgaps);null!=a.autoannotationsize&&(this.t_a=a.autoannotationsize);null!=a.annotationssizes&&null!=a.annotationssizes.south&&(this.Rfa[_geo.c.fa.Oa.Wc]=a.annotationssizes.south);this.Fb.Qa();this.vC(_geo.c.fa.Oa.Sc);this.vC(_geo.c.fa.Oa.od);this.vC(_geo.c.fa.Oa.Wc);return this};b.prototype.YE=function(a,b){var e=null,g,k;if(null!=a)if(g=this.OG(a),0!==g.length)k=g[0].shape.zd(),g=this.Cf[b][k];else if(null!=this.mi[b][a])k=
a,g=this.Cf[b][a];else if(null!=this.mi[b][a.groupid])k=a.groupid,g=this.Cf[b][a.groupid];else return null;if(g){var m=g.getParent(),e=g.la();b===_geo.c.fa.Oa.Wc?(e.length=m.Re(),e.flip=m.Fy()):(e.length=m.bl(),e.flip=m.vq());this.qn[k]&&this.qn[k].shape.qia()===_geo.c.controls.$.Vk.XR.Jeb?e.accumulative=!0:e.accumulative=!1}return e};b.prototype.FJ=function(a,b,e){if(null!=a){b=b?b:_geo.c.fa.Oa.Wc;var g=this.OG(a);if(0!==g.length)a=g[0].shape.zd(),a=this.Cf[b][a];else if(null!=this.mi[b][a])a=this.Cf[b][a];
else if(null!=this.mi[b][a.groupid])a=this.Cf[b][a.groupid];else return this;null!=a&&(a.ka(e),g=a.getParent(),!e.tickgenerator||e.tickgenerator instanceof _geo.c.axis.ml||a.ze().ka(e.tickgenerator),"number"==typeof e.length&&(b===_geo.c.fa.Oa.Wc?g.ik(e.length):g.wl(e.length)),"boolean"==typeof e.flip&&(b===_geo.c.fa.Oa.Wc?g.cu(e.flip):g.Xj(e.flip)))}return this};b.prototype.la=function(){var a=_geo.c.qa.Bh.prototype.la.call(this);a.header=this.Lj();a.bounds=this.ha();a.axiswidth=this.D_a;a.axisheight=
this.B_a;a.autoannotationsize=this.t_a;a.tools=null!=a.tools?a.tools:{};a.tools.axisselection=this.N6a();a.tools.southscroll=this.I6a();return a};b.prototype.gZ=function(a){if(null==a)return this;a instanceof _geo.c.V.$.Text?this.ni=a:this.ni.ka(a.title);this.$t();return this};b.prototype.Lj=function(){return this.ni};b.prototype.W9b=function(a,b){var e=this.Frb(a);if(null==b||(0,window.isNaN)(b)||!e||0===e.length)return this;e=e[0];e.location===_geo.c.fa.Oa.Wc?e.axis.getParent().ik(b):e.axis.getParent().wl(b);
return this};b.prototype.Jv=function(a){if(!a)return this;_geo.c.qa.Bh.prototype.Jv.call(this,a);null!=a.axisselection&&this.Uzb(a.axisselection);null!=a.southscroll&&this.Nzb(a.southscroll,_geo.c.fa.Oa.Wc);return this};b.prototype.vU=function(){var a=_geo.c.qa.Bh.prototype.vU.call(this),a=null!=a?a.tools:{};return a=_geo.c.Ja(a,{axisselection:this.N6a(),southscroll:this.I6a()})};b.prototype.Uzb=function(a){null!==a.enabled&&(this.C_a=a.enabled,this.ERb.zc(this.C_a),this.PSb.zc(this.C_a));null!==
a.highlightstyle&&(this.ckb=a.highlightstyle instanceof _geo.c.attributes.Ha?a.highlightstyle:new _geo.c.attributes.Ha(a.highlightstyle));return this};b.prototype.N6a=function(){var a={};a.enabled=this.C_a;a.highlightstyle=this.ckb.la();return a};b.prototype.Nzb=function(a,b){var e=this.AN;null!=a.size&&"number"==typeof a.size&&e.qb({width:a.size});null!=a.visible&&(e.Ma(a.visible),this.tmb=a.visible,this.vC(_geo.c.fa.Oa.Wc),this.vC(_geo.c.fa.Oa.Sc),this.vC(_geo.c.fa.Oa.od));null!=a.options&&e.ka(a.options);
this.Db(b).Nb();return this};b.prototype.I6a=function(){return this.AN.la()};b.prototype.TAb=function(a){null!=a[_geo.c.fa.Oa.Wc]&&(this.b5[_geo.c.fa.Oa.Wc]=a[_geo.c.fa.Oa.Wc],this.Db(_geo.c.fa.Oa.Wc).Nb());null!=a[_geo.c.fa.Oa.Sc]&&(this.b5[_geo.c.fa.Oa.Sc]=a[_geo.c.fa.Oa.Sc],this.Db(_geo.c.fa.Oa.Sc).Nb());null!=a[_geo.c.fa.Oa.od]&&(this.b5[_geo.c.fa.Oa.od]=a[_geo.c.fa.Oa.od],this.Db(_geo.c.fa.Oa.od).Nb());return this};b.prototype.Rsb=function(a){if("string"!=typeof a)if(a&&a.hasOwnProperty("groupid"))a=
a.groupid;else return null;var b,e,g,k;for(k in this.mi)this.mi.hasOwnProperty(k)&&null!=this.mi[k][a]&&(b=this.mi[k][a].models,e=this.Cf[k][a],g=k);return{models:b,axis:e,id:a,location:g}};b.prototype.nua=function(a){var b=this.Rsb(a);a=b.models;var e=b.axis,g=b.id,b=b.location;this.vm();if(a){this.LRa(e);for(e=0;e<a.length;e++){a[e].groupid[b]=null;var k=a[e].shape;this.UR(k,b);k.getParent().ma();this.Cf[b][k.zd()]&&this.Fb.Sq(this.Cf[b][k.zd()].getParent(),b)}this.tm();this.vC(b)}this.mi[b][g]=
null;return this};b.prototype.Y1b=function(a,b){var e=this.Frb(a)[0],g=e.id,e=e.location,k=[];if(this.Cf[e][g])for(var m in this.Cf)if(this.Cf.hasOwnProperty(m)&&this.Cf[e][m]===this.Cf[e][g]){var q=this.qn[m].shape.getParent().ob();b&&!q||k.push(this.qn[m].shape)}return k};b.prototype.hac=function(a,b){for(var e=this.OG(a),g,k,m=0;m<e.length;m++){var q=e[m];if(q){var p=q.shape.zd();if(!b&&!0===q.shape.getParent().ob())for(k in q.shape.getParent().Ma(b),q.shape.rk(b),this.Cf)this.Cf.hasOwnProperty(k)&&
(g=q.groupid[k],this.Cf[k][g]?0===this.SCa(g,!0).length&&this.Fb.removeItem(this.Cf[k][g].getParent(),k):this.Cf[k][p]&&0===this.Y1b(p,!0).length&&this.Fb.removeItem(this.Cf[k][p].getParent(),k));else if(!0===b&&!1===q.shape.getParent().ob()){for(k in this.Cf)this.Cf.hasOwnProperty(k)&&(g=q.groupid[k],this.Cf[k][g]?0===this.SCa(g,!0).length&&this.Fb.Sq(this.Cf[k][g].getParent(),k):this.Cf[k][p]&&0===this.Y1b(p,!0).length&&this.Fb.Sq(this.Cf[k][p].getParent(),k));q.shape.getParent().Ma(b);q.shape.rk(b)}}}this.vC(_geo.c.fa.Oa.Sc);
this.vC(_geo.c.fa.Oa.od);this.vC(_geo.c.fa.Oa.Wc);this.j3();return this};b.prototype.ka=function(a){this.bb(a);return this};b.prototype.wTa=function(a){if(null==a)return this.wTa(_geo.c.fa.Oa.Sc),this.wTa(_geo.c.fa.Oa.od),this.wTa(_geo.c.fa.Oa.Wc),this;for(var b in this.mi[a])this.mi[a].hasOwnProperty(b)&&this.nua(b,a);return this};b.prototype.obb=function(a){a=this.OG(a)[0].shape;this.MK.removeChild(a.getParent());this.MK.Ia(a.getParent());this.Ada(a,!0);this.vW=a.zd();return this};b.prototype.fBb=
function(a){a=this.Rsb(a).models;var b,e=[];for(b=0;b<a.length;b++)this.MK.removeChild(a[b].shape.getParent()),e.push(a[b].shape);for(b=0;b<a.length;b++)this.MK.Ia(e.pop().getParent());a=a[0].shape.zd();this.Ada(a,!0);this.vW=a;return this};b.prototype.bind=function(a){if(null!=this.Sl)for(var b in this.qn)this.qn.hasOwnProperty(b)&&this.Sl.bind(this.qn[b],a)};b.prototype.Dx=function(a){if(null!=this.Sl)for(var b in this.qn)this.qn.hasOwnProperty(b)&&this.Sl.Dx(this.qn[b],a)};b.prototype.setData=
function(a){this.Dx(this.wa);this.wa=a;this.bind(this.wa);return this};b.prototype.getData=function(){return this.wa};b.prototype.EO=function(a,b){this.Sl!==a&&(this.Dx(this.getData()),this.Sl=a,!0!==b&&this.bind(this.getData()));return this};b.prototype.MN=function(){return this.Sl};b.prototype.TLc=function(a,b){for(var e=this.OG(a),g=[],k,m=0;m<e.length;m++){var q=e[m];k={};for(var p in this.Cf)if(this.Cf.hasOwnProperty(p)&&(k[p]=this.Cf[p][q.shape.zd()],b)){var u=q.groupid[p];null!=u&&null!=this.Cf[p][u]&&
(k[p]=this.Cf[p][u])}g.push(k)}return g};b.prototype.SCa=function(a,b,e){var g;if("string"==typeof a)g=a;else if(a.hasOwnProperty("groupid"))g=a.groupid;else return null;a=[];var k=[],m;for(m in this.mi)this.mi.hasOwnProperty(m)&&null!=this.mi[m][g]&&(a=this.mi[m][g].models);for(m=0;m<a.length;m++)if(!b||a[m].shape.getParent().ob())e?k.push(a[m].shape.zd()):k.push(a[m].shape);return k};b.prototype.Ftb=function(a){return this.Rsb(a).location};b.prototype.K_b=function(a){var b={};a=this.qn[a.zd()];
for(var e in a.groupid)a.groupid.hasOwnProperty(e)&&null!=a.groupid[e]&&(b[e]=a.groupid[e]);return b};b.prototype.$_b=function(a){a=this.OG(a)[0];var b;null!=a&&(b=a.shape.getParent().va().clone());return b};b.prototype.L_b=function(a){var b;if("string"!=typeof a)if(a.hasOwnProperty("groupid"))a=a.groupid;else return null;for(var e in this.mi)this.mi.hasOwnProperty(e)&&null!=this.mi[e][a]&&(b=this.mi[e][a].sharedmodel,b=b.va().clone());return b};return b}();
_geo.c.qa.ia.oIa=function(){function b(a){var b={},b={slots:b,name:"TableViewInPlaceEditor",layer:a};_geo.c.controls.ia.oc.call(this,b);this.zc(!1);this.F0=a;this.p5=a.Pg("TableViewCompositeTool");this.Jb=a.Qub();this.Fk=this.Xi=null;this.dzc();this.iQb=function(a,b){if(!1!==this.isEnabled()){this.Xi=b.Hh();var f=this.p5.Fe(this.Jb,b),f=this.Jb.sF(f.ga(),f.ea());this.vda({row:f.ea(),column:f.ga()})}}.bind(this);this.oQb=function(a,b){if(null!=this.Fk){var f=this.p5.Fe(this.Jb,b),f=this.Jb.sF(f.ga(),
f.ea(),!0);!1!==this.F0.CU().contains(f.ga(),f.ea())&&(this.vDb(),this.vda({szb:Math.floor(f.ea()),POa:Math.floor(f.ga())}))}}.bind(this);this.F0.Pg("TableViewSelection").addListener(_geo.c.controls.ia.Selection.aa.Ly,this.iQb).addListener(_geo.c.controls.ia.Selection.aa.Ota,this.oQb);this.gQb=function(a,b){null==this.Fk||b.Bc<this.Fk.column&&b.Hg<this.Fk.column||b.Bc>this.Fk.column&&b.Hg>this.Fk.column||(b.Bc===this.Fk.column?this.Fk.column=b.Hg:b.Bc<this.Fk.column?this.Fk.column--:this.Fk.column++,
this.Taa())}.bind(this);this.F0.Pg("TableViewColumnHandler").addListener(_geo.c.controls.ia.Vn.PZ.aa.el,this.gQb);this.qQb=function(a,b){null==this.Fk||b.Bc<this.Fk.row&&b.Hg<this.Fk.row||b.Bc>this.Fk.row&&b.Hg>this.Fk.row||(b.Bc===this.Fk.row?this.Fk.row=b.Hg:b.Bc<this.Fk.row?this.Fk.row--:this.Fk.row++,this.Taa())}.bind(this);this.F0.Pg("TableViewRowHandler").addListener(_geo.c.controls.ia.Vn.PZ.aa.el,this.qQb);this.n_a=this.Taa.bind(this);_geo.c.window.addEventListener("resize",this.n_a);this.F0.tb(_geo.c.qa.CB.aa.Bxa,
this.n_a)}_geo.c.na(b,_geo.c.controls.ia.oc);_geo.c.ja(b,"geotoolkit.widgets.tools.InPlaceEditor");b.aa={YBc:"onCanEdit",c7b:"onValueChanged"};b.prototype.hw=function(a){this.Xi=a;return this};b.prototype.dzc=function(){this.Qj=_geo.c.window.document.createElement("div");this.Qj.style.position="absolute";this.Qj.style.display="none";this.Qj.style.border="1px solid black";this.Qj.style.pointerEvents="none";this.Qj.style.overflow="hidden";_geo.c.window.document.body.appendChild(this.Qj);this.Rj=_geo.c.window.document.createElement("div");
this.Rj.style.position="absolute";this.Rj.style.border="1px solid black";this.Rj.style.pointerEvents="all";this.Qj.appendChild(this.Rj);this.xo=_geo.c.window.document.createElement("input");this.xo.className="geotoolkit-inlineeditor";this.xo.style.position="absolute";this.xo.style.border="0px solid transparent !important";this.IKa=function(a){if("Enter"===a.key||13===a.keyCode)this.vDb(),a=this.Jb.L1(),this.vda({szb:Math.min(this.Fk.row+1,a.da()-1),POa:Math.min(Math.max(0,this.Fk.column),a.ba()-1)})}.bind(this);
this.xo.addEventListener("keypress",this.IKa);this.ioa=function(a){if("Escape"===a.key||27===a.keyCode)this.vda(null);else if(!0===a.ctrlKey){this.vDb();var b=this.Fk.row,e=this.Fk.column;if("ArrowLeft"===a.key||37===a.keyCode)e--;else if("ArrowRight"===a.key||39===a.keyCode)e++;else if("ArrowUp"===a.key||38===a.keyCode)b--;else if("ArrowDown"===a.key||40===a.keyCode)b++;else{"Enter"!==a.key&&13!==a.keyCode||this.vda(null);return}a=this.Jb.L1();this.vda({szb:Math.min(Math.max(0,b),a.da()-1),POa:Math.min(Math.max(0,
e),a.ba()-1)})}}.bind(this);this.xo.addEventListener("keydown",this.ioa);this.Rj.appendChild(this.xo)};b.prototype.Ra=function(){_geo.c.window.removeEventListener("resize",this.n_a);this.xo.removeEventListener("keypress",this.IKa);this.xo.removeEventListener("keydown",this.ioa);var a=this.F0.Pg("TableViewSelection");a&&a.removeListener(_geo.c.controls.ia.Selection.aa.Ly,this.iQb).removeListener(_geo.c.controls.ia.Selection.aa.Ota,this.oQb);(a=this.F0.Pg("TableViewColumnHandler"))&&a.removeListener(_geo.c.controls.ia.Vn.PZ.aa.el,
this.gQb);(a=this.F0.Pg("TableViewRowHandler"))&&a.removeListener(_geo.c.controls.ia.Vn.PZ.aa.el,this.qQb);this.F0.pb(_geo.c.qa.CB.aa.Bxa,this.n_a);this.Qj.parentNode&&this.Qj.parentNode.removeChild(this.Qj);this.Qj=null;_geo.c.controls.ia.oc.prototype.Ra.call(this)};b.prototype.start=function(){_geo.c.controls.ia.oc.prototype.start.call(this);return this};b.prototype.stop=function(){_geo.c.controls.ia.oc.prototype.stop.call(this);this.vda(null);return this};b.prototype.vDb=function(){if("none"===
this.xo.style.display)return this;var a={cell:{column:this.Fk.column,row:this.Fk.row},value:this.xo.value};this.fireEvent(b.aa.c7b,a);this.xo.value=a.value;this.Jb.ma();return this};b.prototype.nYb=function(){return this.Fk};b.prototype.vda=function(a){if(null==this.Fk&&null==a||null!=this.Fk&&null!=a&&this.Fk.row===a.row&&this.Fk.column===a.column)return this;this.Fk=a;this.Taa();if(null==this.Fk)return this.stop();this.Jb.P7(this.Fk.column);this.Jb.Eka([this.Fk.row]);this.F0.qZ(this.Fk.row,this.Fk.column);
this.xo.value=this.Jb.Cia(this.Fk.column,this.Fk.row);this.xo.focus();return this.start()};b.prototype.Taa=function(){if(null==this.Fk)return this.Qj.style.display="none",this;var a=this.F0.Pg("TableViewSelection").eU(this.Xi.NA()),b=this.Jb.Iba(this.Fk.row,this.Fk.column);if(null==b)return this.Qj.style.display="none",this;var e=new _geo.c.f.sa(b.ga(),b.ea()),b=new _geo.c.f.sa(b.ya(),b.xa()),d=this.Jb.SG().Za().yb(this.Jb.SG().Wb());this.Qj.style.display="block";this.Qj.style.left=d.ua()+a.x+"px";
this.Qj.style.top=d.ta()+a.y+"px";this.Qj.style.width=d.ba()+"px";this.Qj.style.height=d.da()+"px";this.Jb.SG().aw.Za().hb(e,e);this.Jb.SG().aw.Za().hb(b,b);this.Rj.style.left=e.ga()-d.ua()+"px";this.Rj.style.top=e.ea()-d.ta()+"px";this.Rj.style.width=b.ga()-e.ga()+"px";this.Rj.style.height=b.ea()-e.ea()+"px";this.xo.style.width=b.ga()-e.ga()-2+"px";this.xo.style.height=b.ea()-e.ea()-2+"px";return this};return b}();
_geo.c.qa.ia.f_=function(){function b(a,b,e){_geo.c.controls.ia.zt.call(this,a);this.nnc=b;this.Gpc=e}_geo.c.na(b,_geo.c.controls.ia.zt);_geo.c.ja(b,"geotoolkit.widget.tools.LegendToolEventArgs");b.prototype.gMc=function(){return this.nnc};b.prototype.AMc=function(){return this.Gpc};return b}();
_geo.c.qa.ia.Ifb=function(){function b(a){null==a&&(a={});a=_geo.c.Ja(a,{widget:a.widget,group:a.group,layer:a.manipulatorlayer,padding:a.padding,name:"LegendTool"});this.Jk=a.widget;this.mi=a.group;this.ie="number"==typeof a.padding?a.padding:10;this.uKa=this.mi.ha();this.Ci=this.Ei=_geo.c.fa.Oa.ub;this.Pr={west:new _geo.c.V.Ya,east:new _geo.c.V.Ya,north:new _geo.c.V.Ya,south:new _geo.c.V.Ya};this.Kh=new _geo.c.selection.Qm;this.eD=5;this.tz=2;this.uG={east:this.Jk.Db(_geo.c.fa.Oa.od).ha().ba(),
west:this.Jk.Db(_geo.c.fa.Oa.Sc).ha().ba(),north:this.Jk.Db(_geo.c.fa.Oa.Le).ha().da(),south:this.Jk.Db(_geo.c.fa.Oa.Wc).ha().da()};var b={pointerdown:this.tg.bind(this),pointermove:this.oe.bind(this),pointerup:this.wf.bind(this),layer:a.layer};_geo.c.controls.ia.oc.call(this,b,a.name);this.EKa=this.FKa=!1;this.xN=new _geo.c.controls.bc.i4(null,this.$b);this.xN.sc(this.$b.sb());this.xN.register(this.mi.getClassName(),new _geo.c.controls.bc.CR.fIa)}_geo.c.na(b,_geo.c.controls.ia.oc);_geo.c.ja(b,"geotoolkit.widgets.tools.LegendTool");
b.aa={DSa:"onAnnotationChanged",Gxb:"onMoveStart",HSa:"onMoveEnd"};b.prototype.tg=function(a){var b=a.Nk(),e=this.gF(a),d=e?this.eD:this.tz;this.T$=!1;var f=null,h=this.Fe(this.$b,a),l=this.Kh.select(this.$b,h.x,h.y,d);if(l&&0<l.length)for(e=l.length-1;1<=e;e--){var k=l[e];if("function"===typeof k.ix){f=k.ix();f.yq(k);f.setPosition(h.x,h.y);this.Me=f;this.T$=!0;a.stopPropagation(!0);return}}h=this.Fe(b,a);b=this.Kh.select(b,h.x,h.y,d);b=null==b?null:b.filter(function(a){return a===this.mi}.bind(this));
h=this.Fe(this.$b,a);if(b&&0<b.length)for(e=b.length-1;0<=e;e--)if(f=this.xN.ix(b[e])){f.sk(b[e]);f.setPosition(h.x,h.y);this.xN.AO(f);this.Me=f;this.T$=!0;a.stopPropagation(!0);return}this.Me=f;this.xN.AO(null)};b.prototype.oe=function(a){if(this.Me){var g=this.Fe(this.$b,a);this.Me.move(g.x,g.y);var g=this.Me.Ub().ha(),e=this.Jk.Uc().getParent().ha(),d={},f;this.EKa||this.FKa||(this.Ei!==_geo.c.fa.Oa.ub&&(this.uG[this.Ei]=this.Jk.Db(this.Ei).ha().da()-this.Pr[this.Ei].Re()),this.Ci!==_geo.c.fa.Oa.ub&&
(this.uG[this.Ci]=this.Jk.Db(this.Ci).ha().ba()-this.Pr[this.Ci].bl()));!this.EKa&&this.Me.wv()instanceof _geo.c.controls.bc.k9&&(this.Ei!==_geo.c.fa.Oa.ub&&(d={},this.Pr[this.Ei].ik(g.da()+this.ie),d[this.Ei]=this.Pr[this.Ei].Re()+this.uG[this.Ei],this.Jk.Rk(d),this.fireEvent(b.aa.Gxb,new _geo.c.qa.ia.f_(a,this.Ei,null)),this.EKa=!0),this.Ci!==_geo.c.fa.Oa.ub&&(d={},this.Pr[this.Ci].wl(g.ba()+this.ie),d[this.Ci]=this.Pr[this.Ci].bl()+this.uG[this.Ci],this.Jk.Rk(d),this.fireEvent(b.aa.Gxb,new _geo.c.qa.ia.f_(a,
this.Ci,null)),this.EKa=!0));if(this.Me.wv()instanceof _geo.c.controls.bc.k9){var h,l;this.Ei!==_geo.c.fa.Oa.ub&&(g.ta()<e.xa()&&g.ta()>e.ta()||g.xa()<e.xa()&&g.xa()>e.ta())&&(f=this.Jk.Db(this.Ei),d={},f.we().remove(this.Pr[this.Ei]),f.removeChild(this.Pr[this.Ei]),d[this.Ei]=this.uG[this.Ei],this.Jk.Rk(d),this.fireEvent(b.aa.DSa,new _geo.c.qa.ia.f_(a,this.Ei,_geo.c.fa.Oa.ub)),this.Ei=_geo.c.fa.Oa.ub,h=!0);this.Ci!==_geo.c.fa.Oa.ub&&(g.ya()<e.ya()&&g.ya()>e.ua()||g.ua()<e.ya()&&g.ua()>e.ua())&&(f=
this.Jk.Db(this.Ci),f.we().remove(this.Pr[this.Ci]),f.removeChild(this.Pr[this.Ci]),d={},d[this.Ci]=this.uG[this.Ci],this.Jk.Rk(d),this.fireEvent(b.aa.DSa,new _geo.c.qa.ia.f_(a,this.Ci,_geo.c.fa.Oa.ub)),this.Ci=_geo.c.fa.Oa.ub,l=!0);!h&&(g.ta()<e.ta()||g.xa()>e.xa())&&this.Ei===_geo.c.fa.Oa.ub&&(g.ta()<e.ta()?this.Ei=_geo.c.fa.Oa.Le:this.Ei=_geo.c.fa.Oa.Wc,d={},f=this.Jk.Db(this.Ei),this.Pr[this.Ei].ik(g.da()+this.ie),d[this.Ei]=f.ha().da()+this.Pr[this.Ei].Re(),this.Ei===_geo.c.fa.Oa.Le?f.we().$q(0,
this.Pr[this.Ei]):f.we().add(this.Pr[this.Ei]),f.Ia(this.Pr[this.Ei]),this.Jk.Rk(d),this.fireEvent(b.aa.DSa,new _geo.c.qa.ia.f_(a,_geo.c.fa.Oa.ub,this.Ei)));!l&&(g.ya()>e.ya()||g.ua()<e.ua())&&this.Ci===_geo.c.fa.Oa.ub&&(g.ya()>e.ya()?this.Ci=_geo.c.fa.Oa.od:this.Ci=_geo.c.fa.Oa.Sc,d={},f=this.Jk.Db(this.Ci),this.Pr[this.Ci].wl(g.ba()+this.ie),d[this.Ci]=f.ha().ba()+this.Pr[this.Ci].bl(),this.Ci===_geo.c.fa.Oa.Sc?f.we().$q(0,this.Pr[this.Ci]):f.we().add(this.Pr[this.Ci]),f.Ia(this.Pr[this.Ci]),this.Jk.Rk(d),
this.fireEvent(b.aa.DSa,new _geo.c.qa.ia.f_(a,_geo.c.fa.Oa.ub,this.Ci)))}else this.FKa=!0;this.Me.Ub().ma();a.stopPropagation(!0,!0)}};b.prototype.wf=function(a){if(this.Me){var g=this.Me.Ub().ha().clone(),e,d=this.Jk.ha(),f,h,l={};this.Ei!==_geo.c.fa.Oa.ub&&(this.FKa&&(l={},f=this.Jk.Db(this.Ei),h=this.Me.Ub().ha().da()-this.Pr[this.Ei].Re(),this.Pr[this.Ei].ik(this.Me.Ub().ha().da()+this.ie),l[this.Ei]=f.ha().da()+h,this.Jk.Rk(l),this.Ei===_geo.c.fa.Oa.Le&&g.ea()!==this.uKa.ea()&&(this.Me.Ub().Ga(g.Eb(g.ea()+
h)),this.Me.vh()),this.Ei===_geo.c.fa.Oa.Wc&&g.xa()!==this.uKa.xa()&&(this.Me.Ub().Ga(g.Eb(g.ea()-h)),this.Me.vh())),e=this.Jk.Uc().getParent().ha().clone(),this.Ei===_geo.c.fa.Oa.Le&&(f=this.Jk.Db(this.Ei),l={},g.ta()>d.ta()?(e.ta()-g.ta()>this.uG[this.Ei]?(l[this.Ei]=e.ta()-g.ta()+this.ie,this.Pr[this.Ei].ik(l[this.Ei]-this.uG[this.Ei])):(l[this.Ei]=this.uG[this.Ei],this.Pr[this.Ei].ik(0)),h=f.ha().da()-l[this.Ei],this.Me.Ub().Ga(g.Eb(g.ea()-h)),this.Me.vh(),this.Jk.Rk(l)):(this.Me.Ub().Ga(g.Eb(d.ta()+
this.ie)),this.Me.vh()),this.fireEvent(b.aa.HSa,new _geo.c.qa.ia.f_(a,null,this.Ei))),this.Ei===_geo.c.fa.Oa.Wc&&(f=this.Jk.Db(this.Ei),l={},g.xa()<d.xa()?(g.xa()-e.xa()>this.uG[this.Ei]?(l[this.Ei]=g.xa()-e.xa()+this.ie,this.Pr[this.Ei].ik(l[this.Ei]-this.uG[this.Ei])):(l[this.Ei]=this.uG[this.Ei],this.Pr[this.Ei].ik(0)),h=f.ha().da()-l[this.Ei],this.Me.Ub().Ga(g.Eb(g.ea()+h)),this.Me.vh(),this.Jk.Rk(l)):(this.Me.Ub().Ga(g.Eb(d.xa()-g.da()-this.ie)),this.Me.vh()),this.fireEvent(b.aa.HSa,new _geo.c.qa.ia.f_(a,
null,this.Ei))));this.Ci!==_geo.c.fa.Oa.ub&&(this.FKa&&(l={},f=this.Jk.Db(this.Ci),h=this.Me.Ub().ha().ba()-this.Pr[this.Ci].bl(),this.Pr[this.Ci].wl(this.Me.Ub().ha().ba()+this.ie),l[this.Ci]=f.ha().ba()+h,this.Jk.Rk(l),this.Ci===_geo.c.fa.Oa.od&&g.ya()!==this.uKa.ya()&&(this.Me.Ub().Ga(g.zb(g.ga()-h)),this.Me.vh()),this.Ci===_geo.c.fa.Oa.Sc&&g.ua()!==this.uKa.ua()&&(this.Me.Ub().Ga(g.zb(g.ga()+h)),this.Me.vh())),e=this.Jk.Uc().getParent().ha().clone(),this.Ci===_geo.c.fa.Oa.Sc&&(f=this.Jk.Db(this.Ci),
l={},g.ua()>d.ua()?(e.ua()-g.ua()>this.uG[this.Ci]?(l[this.Ci]=e.ua()-g.ua()+this.ie,this.Pr[this.Ci].wl(l[this.Ci]-this.uG[this.Ci])):(l[this.Ci]=this.uG[this.Ci],this.Pr[this.Ci].wl(0)),h=f.ha().ba()-l[this.Ci],this.Me.Ub().Ga(g.zb(g.ga()-h)),this.Me.vh(),this.Jk.Rk(l)):(this.Me.Ub().Ga(g.zb(d.ua()+this.ie)),this.Me.vh()),this.fireEvent(b.aa.HSa,new _geo.c.qa.ia.f_(a,null,this.Ci))),this.Ci===_geo.c.fa.Oa.od&&(f=this.Jk.Db(this.Ci),l={},g.ya()<d.ya()?(g.ya()-e.ya()>this.uG[this.Ci]?(l[this.Ci]=
g.ya()-e.ya()+this.ie,this.Pr[this.Ci].wl(l[this.Ci]-this.uG[this.Ci])):(l[this.Ci]=this.uG[this.Ci],this.Pr[this.Ci].wl(0)),h=f.ha().ba()-l[this.Ci],this.Me.Ub().Ga(g.zb(g.ga()+h)),this.Me.vh(),this.Jk.Rk(l)):(this.Me.Ub().Ga(g.zb(d.ya()-g.ba()-this.ie)),this.Me.vh()),this.fireEvent(b.aa.HSa,new _geo.c.qa.ia.f_(a,null,this.Ci))));this.EKa=this.FKa=!1;a.stopPropagation(!0);this.uKa=g;this.Me.setPosition(null);this.Me=null}};return b}();
_geo.c.qa.f$=function(){function b(a,b){_geo.c.controls.ia.C3.call(this,a);this.Ee=b}_geo.c.na(b,_geo.c.controls.ia.C3);_geo.c.ja(b,"geotoolkit.controls.tools.scroll.VisibleRangeChangeEventArgs");b.prototype.vca=function(){return this.Ee};return b}();
_geo.c.qa.gZa=function(){function b(a,b,e){_geo.c.controls.ia.C3.call(this,a);this.nr=b;this.zs=e}_geo.c.na(b,_geo.c.controls.ia.C3);_geo.c.ja(b,"geotoolkit.widgets.SelectionChangeEventArgs");b.prototype.zd=function(){return this.nr};b.prototype.ox=function(){return this.zs};return b}();
_geo.c.qa.UH=function(){function b(b){_geo.c.qa.fm.call(this,b);this.iv=_geo.c.f.W3.Kp();this.qoa=_geo.c.f.hwa.Kp();this.mnc=a(this.qoa,d,this.iv);this.d3a=this.B0=this.e6=this.PLa=this.VNa=null;this.wc=q.T3b();this.FG=new _geo.c.f.XJ;this.d1a=new _geo.c.f.XJ;this.YNa=new _geo.c.f.XJ;this.Lib=this.Kib=this.Mkb=this.dib=this.bib=this.ikb=this.e5=null;this.zna=[];this.W3a=this.X3a=this.fw=this.f0a=this.VMa=null;this.qmb=g;this.T1();this.th();this.bb(b);this.uLa=new _geo.c.qa.Jc.MZa(new _geo.c.qa.Jc.Dxa,
this.wc.tooltips.tooltipoptions);this.uLa.bb({formatter:this.wc.tooltips.tooltipoptions.index.formatter}).Ma(!1);this.zI.getData().add(this.uLa)}function a(a,b,d){return a.WOa({format:b,locale:d})}function g(a,b,d){b=_geo.c.Ac(b,{});d=_geo.c.Ac(d,{});var e;e=a.Ay(d.id);null!=d.id&&null!=e&&(d=e.xr(),null!=d&&null!=d.linestyle&&(d.linestyle instanceof _geo.c.attributes.za?d.linestyle.rb(d.linestyle.ba()-1):(null!=d.linestyle.width&&--d.linestyle.width,e.B8(d))));e=a.Ay(b.id);null!=b.id&&null!=e&&(d=
e.xr(),null!=d&&null!=d.linestyle&&(d.linestyle instanceof _geo.c.attributes.za?d.linestyle.rb(d.linestyle.ba()+1):(null!=d.linestyle.width&&(d.linestyle.width+=1),e.B8(d))))}var e=1,d="M j, Y H:i:s",f="curveaxisgroup",h=36E5,l=864E5,k="#6b6b6b",m={MAJOR:{color:"#c4c4c4",width:1,pixelsnapmode:{x:!0,y:!0}},MINOR:{color:"#ededed",width:1,pixelsnapmode:{x:!0,y:!0}},EDGE:{color:"#c4c4c4",width:1,pixelsnapmode:{x:!0,y:!0}}},q=_geo.c.qa.Jc.gc;_geo.c.na(b,_geo.c.qa.fm);_geo.c.ja(b,"geotoolkit.widgets.TimeSeriesWidget");
b.aa={PY:"onVisibleRangeChanged",oEa:"onVisibleRangeChanging",W6b:"onCursorChanged",w6:"beforeSelectionChange",lF:"onSelectionChanged",U6b:"onAnnotationLineClick",T6b:"onAnnotationClick"};b.Gwa={$p:"outside",tk:"inside"};b.SV={Xb:"top",Qf:"bottom"};b.Bg={oGb:"curvetocurve",pGb:"curvetoreferenceline",nGb:"curvetobaseline"};b.S9={UVa:"advanced",keb:"compact",vxa:"simple"};b.prototype.vH=function(b){this.iv!==b&&(this.iv=b,this.PLa=this.VNa=null,this.mnc=a(this.qoa,d,this.iv));return this};b.prototype.DL=
function(){return this.iv};b.prototype.Mdc=function(){var a=this.wc.intervalbuttons.intervals,b=Object.keys(a),d=[];b.forEach(function(b){d.push({text:b,onClick:function(d){this.jmb=a[b];this.gIc(a[b]);1<Math.abs(a[b]-(this.vca().wb()-this.vca().nb()))?d.Un(_geo.c.qa.UO.Ow.BYa):d.Un(_geo.c.qa.UO.Ow.fgb)}.bind(this)})}.bind(this));b={layout:_geo.c.fa.Yn,toggle:!0,buttons:d};null==this.aL?this.aL=new _geo.c.qa.Vla(b):this.aL.T1(b);b={layout:_geo.c.fa.At,buttons:[{text:"Now",toggle:!0,styles:{pressed:{textstyle:(new _geo.c.attributes.kb({font:"bold 8px Arial"})).ed("white"),
linestyle:new _geo.c.attributes.za({color:"429529",width:3}),fillstyle:new _geo.c.attributes.Ha("#50b432")}},onClick:function(a){this.nFc()}.bind(this)}]};null==this.QK?this.QK=new _geo.c.qa.Vla(b):this.QK.T1(b)};b.prototype.T1=function(){this.Mdc();this.Zc=(new _geo.c.V.Ya).Ia([this.wnc=(new _geo.c.V.Ya).pe("gridandaxesgroup").Ia([(new _geo.c.V.Ya).Xj(!0).pe("gridandaxesgroup").Ia([this.MW=new _geo.c.axis.cK(this.wc.modelgrid.horizontaltickgenerator,this.wc.modelgrid.verticaltickgenerator)]),this.W1a=
(new _geo.c.axis.Xf).setOrientation(_geo.c.axis.wd.ic)]),this.W3a=new _geo.c.V.Ya,this.Vm=(new _geo.c.V.Ya).Xj(!0).Kl(!0===this.wc.viewcache?new _geo.c.V.Ek:null),this.X3a=new _geo.c.V.Ya,this.$b=(new _geo.c.V.Ya).Ia([this.Yga=(new _geo.c.V.Ya).Xj(!0)]),this.E4=new _geo.c.V.Ya,this.co=(new _geo.c.V.Ya).Ia([(new _geo.c.V.Ya).ee(new _geo.c.fa.Uk).Ia([this.PM=(new _geo.c.V.Ya).Ed(!0).ee(new _geo.c.fa.Yn).Gf(!0)])])]);this.W1a.Ml(_geo.c.axis.qd.Af.Qf);this.Ed(!0).ee(new _geo.c.fa.Uk).Ia([this.cT=(new _geo.c.V.Ya).Ed(!0).pe("layoutgroup").ee(new _geo.c.fa.Uk).Ia([this.CG=
(new _geo.c.V.Ya).cb(new _geo.c.f.Rect(0,0,1,1)).pe("titlelayoutgroup").Ia([this.ni=new _geo.c.V.$.Text({text:"",ax:0,ay:.5,alignment:_geo.c.f.Ca.We}),this.OLa=new _geo.c.V.$.Text({text:this.V0a(new Date),ax:1,ay:.5,alignment:_geo.c.f.Ca.eh})]),this.Hj=(new _geo.c.V.qp({model:this.Zc,south:[this.i3a=(new _geo.c.axis.Xf).Ml(_geo.c.axis.qd.Af.Xb).setOrientation(_geo.c.axis.wd.ic)]})).MR(function(a,b){return _geo.c.V.jj.tua(a,b)}),this.WNa=(new _geo.c.V.Ya).Ed(!0).pe("rangelayoutgroup").Ia([(new _geo.c.V.Ya).cb(new _geo.c.f.Rect(0,
0,1,1)).Ia([this.glb=new _geo.c.V.$.Text({text:"min",ax:0,ay:.5,alignment:_geo.c.f.Ca.We}),this.alb=new _geo.c.V.$.Text({text:"max",ax:1,ay:.5,alignment:_geo.c.f.Ca.eh})])]),this.$Ma=(new _geo.c.V.Ya).Ed(!0)])]);this.zI=(new _geo.c.controls.$.yIa({data:new _geo.c.f.XJ,linestyle:_geo.c.attributes.za.gb(this.wc.tooltips.linestyle),fillstyle:_geo.c.attributes.Ha.gb(this.wc.tooltips.fillstyle),autosize:!0,sizeisindevicespace:!0})).ee(new _geo.c.fa.Kxa).Ma(!1).Gf(!0);this.Ia(this.zI);this.zI.Nb();this.WNa.Ia([this.aL,
this.QK]);this.Kfa=[];this.Jfa=[];this.Hj.Db(_geo.c.fa.Oa.Le).Ma(!1);this.Hj.Db(_geo.c.fa.Oa.Sc).Ma(!0);this.Hj.Db(_geo.c.fa.Oa.od).Ma(!0);this.Hj.Db(_geo.c.fa.Oa.Sc).wl(0);this.Hj.Db(_geo.c.fa.Oa.od).wl(0);this.i3a.BO(null);return this.cT};b.prototype.th=function(){null!=this.aL&&this.nq(this.aL.gja());null!=this.QK&&this.nq(this.QK.gja());this.nq(this.kKc=(new _geo.c.controls.ia.GC(this.Vm,_geo.c.controls.ia.DM.Ka)).addListener(_geo.c.controls.ia.GC.aa.NSa,function(a,d){var e=d.Wb(),e=new _geo.c.f.Range(e.ua(),
e.ya());this.pla(e);this.Vm.lg();e=new _geo.c.qa.f$(b.aa.PY,e);this.Oqa(b.aa.PY,this,e)}.bind(this)));this.f0a=(new _geo.c.controls.ia.rM(this.$b,"cursor")).Bda(null).ola(this.wc.cursor.linestyle).addListener(_geo.c.controls.ia.oc.aa.MY,function(a,b){this.zI.Ma(!1);null!=this.fw&&this.fw.Rka(1).hla(1)}.bind(this)).addListener(_geo.c.controls.ia.oc.aa.aka,function(a,b){null!=this.fw&&this.fw.Rka(2).hla(5)}.bind(this)).addListener(_geo.c.controls.ia.rM.aa.VL,function(a,d){this.zI.Ma(!1);var e=d.Xc().ga();
(0,window.isNaN)(e)?this.Yga.Ma(!1):this.Yga.Ma(this.wc.curvesymbol.visible);this.wc.lastupdatedate.followcursor&&((0,window.isNaN)(e)?this.OLa.Ec(""):this.OLa.Ec(this.V0a(e)));this.Kbb(d.Xc(),d.om());this.NHc(d.Xc(),d.om());this.kec(d.Xc(),d.om());this.Pa(b.aa.W6b,this,a.Xc())}.bind(this)).addListener(_geo.c.controls.ia.oc.aa.ot,function(){this.f0a.isEnabled()||(this.zI.Ma(!1),this.Yga.Ma(!1),this.OLa.Ec(this.V0a(this.Zc.va().ya())))}.bind(this));this.VMa=(new _geo.c.controls.ia.Lr(this.$b)).Qb("rubberband").zc(!1).OD(_geo.c.controls.ia.GM.ic).$U(!0).addListener(_geo.c.controls.ia.Lr.aa.Ev,
function(a,d){var e=d.RI(),e=new _geo.c.f.Range(e.ua(),e.ya());this.pla(e);e=new _geo.c.qa.f$(b.aa.PY,e);this.Oqa(b.aa.PY,this,e)}.bind(this));this.nq((new _geo.c.controls.ia.Ol(this.$b,"manipulatorTools")).add([this.f0a,this.VMa]));this.nq(this.fw=(new _geo.c.controls.ia.Selection).Qb("picking").addListener(_geo.c.controls.ia.Selection.aa.Ota,function(a,d){function e(a){return a instanceof _geo.c.V.$.Text||a instanceof _geo.c.axis.Xf}for(var g=d.getSelection(),h=this.HQ(),k=0,l={line:null,fill:null,
legend:null,axis:null},m,k=g.length-1;0<=k;--k)if(g[k]instanceof _geo.c.qa.Jc.pE)null==l.line&&0<=h.indexOf(g[k].zd())&&(l.line=g[k].zd());else if(g[k]instanceof _geo.c.qa.Jc.hfa){var q=null;null!=g[k].FK&&g[k].FK instanceof _geo.c.qa.Jc.pE?q=g[k].FK:null!=g[k].u$&&g[k].u$ instanceof _geo.c.qa.Jc.pE&&(q=g[k].u$);null==l.fill&&null!=q&&0<=h.indexOf(q.zd())&&(l.fill=q.zd())}else g[k]instanceof _geo.c.qa.Jc.LZa?null==l.legend&&0<=h.indexOf(g[k].Bd().wi().id)&&(l.legend=g[k].Bd().wi().id,m="legend"):
g[k]instanceof _geo.c.qa.Jc.z3?(l.annotation=g[k].xb().id,this.Pa(b.aa.T6b,this,g[k].xb().id)):g[k]instanceof _geo.c.qa.Jc.gHa?this.Pa(b.aa.U6b,this,g[k].xb().id):null==l.axis&&g[k]instanceof _geo.c.V.Ya&&g[k].zd()===f?(q=_geo.c.selection.Bc(g[k]).Ve(e).Tn(),null!=q&&0<=h.indexOf(q.zd())&&(l.axis=q.zd())):g[k]instanceof _geo.c.axis.Xf&&"curvelimitsaxis"===g[k].name&&null==l.axis&&0<=h.indexOf(g[k].zd())&&(l.axis=g[k].zd());h=l.legend||l.line||l.fill||l.axis||l.annotation;if(null==h&&(g=g.filter(function(a){return a instanceof
_geo.c.controls.ia.scroll.Pf||a instanceof _geo.c.qa.Vla}),0<g.length))return;this.QBc({id:h,type:m});null!=l.line&&this.kec(a.Fe(this.$b,d),d.om())}.bind(this)));return this};b.prototype.kec=function(a,b){if(null!=a&&null!=b&&!1!==this.wc.tooltips.visible){var d,e,f=a.ga(),g=null!=this.B0&&null!=this.H6a(this.B0),h=new _geo.c.f.sa(this.Zc.Zl().ga()+this.Zc.Zl().ba()/2,this.Zc.Zl().ea()+this.Zc.Zl().da()/2),k=this.wc.tooltips.tooltipoptions.index;!0===k.visible&&(this.uLa.Ma(k.visible),d=a.ga(),this.uLa.Bd().setData({color:k.color,
symbol:k.symbol,name:k.name,indextext:k.indextext,valuetext:d,unittext:k.unittext,singlerow:this.wc.tooltips.tooltipoptions.singlerow}),this.uLa.oh());var l=this.wc.cursorselectionlimit,m=this.wc.tooltips.selectionradius;this.FG.nm().forEach(function(a){var h=a.zd(),k=a.wi().curve,p=a.wi().symbol,w=a.wi().Tcb;if(!0===k.ob()&&null!=k.getData()){var x=k.ZCa();e=x.samples;d=q.r6a(f,e,!0);if(null!==d&&(p.Ba(null),null!=e[d]&&(null==this.B0||g||this.B0===h))){var x=k.Za(),A=new _geo.c.f.sa(e[d].Xc(),e[d].Da()),
A=x.hb(A),x=b.ga()-A.ga(),A=b.ea()-A.ea(),A=Math.sqrt(x*x+A*A);Math.abs(x)<l&&A<m||(0,window.isNaN)(A)?(x="",null!=a.xr()&&null!=a.xr().unit&&(x=a.xr().unit instanceof _geo.c.f.Dq?a.xr().unit.Yd():a.xr().unit),w.Bd().setData({id:h,color:k.ab().Kc(),symbol:p,name:k.getName(),indextext:"",valuetext:e[d].fJ(),unittext:" ("+x+")"}),w.oh(),this.wc.curvesymbol.visible&&p.Ba(_geo.c.attributes.za.gb(this.wc.tooltips.symbollinestyle)),this.zI.Ma(!0)):w.Ma(!1)}}}.bind(this));var k=this.zI.ha().clone(),A=16,
C=4;b=new _geo.c.f.sa(Math.round(b.ga()),Math.round(b.ea()));b.ga()<h.ga()?k.zb(b.ga()-this.Zc.ha().ga()+A):k.zb(b.ga()-this.zI.ha().ba()-C);b.ea()<h.ea()?k.Eb(b.ea()-this.Zc.ha().ea()+A):k.Eb(b.ea()-this.zI.ha().da()-C);this.zI.Ga(k);this.zI.Nb()}};b.prototype.Kbb=function(a,b){if(null==a||null==b)return this;var d=a.ga(),e,f,g;this.FG.nm().forEach(function(a){var h=a.wi();a=h.curve;var k=h.Hca;if(a instanceof _geo.c.qa.Jc.pE&&a.ob()&&null!=a.getData()){var h=h.symbol,l=a.ZCa(),l=l.samples;if((0,window.isNaN)(d)||
null==l||1>l.length)this.wc.curvesymbol.visible&&h.Ma(!1);else{e=q.r6a(d,l,!0);g=l[e].Da();var m=this.wc.cursorselectionlimit,p=a.Za(),D=new _geo.c.f.sa(l[e].Xc(),l[e].Da()),p=p.hb(D),p=b.ga()-p.ga();f=k.vq()?(g-k.va().ta())/k.va().da()*this.Yga.va().da():(k.va().xa()-g)/k.va().da()*this.Yga.va().da();Math.abs(p)<m&&this.wc.curvesymbol.visible&&null!=l[e]&&!(0,window.isNaN)(l[e].Xc())&&null!=f&&!(0,window.isNaN)(f)?(h.Ma(!0),a=a.sb().transform(new _geo.c.f.sa(l[e].Xc(),g)),h.bs(a.ga()),h.Hs(a.ea())):
h.Ma(!1)}}}.bind(this));return this};b.prototype.NHc=function(a,b){if(null!=a&&null!=b){var d=a.ga(),e,f,g;this.FG.nm().forEach(function(a){var h=a.wi(),h=h.curve;if(h instanceof _geo.c.qa.Jc.pE&&h.ob()&&null!=h.getData())if(h=h.ZCa(),g=h.samples,(0,window.isNaN)(d)||null==g||1>g.length)this.wc.legends.visible&&a.yBb(null);else{e=q.r6a(d,g,!0);f=g[e].fJ();var h=this.wc.cursorselectionlimit,k=this.Vm.Za(),l=new _geo.c.f.sa(g[e].Xc(),g[e].Da()),k=k.hb(l),k=b.ga()-k.ga();Math.abs(k)<h&&this.wc.legends.visible?
a.yBb(f):a.yBb(null)}}.bind(this));this.qG&&this.qG.Nb()}};b.prototype.F9b=function(a){if((null==a||-1!==this.HQ().indexOf(a))&&this.B0!==a){var b=this.B0;this.B0=a;this.d3a=null;this.J6b(a,b)}};b.prototype.QBc=function(a){a=_geo.c.Ac(a,{});var d=new _geo.c.qa.gZa(b.aa.w6,a.id,a.type);this.Pa(b.aa.w6,this,d);if(!d.URa()){var d=this.B0,e=this.d3a;this.B0=a.id;this.d3a=a.type;this.J6b(a,{id:d,type:e})}};b.prototype.J6b=function(a,d){a=_geo.c.Ac(a,{});var e=new _geo.c.qa.gZa(b.aa.lF,a.id,a.type);this.Pa(b.aa.lF,
this,e);e.URa()||"function"==typeof this.qmb&&this.qmb(this,a,d)};b.prototype.pzc=function(a){if(!(a===b.S9.keb&&this.tN instanceof _geo.c.controls.ia.scroll.Zla||a===b.S9.UVa&&this.tN instanceof _geo.c.controls.ia.scroll.Ova||a===b.S9.vxa&&this.tN instanceof _geo.c.controls.ia.scroll.YZ)){var d=_geo.c.controls.ia.scroll.Ova.getClassName();switch(a){case b.S9.keb:d=_geo.c.controls.ia.scroll.Zla.getClassName();break;case b.S9.UVa:d=_geo.c.controls.ia.scroll.Ova.getClassName();break;case b.S9.vxa:d=
_geo.c.controls.ia.scroll.YZ.getClassName();break}null!=this.tN&&(this.fx(this.tN.ld()),this.tN=null,this.$Ma.Gh());this.tN=_geo.c.controls.ia.scroll.XF.ib().Yq(d,{name:"scroll",modellimits:this.Zc.va(),visiblelimits:this.Zc.va()});this.$Ma.Ia(this.tN);this.tN.ld().addListener(_geo.c.controls.ia.scroll.Pf.aa.bn,function(a,d){var e=d.Wb(),e=new _geo.c.f.Range(e.ua(),e.ya()),e=new _geo.c.qa.f$(b.aa.oEa,e);this.Oqa(b.aa.oEa,this,e)}.bind(this)).addListener(_geo.c.controls.ia.scroll.Pf.aa.$r,function(a,
d){var e=d.Wb(),e=new _geo.c.f.Range(e.ua(),e.ya()),e=new _geo.c.qa.f$(b.aa.PY,e);this.Oqa(b.aa.PY,this,e)}.bind(this)).addListener(_geo.c.controls.ia.scroll.Pf.aa.KSa,function(a,d){var e=d.Wb(),e=new _geo.c.f.Range(e.ua(),e.ya()),e=new _geo.c.qa.f$(b.aa.PY,e);this.Oqa(b.aa.PY,this,e)}.bind(this)).addListener(_geo.c.controls.ia.scroll.Pf.aa.JSa,function(a,d){var e=d.Wb(),e=new _geo.c.f.Range(e.ua(),e.ya()),e=new _geo.c.qa.f$(b.aa.oEa,e);this.Oqa(b.aa.oEa,this,e)}.bind(this));this.nq(this.tN.ld());
this.en()}};b.prototype.Oqa=function(a,d,e){a!==b.aa.PY&&this.Pa(a,d,e);e.URa()||(this.pla(e.vca()),a===b.aa.PY&&this.Pa(a,d,e))};b.prototype.izc=function(){this.vEc();this.qG=(new _geo.c.controls.$.yIa({data:this.YNa,linestyle:_geo.c.attributes.za.gb(this.wc.legends.linestyle),fillstyle:_geo.c.attributes.Ha.gb(this.wc.legends.fillstyle)})).pe("legendlayoutgroup").ee((new _geo.c.fa.vwa).lp(this.wc.legends.direction));this.qG.Ma(this.wc.legends.visible);this.wc.legends.position===b.Gwa.$p?this.cT.bh(1,
this.qG):(this.co.Ia(this.qG),this.qG.Ga(new _geo.c.f.Rect(0,0,this.wc.legends.width,this.wc.legends.height)),this.qG.getParent().Ia(this.L1a=(new _geo.c.V.Ya).Ed(!0).Qb("legendManipulator")),this.Tjb=new _geo.c.qa.Jc.$eb({manipulatorlayer:this.L1a,group:this.qG}),this.nq(this.Tjb))};b.prototype.vEc=function(){if(null!=this.qG){this.fx(this.Tjb);this.Tjb=null;var a=this.qG.getParent();null!=a&&(null!=this.L1a&&(a.removeChild(this.L1a),this.L1a=null),null!=this.qG&&(a.removeChild(this.qG),this.qG=
null))}};b.prototype.la=function(){return this.xb()};b.prototype.xb=function(){return this.wc};b.prototype.ka=function(a){return this.bb(a)};b.prototype.bb=function(a){var d=!1,e=!1,f;if(null!=a){a=_geo.c.Ac(a,{});if(null!=a.model)a.model!==this.e6&&(null!==this.e6&&this.Zc.removeChild(this.e6),this.e6=a.model,d=!0);else if(null===this.e6){var d=new Date,g=new Date;d.setMonth(d.getMonth()-1);this.e6=(new _geo.c.V.Ya).cb(new _geo.c.f.Rect(d.getTime(),0,g.getTime(),1));d=!0}"boolean"===typeof a.automodellimitsmode&&
(this.wc.automodellimitsmode=a.automodellimitsmode);a.margin instanceof Array&&4===a.margin.length&&(this.wc.margin=a.margin);"boolean"===typeof a.viewcache&&(this.wc.viewcache=a.viewcache);a.alignaxis!==this.wc.alignaxis&&(e=!0,this.wc.alignaxis=a.alignaxis);this.wc=_geo.c.Ac(a,this.wc)}else a={};var h=g=0;this.Ed(this.wc.automodellimitsmode);d&&(this.Zc.cb(this.e6.va()),this.Zc.bh(this.Zc.ip(this.$b),this.e6));this.cT.qb({top:this.wc.margin[0],right:this.wc.margin[1],bottom:this.wc.margin[2],left:this.wc.margin[3]});
this.wc.title.visible||this.wc.lastupdatedate.visible?(this.CG.Ma(!0),this.CG.qb({left:this.wc.title.padding[3],top:this.wc.title.padding[0],right:this.wc.title.padding[1],height:this.wc.title.height}),g+=this.wc.title.height):this.CG.Ma(!1);this.ni.Ma(this.wc.title.visible).Ec(this.wc.title.text).Ob(new _geo.c.attributes.kb({font:this.wc.title.font,color:this.wc.title.color}));this.wc.title.centered?(this.ni.bs(.5),this.ni.Ld(_geo.c.f.Ca.ub)):(this.ni.bs(0),this.ni.Ld(_geo.c.f.Ca.We));this.OLa.Ma(this.wc.lastupdatedate.visible).Ob(new _geo.c.attributes.kb({font:this.wc.lastupdatedate.font,
color:this.wc.lastupdatedate.color}));this.izc();this.qG.qb({left:0,right:0});this.wc.legends.visible&&this.wc.legends.position===b.Gwa.$p&&(this.qG.qb({left:0,top:g,height:this.wc.legends.height}),g+=this.wc.legends.height+this.wc.legends.marginbottom);this.zI.Ba(_geo.c.attributes.za.gb(this.wc.tooltips.linestyle)).Ea(_geo.c.attributes.Ha.gb(this.wc.tooltips.fillstyle));void 0!==this.wc.modelgrid.horizontaltickgenerator&&null==this.e5?this.MW.zg("Horizontal",this.wc.modelgrid.horizontaltickgenerator):
null!=this.e5&&this.wc.modelgrid.horizontaltickgenerator.constructor==={}.constructor&&this.MW.zg("Horizontal",this.wc.modelgrid.horizontaltickgenerator);void 0!==this.wc.modelgrid.verticaltickgenerator&&((this.wc.modelgrid.verticaltickgenerator instanceof _geo.c.axis.YD||this.wc.modelgrid.verticaltickgenerator instanceof _geo.c.axis.OV)&&this.wc.modelgrid.verticaltickgenerator.PR(this.wc.timezone),this.MW.zg("Vertical",this.wc.modelgrid.verticaltickgenerator));this.W1a.Ma(this.wc.modelaxis.visible);
null==this.wc.modelaxis.tickgenerator&&(f=new _geo.c.axis.YD,f.vH(this.iv),f.Bn("EDGE",!1),f.Bn("MAJOR",!1),f.Bn("MINOR",!1),f.Ll("EDGE",null),f.Ll("MAJOR",null),f.Ll("MINOR",null),f.jh("EDGE",null),f.jh("MAJOR",new _geo.c.attributes.za(k)),this.wc.modelaxis.tickgenerator=f);(this.wc.modelaxis.tickgenerator instanceof _geo.c.axis.YD||this.wc.modelaxis.tickgenerator instanceof _geo.c.axis.OV)&&this.wc.modelaxis.tickgenerator.PR(this.wc.timezone);this.W1a.zg(this.wc.modelaxis.tickgenerator);this.W1a.BO(this.wc.modelaxis.baselinestyle);
this.$Ma.Ma(this.wc.scrollbar.visible);this.pzc(this.wc.scrollbar.type);this.wc.scrollbar.visible&&(this.$Ma.qb({left:0,bottom:0,right:0,height:this.wc.scrollbar.height}),h+=this.wc.scrollbar.height);null==this.wc.scrollbar.tickgenerator?(f=new _geo.c.axis.YD,f.vH(this.iv),this.wc.scrollbar.tickgenerator=f):f=this.wc.scrollbar.tickgenerator;f instanceof _geo.c.axis.YD&&(f.Tua("EDGE",this.wc.scrollbar.options.formatter),f.Tua("MAJOR",this.wc.scrollbar.options.formatter));f.cl("MAJOR").dr(this.wc.scrollbar.options.font);
f.cl("EDGE").dr(this.wc.scrollbar.options.font);f.cl("MAJOR").ed(this.wc.scrollbar.options.color);f.cl("EDGE").ed(this.wc.scrollbar.options.color);f.sj("MAJOR").ed(this.wc.scrollbar.options.color);f.sj("EDGE").ed(this.wc.scrollbar.options.color);f.Bn("MINOR",!1);null!=this.tN.zg&&((this.wc.scrollbar.tickgenerator instanceof _geo.c.axis.YD||this.wc.scrollbar.tickgenerator instanceof _geo.c.axis.OV)&&this.wc.scrollbar.tickgenerator.PR(this.wc.timezone),this.tN.zg(this.wc.scrollbar.tickgenerator));this.tN&&
this.tN.bb&&this.wc.scrollbar.options&&this.tN.bb(this.wc.scrollbar.options);this.PLa=this.VNa=null;this.WNa.Ma(this.wc.visiblerange.visible);this.wc.visiblerange.visible?(this.WNa.qb({left:0,bottom:h,right:0,height:this.wc.visiblerange.height}),h+=this.wc.visiblerange.height,null!=this.aL&&this.aL.gja().zc(!0),null!=this.QK&&this.QK.gja().zc(!0)):(this.WNa.qb({left:0,bottom:h,right:0,height:0}),null!=this.aL&&this.aL.gja().zc(!1),null!=this.QK&&this.QK.gja().zc(!1));this.glb.Ob(new _geo.c.attributes.kb({font:this.wc.visiblerange.font,
color:this.wc.visiblerange.color}));this.alb.Ob(new _geo.c.attributes.kb({font:this.wc.visiblerange.font,color:this.wc.visiblerange.color}));f=this.FG.nm();f.forEach(function(b){null!=a.curvelimits&&b.sFa(a.curvelimits);null!=a.curvesymbol&&b.cGa(a.curvesymbol);null!=a.curveaxis&&b.FJ(a.curveaxis);null!=a.tooltips&&null!=a.tooltips.tooltipoptions&&b.ocb(a.tooltips.tooltipoptions);null!=a.curvelimits&&null!=a.curvelimits.visible&&b.sFa({visible:a.curvelimits.visible});null!=a.legends&&null!=a.legends.legendoptions&&
(!0===this.wc.legends.autocolorlabel?a.legends.legendoptions.labelcolor=null:null==this.wc.legends.legendoptions.labelcolor&&(a.legends.legendoptions.labelcolor=k),b.rUa(a.legends.legendoptions))}.bind(this));this.Yga.Ma(this.wc.curvesymbol.visible);this.PM.qb({width:this.$rb()});e&&this.sFc(this.wc.alignaxis);this.wha();this.Hj.qb({left:0,top:g,right:0,bottom:h});this.wc.southaxis.visible?(this.Hj.Db(_geo.c.fa.Oa.Wc).Ma(!0),this.Hj.Db(_geo.c.fa.Oa.Wc).ik(this.wc.southaxis.height)):this.Hj.Db(_geo.c.fa.Oa.Wc).Ma(!1);
this.PM.qb({left:this.wc.curvelimits.margin,top:this.wc.curvelimits.margin,bottom:this.wc.curvelimits.margin});null!=this.wc.southaxis.tickgenerator&&(f=this.wc.southaxis.tickgenerator,f.Ll("MAJOR",new _geo.c.attributes.kb({font:this.wc.southaxis.font,color:this.wc.southaxis.color,alignment:"center"})));(this.wc.southaxis.tickgenerator instanceof _geo.c.axis.YD||this.wc.southaxis.tickgenerator instanceof _geo.c.axis.OV)&&this.wc.southaxis.tickgenerator.PR(this.wc.timezone);this.i3a.zg(this.wc.southaxis.tickgenerator);
this.i3a.Ma(this.wc.southaxis.visible);!0===this.wc.viewcache?null==this.Vm.LN()&&this.Vm.Kl(new _geo.c.V.Ek):null!=this.Vm.LN()&&this.Vm.Kl(null);d&&this.pla(new _geo.c.f.Range(this.e6.va().ua(),this.e6.va().ya()));this.wc.intervalbuttons=_geo.c.Ja(a.intervalbuttons,this.wc.intervalbuttons);this.wc.intervalbuttons.visible?this.aL.Ma(!0):this.aL.Ma(!1);this.wc.scrolltonowbutton.visible?this.QK.Ma(!0):this.QK.Ma(!1);void 0!==a.selectionstrategy&&(this.qmb=a.selectionstrategy);this.Mdc();this.Vm.lg();
this.cT.Nb();this.Hj.Nb();this.Ela();return this};b.prototype.sFc=function(a){a?(this.Iab(this.Hj.Db(_geo.c.fa.Oa.Sc),new _geo.c.qa.Jc.mZa),this.Iab(this.Hj.Db(_geo.c.fa.Oa.od),new _geo.c.qa.Jc.mZa),this.p$b(new _geo.c.qa.Jc.mZa)):(this.Iab(this.Hj.Db(_geo.c.fa.Oa.Sc),new _geo.c.fa.Yn),this.Iab(this.Hj.Db(_geo.c.fa.Oa.od),new _geo.c.fa.Yn),this.p$b(new _geo.c.fa.Yn))};b.prototype.Iab=function(a,b){for(var d,e=0;e<a.cd();++e)d=a.Dc(e),b.add(d);a.ee(b);return this};b.prototype.p$b=function(a){for(var b,
d=0;d<this.PM.cd();++d)b=this.PM.Dc(d),a.add(b);this.PM.ee(a);return this};b.prototype.HQ=function(){var a=[];this.FG.nm().forEach(function(b){a.push(b.zd())});return a};b.prototype.Ay=function(a){if(null==a)return null;var b=this.FG.nm(),b=b.filter(function(b){return b.wi().curve.zd()===a});return null==b||0===b.length?null:b[0]};b.prototype.dQa=function(a){if(null==a)return null;a=this.Ay(a);return null!=a?a.getData():null};b.prototype.$rb=function(){var a=0;this.FG.nm().forEach(function(b){a+=
b.Zrb().width});return a};b.prototype.QAa=function(a,b,d,e){return this.Tvb(a,b,d,e,null)};b.prototype.Tvb=function(a,b,d,e,f,g){a=_geo.c.Ja(a,{name:"string"===typeof a?a:"",id:null!=g?g:"",uri:null!=b?b:"",data:null!=d?d:null,properties:null!=e?e:{},position:"number"===typeof f?f:null},!0);g=this.OVb(a,!1);this.wha();this.cT.Nb();this.Hj.Nb();this.Vm.lg();this.Ela();return g};b.prototype.fTb=function(a){return this.Uvb(a)};b.prototype.Uvb=function(a){if(!Array.isArray(a))return-1;var b=[];this.Hj.vm();
this.PM.vm();this.cT.vm();for(var d=0;d<a.length;d++){var e=_geo.c.Ja(a[d],{name:"",id:"",uri:"",data:null,properties:{},position:null},!0),e=this.OVb(e,!0);b.push(e)}this.Hj.tm();this.PM.tm();this.wha();this.cT.tm();this.cT.Nb();this.Hj.Nb();this.Vm.lg();this.Ela();return 0<b.length?b:-1};b.prototype.OVb=function(a,b){var d=_geo.c.Ja(this.wc.curve,{},!0);a.properties=_geo.c.Ja(a.properties,d,!0);if(null!=a.data&&!(a.data instanceof _geo.c.data.Ps))throw Error('Data must be of type "geotoolkit.data.DataTableView" only.');
if(""===a.id||void 0===a.id)a.id=a.uri;var d=a.id,e=null;a.properties.id=d;e=this.HQ();if(0>e.indexOf(d)){var f=a.data,e=_geo.c.Ja(this.wc.curveaxis,{},!0);void 0!==a.properties.axisposition&&(e.position=a.properties.axisposition);void 0!==a.properties.axisautolabelrotation&&(e.autolabelrotation=a.properties.axisautolabelrotation);void 0!==a.properties.title&&(e.title=a.properties.title);void 0!==a.properties.axisvisible&&(e.visible=a.properties.axisvisible);void 0!==a.properties.tickgeneratoroptions&&
(e.tickgeneratoroptions=_geo.c.Ja(e.tickgeneratoroptions,a.properties.tickgeneratoroptions));void 0!==a.properties.microposition&&(e.microposition=a.properties.microposition);e=new _geo.c.qa.Jc.JC({id:a.id,uri:a.uri,name:a.name,curve:{data:f,properties:a.properties},curvesymbol:this.wc.curvesymbol,curvelimits:this.wc.curvelimits,curveaxis:e,legenditem:this.wc.legends.legendoptions,tooltipitem:this.wc.tooltips.tooltipoptions});b&&e.bm(!0);e.tb(_geo.c.qa.Jc.KC.aa.kea,this.M6a());e.tb(_geo.c.qa.Jc.KC.aa.Vva,
this.O6a());e.tb(_geo.c.qa.Jc.JC.aa.SXa,this.H0b());e.tb(_geo.c.qa.Jc.JC.aa.KWa,this.nZb());e.tb(_geo.c.qa.Jc.JC.aa.hma,this.pZb());e.setData(f);e.wi().Hca.cb(this.Zc.va());this.Vm.Ia([e.wi().Hca,e.wi().curve]);this.Yga.Ia(e.wi().symbol);e.B8(a.properties);"number"===typeof a.position?(this.FG.$q(a.position,e),this.zI.getData().$q(a.position,e.wi().Tcb)):(this.FG.add(e),this.zI.getData().add(e.wi().Tcb));this.PM.qb({width:this.$rb()}).Ia(e.wi().DBa);this.Hj.connect(e.wi().DBa.Dc(0),e.wi().Hca,_geo.c.f.Pb.jc,
!1);this.PM.we().add(e.wi().DBa);this.cT.Nb();var f=e.wi().axis,g=e.wi().Dha,h=e.wi().$Aa;void 0===a.properties.axisposition&&(a.properties.axisposition=this.wc.curveaxis.position);var k,l;"left"===a.properties.axisposition?(k=this.Kfa,l=_geo.c.fa.Oa.Sc):"right"===a.properties.axisposition&&(k=this.Jfa,l=_geo.c.fa.Oa.od);k&&k.push(a.properties.id);"left"===a.properties.axisposition?(this.Hj.fF(0,g,l),this.Hj.fF(0,h,l)):(this.Hj.Sq(g,l),this.Hj.Sq(h,l));this.Hj.connect(f,e.wi().Hca,_geo.c.f.Pb.jc,
!1);k=e.wi().vAc;"number"===typeof a.position?this.YNa.$q(a.position,k):this.YNa.add(k);k=this.HQ();null!=k&&1===k.length&&this.DFa(k[0]);b&&e.bm(!1)}return d};b.prototype.pDa=function(a,b,d){null==this.ikb&&(this.ikb=function(){var a;a=this.e5;var b=this.MW.getParent();if(null!=this.e5&&(a=this.Ay(a),null!=a&&null!=a.wi()&&(a=a.wi().Hca,null!=a))){var d=b.va();b.cb(new _geo.c.f.Rect(d.ua(),a.va().ta(),d.ya(),a.va().xa()))}}.bind(this));return this.ikb};b.prototype.M6a=function(a,b,d){null==this.bib&&
(this.bib=function(a,b,d){if(null!=b&&null!=d){b=b.wi();a=b.Dha;b=b.$Aa;var e,f,g;"left"===d.oldposition?(e=this.Kfa,f=_geo.c.fa.Oa.Sc):"right"===d.oldposition&&(e=this.Jfa,f=_geo.c.fa.Oa.od);e&&e.splice(e.indexOf(d.id),1);"left"===d.axisposition?(e=this.Kfa,g=_geo.c.fa.Oa.Sc):"right"===d.axisposition&&(e=this.Jfa,g=_geo.c.fa.Oa.od);e&&e.push(d.id);this.Hj.removeItem(a,f);this.Hj.removeItem(b,f);g===_geo.c.fa.Oa.Sc?(this.Hj.fF(0,a,g),this.Hj.fF(0,b,g)):g===_geo.c.fa.Oa.od&&(this.Hj.Sq(a,g),this.Hj.Sq(b,
g));this.wha();this.cT.Nb();this.Hj.Nb();this.Vm.lg()}}.bind(this));return this.bib};b.prototype.O6a=function(a,b,d){null==this.dib&&(this.dib=function(a,b,d){this.wha();this.cT.Nb();this.Hj.Nb();this.PM.Nb();this.Vm.lg();this.Ela()}.bind(this));return this.dib};b.prototype.H0b=function(a,b,d){null==this.Mkb&&(this.Mkb=function(){this.qG.Nb()}.bind(this));return this.Mkb};b.prototype.nZb=function(a,b,d){null==this.Kib&&(this.Kib=function(){this.PM.Nb();this.Hj.wV()}.bind(this));return this.Kib};b.prototype.pZb=
function(a,b,d){null==this.Lib&&(this.Lib=function(){this.Vm.ma();this.ma()}.bind(this));return this.Lib};b.prototype.DFa=function(a){if(null==this.MW||this.e5===a)return this;var b;b=this.MW.getParent();b.cb(new _geo.c.f.Rect(0,0,1,1));null!=this.e5&&(b=this.Ay(this.e5),null!=b&&null!=b.wi()&&(b.getData().pb(_geo.c.data.aa.ff,this.pDa()),b.wi().curve.pb(_geo.c.qa.Jc.pE.aa.Hwa,this.pDa())),this.e5=null);this.e5=a;null!=a?(b=this.Ay(a),null!=b&&null!=b.wi()&&(this.pDa().call(this),b.getData().tb(_geo.c.data.aa.ff,
this.pDa()),b.wi().curve.tb(_geo.c.qa.Jc.pE.aa.Hwa,this.pDa()),null!=this.MW&&null!=b.wi().axis&&(a=b.wi().axis.ze().clone(),a.jh("MAJOR",new _geo.c.attributes.za(m.MAJOR)).jh("MINOR",new _geo.c.attributes.za(m.MINOR)).jh("EDGE",new _geo.c.attributes.za(m.EDGE)),a.ug("MAJOR",this.wc.modelgrid.horizontalvisibility.MAJOR).ug("MINOR",this.wc.modelgrid.horizontalvisibility.MINOR).ug("EDGE",this.wc.modelgrid.horizontalvisibility.EDGE),this.MW.zg(_geo.c.f.Pb.ic,a)))):this.MW.zg(_geo.c.f.Pb.ic,this.wc.modelgrid.horizontaltickgenerator);
this.MW.ze(_geo.c.f.Pb.jc).ug("MAJOR",this.wc.modelgrid.verticalvisibility.MAJOR).ug("MINOR",this.wc.modelgrid.verticalvisibility.MINOR).ug("EDGE",this.wc.modelgrid.verticalvisibility.EDGE);this.en();return this};b.prototype.lTb=function(a,d,e,f,g){e=_geo.c.Ja(a,{id1:"string"===typeof a?a:null,id2:d,fillstyle:null!=e?e:null,filltype:null!=f?f:null,filldirection:null!=g?g:b.SV.Qf});if(null!=e.id1&&null!=e.fillstyle&&null!=e.filltype&&null!=e.filldirection){var h=null,k=null;e.fillstyle=_geo.c.attributes.Ha.gb(e.fillstyle);
switch(e.filldirection){case b.SV.Xb:k=e.fillstyle;break;case b.SV.Qf:h=e.fillstyle;break;default:return}this.QEa(e.id1,e.filldirection);switch(f){case b.Bg.oGb:a=this.oqc(a,d,null,h,k);break;case b.Bg.pGb:a=this.eTb(a,d,null,h,k,e.filldirection);break;case b.Bg.nGb:a=this.eTb(a,Number.MAX_VALUE,null,h,k,b.SV.Xb,e.filldirection);break;default:return}d=this.Ay(e.id1);d.u8b(g,e,a);this.Vm.lg()}};b.prototype.QEa=function(a,d){var e=_geo.c.Ja(a,{curveId:"string"===typeof a?a:null,filldirection:d});if(null!=
e.curveId)if(null==e.filldirection)this.QEa(e.curveId,b.SV.Xb),this.QEa(e.curveId,b.SV.Qf);else{var f=this.Ay(e.curveId);if(null!=f){var g=f.wi();null!=g&&null!=g.n6a&&null!=g.n6a[d]&&(g.n6a[d].Ra(),this.Vm.removeChild(g.n6a[d]),f.u8b(e.filldirection,null,null))}}};b.prototype.Yrb=function(a){a=_geo.c.Ja(a,{curveId:"string"===typeof a?a:null});a=this.Ay(a.curveId);return null!=a?a.wi().OI:null};b.prototype.qZb=function(a,b){var d=_geo.c.Ja(a,{curveId:"string"===typeof a?a:null,filldirection:b});if(null==
d.curveId)return null;var e=this.Ay(d.curveId);return null!=e&&null!=e.wi().OI[d.filldirection]?e.wi().OI[d.filldirection].fillstyle:null};b.prototype.oqc=function(a,b,d,e,f){b=_geo.c.Ja(a,{id1:"string"===typeof a?a:null,id2:"string"===typeof b?b:null,fillstyle:null!=d?d:null,positivefillstyle:null!=e?e:null,negativefillstyle:null!=f?f:null},!0);if(null==b.id1||null==b.id2)return null;a=this.Ay(b.id1).wi();d=this.Ay(b.id2).wi();if(null==a||null==d)return null;b=new _geo.c.qa.Jc.hfa(a.curve,d.curve,
b.fillstyle,b.positivefillstyle,b.negativefillstyle);a=this.Vm.ip(a.curve);this.Vm.bh(a,b);return b};b.prototype.eTb=function(a,b,d,e,f,g,h){b=_geo.c.Ja(a,{id1:"string"===typeof a?a:null,value:"number"===typeof b?b:null,fillstyle:null!=d?d:null,filltype:null!=h?h:null,filldirection:null!=g?g:null,positivefillstyle:null!=e?e:null,negativefillstyle:null!=f?f:null},!0);if(null==b.id1||null==b.value)return null;a=this.Ay(b.id1).wi();if(null==a)return null;d=new _geo.c.qa.Jc.exa(b.value,a.curve,b.filltype);
b=new _geo.c.qa.Jc.hfa(a.curve,d,b.fillstyle,b.positivefillstyle,b.negativefillstyle);a=this.Vm.ip(a.curve);this.Vm.bh(a,b);return b};b.prototype.sEc=function(a){var b=null,d,e=this.Ay(a);if(null==e)return this;for(d=0;d<this.Kfa.length&&null==b;++d)if(this.Kfa[d]===a||this.Kfa[d]instanceof Array&&0<=this.Kfa[d].indexOf(a))b=_geo.c.fa.Oa.Sc,this.Kfa.splice(d,1);for(d=0;d<this.Jfa.length&&null==b;++d)if(this.Jfa[d]===a||this.Jfa[d]instanceof Array&&0<=this.Jfa[d].indexOf(a))b=_geo.c.fa.Oa.od,this.Jfa.splice(d,
1);if(!b)return this;null!=e.wi&&(a=e.wi(),null!=a.Dha&&this.Hj.removeItem(a.Dha,b),null!=a.$Aa&&this.Hj.removeItem(a.$Aa,b));this.wha();return this};b.prototype.wha=function(){for(var a=this.wc.alignaxis,d=[_geo.c.fa.Oa.Sc,_geo.c.fa.Oa.od],e,f,g,h=0;h<d.length;++h){e=this.Hj.Db(d[h]);for(var k=f=0;k<e.cd();++k)g=e.Dc(k),g.ob()&&(f=a?Math.max(f,g.bl()):f+g.bl());e.wl(f)}d=a=0;this.Hj.Db(_geo.c.fa.Oa.Sc).ob()&&(a=this.Hj.Db(_geo.c.fa.Oa.Sc).bl());this.Hj.Db(_geo.c.fa.Oa.od).ob()&&(d=this.Hj.Db(_geo.c.fa.Oa.od).bl());
a=null==a?0:a;d=null==d?0:d;this.$Ma.qb({left:a,right:d});this.wc.legends.position===b.Gwa.$p&&(!0===this.wc.legends.alignwithcentermodel?this.qG.qb({left:a,right:d}):this.qG.qb({left:0,right:0}));return this};b.prototype.Xyb=function(a){if(null!=a){var d=a,e;a instanceof Array||(d=[a]);var f=null;for(e=0;e<d.length;++e)f=this.Ay(d[e]),null!=f&&null!=f.O8a()&&f.O8a().yTa(f);var f=function(a){null!=a&&(this.YNa.nm().forEach(function(b){a===b.Bd()&&this.YNa.remove(b)}.bind(this)),this.zI.getData().nm().forEach(function(b){a.wi().Tcb===
b&&this.zI.getData().remove(b)}.bind(this)))}.bind(this),g=function(a){var d=this.HQ(),e,f=[b.SV.Xb,b.SV.Qf];d.forEach(function(b){e=this.Yrb(b);f.forEach(function(b){null==e||null==e[b]||e[b].id2!==a&&e[b].id1!==a||this.QEa(e[b].id1,e[b].filldirection)}.bind(this))}.bind(this))}.bind(this),h=!1,k;for(e=0;e<d.length;++e)k=this.Ay(d[e]),null!=k&&(h=k.wi(),this.Hj.disconnect(h.DBa.Dc(0)),this.Hj.disconnect(h.axis),g(d[e]),this.sEc(d[e]),k.getData().pb(_geo.c.data.aa.ff,this.pDa()),k.pb(_geo.c.qa.Jc.KC.aa.kea,
this.M6a()),k.pb(_geo.c.qa.Jc.KC.aa.Vva,this.O6a()),k.pb(_geo.c.qa.Jc.JC.aa.SXa,this.H0b()),k.pb(_geo.c.qa.Jc.JC.aa.KWa,this.nZb()),k.pb(_geo.c.qa.Jc.JC.aa.hma,this.pZb()),this.Vm.removeChild(h.curve),this.Vm.removeChild(h.Hca),this.Vm.lg(),this.Yga.removeChild(h.symbol),this.PM.we().remove(h.DBa),this.PM.removeChild(h.DBa),this.PM.qb({width:this.$rb()}),this.B0===d[e]&&(this.d3a=this.B0=null),h=!0,f(k),k.Ra(),this.FG.remove(k));this.e5===a&&(a=this.HQ(),null==a||0===a.length?this.DFa(null):this.DFa(a[0]));
h&&(this.cT.Nb(),this.Hj.Nb(),this.Ela())}return this};b.prototype.sZb=function(a){return null==a||null==this.Ay(a)?null:this.Ay(a).xr()};b.prototype.r$b=function(a,b,d,e,f,g,h,k,l,m,q,C,D){var E=_geo.c.Ja(a,{id:a,name:"string"===typeof C?C:void 0,autoscale:"boolean"===typeof b?b:void 0,min:"number"===typeof d?d:Number.NaN,max:"number"===typeof e?e:Number.NaN,value:"number"===typeof f?f:Number.NaN,unit:"string"===typeof g?g:void 0,linestyle:null!=h?h:void 0,curvevisible:"boolean"===typeof k?k:void 0,
symbolvisible:"boolean"===typeof l?l:void 0,axisvisible:"boolean"===typeof m?m:void 0,axisposition:"string"===typeof q?q:void 0,axisautolabelrotation:"boolean"===typeof D?D:void 0},!0);if(null==E.id)return this;a=Object.keys(E);a.forEach(function(a){E.hasOwnProperty(a)&&void 0===E[a]&&delete E[a]});if("string"===typeof E.id)a=this.Ay(E.id);else if(E.id instanceof _geo.c.qa.Jc.JC)a=E.id;else return this;null!=a&&(b={},void 0!==E.curvevisible&&(b.visible=E.curvevisible),void 0!==E.autoscale&&(b.autoscale=
E.autoscale),void 0!==E.name&&(b.name=E.name),void 0!==E.min&&(b.min=E.min),void 0!==E.max&&(b.max=E.max),void 0!==E.unit&&(b.unit=E.unit),void 0!==E.linestyle&&(b.linestyle=E.linestyle),void 0!==E.value&&(b.value=E.value),a.B8(b),void 0!==E.symbolvisible&&a.cGa({visible:E.symbolvisible}),b={},void 0!==E.axisvisible&&(b.visible=E.axisvisible),void 0!==E.axisposition&&(b.position=E.axisposition),void 0!==E.axisautolabelrotation&&(b.autolabelrotation=E.axisautolabelrotation),a.FJ(b));return this};b.prototype.TOc=
function(a,b){if(null==a||null==b)return this;!0===this.wc.legends.autocolorlabel?b.labelcolor=null:null==this.wc.legends.legendoptions.labelcolor&&(b.labelcolor=k);a.bb(b);return this};b.prototype.wOb=function(b){if("function"===typeof this.wc.visiblerange.formatter)return this.wc.visiblerange.formatter(b);null==this.VNa&&(this.VNa=a(this.qoa,this.wc.visiblerange.formatter,this.iv));return this.VNa.format(new Date(b))};b.prototype.V0a=function(b){if("function"===typeof this.wc.lastupdatedate.formatter)return this.wc.lastupdatedate.formatter(b);
null==this.PLa&&(this.PLa=a(this.qoa,this.wc.lastupdatedate.formatter,this.iv));return this.PLa.format(new Date(b))};b.prototype.en=function(){var a=this.Zc.va(),b=this.Zc.Wb(),d=this.i3a.ze();if(d instanceof _geo.c.axis.YD){d.vH(this.iv);var e=b.ya()-b.ua();e<=h?d.Tua("MAJOR","H:i:s"):e<=l?d.Tua("MAJOR","H:i"):d.Tua("MAJOR","M j, Y")}this.glb.Ec(this.wOb(b.ua()));this.alb.Ec(this.wOb(b.ya()));this.wc.lastupdatedate.followcursor&&this.f0a.isEnabled()||this.OLa.Ec(this.V0a(a.ya()));this.tN.cb(a,b);
b=this.MW.getParent().va();this.MW.getParent().cb(new _geo.c.f.Rect(a.ua(),b.ta(),a.ya(),b.xa()));this.X3a.cb(a);this.W3a.cb(a);this.Ela()};b.prototype.Ela=function(){var a=!1,b=this.co,d=_geo.c.f.Fa.Sf(this.Zc.Zl(),this.Zc.Wb()),e=this.Zc.Zl().clone();d.yb(e,e);e.Ij(b.ha())||(b.Ga(e),a=!0);d=new _geo.c.f.Rect(0,0,this.Zc.Zl().ba(),this.Zc.Zl().da());d.Ij(b.va())||(b.cb(d),a=!0);!0===a&&this.Hj.wV()};b.prototype.o8b=function(){this.wnc.lg();this.X3a.lg();this.W3a.lg();this.Vm.lg();this.$b.lg();this.E4.lg();
this.co.lg();return this};b.prototype.Hu=function(){var a=this.Zc.va();return new _geo.c.f.Range(a.ua(),a.ya())};b.prototype.qk=function(a){var b=new _geo.c.f.Rect(this.Zc.va());if(b.ua()!==a.nb()||b.ya()!==a.wb())b.zb(a.nb()),b.rb(a.wb()-a.nb()),this.Zc.cb(b),this.en(),this.Vm.lg();return this};b.prototype.vca=function(){var a=this.Zc.Wb();return new _geo.c.f.Range(a.ua(),a.ya())};b.prototype.pla=function(a){if(null==a)return this;a.cc()<e&&(a.nb()+e<this.Zc.va().ya()?a.qk(a.nb(),a.nb()+e):a.wb()-
e>this.Zc.va().ua()?a.qk(a.wb()-e,a.wb()):a.qk(this.Zc.va().ua(),this.Zc.va().ya()));var b=new _geo.c.f.Rect(this.Zc.va());b.zb(a.nb());b.rb(a.wb()-a.nb());this.Hj.gs(b);null!=this.jmb&&1<Math.abs(this.jmb-(a.wb()-a.nb()))&&(this.aL.Qcb(_geo.c.qa.UO.Ow.BYa),this.jmb=null);this.en();return this};b.prototype.CF=function(a){this.Hj.CF(a,0);this.en();return this};b.prototype.Nu=function(a){this.Hj.Nu(a,1);this.en();this.Vm.lg();return this};b.prototype.OJ=function(){this.Nu(1.25);return this};b.prototype.PJ=
function(){this.Nu(.8);return this};b.prototype.lia=function(){var a=this.Zc.va();this.pla(new _geo.c.f.Range(a.ua(),a.ya()));return this};b.prototype.y3b=function(){return q.z3b(this.zna,"annotation_")};b.prototype.aTb=function(a){null==a&&(a={});a.id=this.y3b();this.E4.Ia([new _geo.c.qa.Jc.gHa(a)]);this.zna.push(a.id);return a.id};b.prototype.z8b=function(a){return this.B2(a)};b.prototype.hXb=function(a,b){return this.K6(a,b)};b.prototype.Raa=function(a){var b=null;if(null==a||null==a.curveid||
null==a.time)return b;var d=this.Ay(a.curveid);if(null==d||!(d instanceof _geo.c.qa.Jc.JC))return b;var e=a.time;if((0,window.isNaN)(e))return b;var f=d.wi();if(null==f.curve||null==f.curve.getData())return b;var b=f.curve,f=b.ZCa(),g=f.samples,e=q.r6a(e,g),f=g[e].Da(),e=g[e].Xc(),f=(b.getParent().va().xa()-f)/b.getParent().va().da()*this.E4.va().da(),b={},g=this.y3b();b.id=g;b.point=new _geo.c.f.sa(e,f);b.label=a.label;b.textstyle=a.textstyle;b.symbol=q.l8a(a.symbol);b.linestyle=a.linestyle;b.textbackground=
a.textbackground;b.fillstyle=a.fillstyle;b.symbolsize=a.symbolsize;b.timeseriesobject=d;a=new _geo.c.qa.Jc.z3({id:g});this.E4.Ia(a);this.zna.push(b.id);a.bb(b);return b.id};b.prototype.K6=function(a,b){if(null==a)return"";var d=this.H6a(a);null!=d&&(null!=b.symbol&&(b.symbol=q.l8a(b.symbol)),d.bb(b));return a};b.prototype.B2=function(a){if(null==a)return this;var b=this.H6a(a);null!=b&&(this.E4.removeChild(b),b.Ra(),-1!==this.zna.indexOf(a)&&this.zna.splice(this.zna.indexOf(a),1));return this};b.prototype.H6a=
function(a){if(null==a)return null;var b=this.zna.indexOf(a),d=0;if(-1<b&&null!=this.E4.Dc(b)&&this.E4.Dc(b).xb().id===a)return this.E4.Dc(b);b=0;for(d=this.E4.cd();b<d;b++){var e=this.E4.Dc(b);if(e instanceof _geo.c.qa.Jc.gHa&&e.xb().id===a)return e}return null};b.prototype.BYb=function(a){return this.Drb(a)};b.prototype.Drb=function(a){var b={id:a};a=this.H6a(a);null!=a&&(b=_geo.c.Ja(b,a.la()));return b};b.prototype.Aa=function(a){var b=3;if(null!=this.aL){var d=Math.max(this.glb.ba(),150);this.aL.Ga(new _geo.c.f.Rect(d,
b,d+this.aL.bl(),b+this.aL.Re()))}null!=this.QK&&(d=this.WNa.va().ba()-Math.max(this.alb.ba()-this.QK.bl(),150),this.QK.Ga(new _geo.c.f.Rect(d,b,d+this.QK.bl(),b+this.QK.Re())));_geo.c.qa.fm.prototype.Aa.call(this,a)};b.prototype.MUb=function(a,b,d){d=this.HQ().indexOf(d);a=this.HQ().indexOf(a);var e=this.HQ().length-1;if(-1===a||b===_geo.c.V.Yj.AB.TV&&0===a||b===_geo.c.V.Yj.AB.e_&&a===e||b===_geo.c.V.Yj.AB.oXa&&0===a||b===_geo.c.V.Yj.AB.hWa&&a===e||b===_geo.c.V.Yj.AB.lea&&0===d||b===_geo.c.V.Yj.AB.w3&&
d===e)return this;var e=this.FG.get(a),f=this.Vm.Dc(2*a),g=this.Vm.Dc(2*a+1);this.FG.eab(a);this.Vm.removeChild(f);this.Vm.removeChild(g);switch(b){case _geo.c.V.Yj.AB.TV:this.FG.$q(0,e);this.Vm.bh(0,g);this.Vm.bh(0,f);break;case _geo.c.V.Yj.AB.e_:this.FG.add(e);this.Vm.Ia(f);this.Vm.Ia(g);break;case _geo.c.V.Yj.AB.oXa:this.FG.$q(a-1,e);this.Vm.bh(2*(a-1),g);this.Vm.bh(2*(a-1),f);break;case _geo.c.V.Yj.AB.hWa:this.FG.$q(a+1,e);this.Vm.bh(2*(a+1),g);this.Vm.bh(2*(a+1),f);break;case _geo.c.V.Yj.AB.lea:this.FG.$q(d,
e);this.Vm.bh(2*d,g);this.Vm.bh(2*d,f);break;case _geo.c.V.Yj.AB.w3:this.FG.$q(d+1,e);this.Vm.bh(2*(d+1),g);this.Vm.bh(2*(d+1),f);break}return this};b.prototype.gIc=function(a,d){d||(d=this.Zc.Wb());var e=d.ya(),e=new _geo.c.qa.f$(b.aa.oEa,new _geo.c.f.Range(e-a,e));this.Oqa(b.aa.PY,this,e);return this};b.prototype.nFc=function(){var a=this.Hu(),b=this.vca(),d=a.wb(),a=a.wb()-(b.wb()-b.nb());this.pla(new _geo.c.f.Range(a,d));return this};b.prototype.zBa=function(a,b,d,e,f){d=_geo.c.Ja(a,{id:null!=
a?a:"",curveids:null!=b?b:[],curveaxis:null!=f?f:{},min:null!=d?d:null,max:null!=e?e:null},!0);a=d.id;b=null;var g=[];d.curveids.forEach(function(a){a=this.Ay(a);null!=a&&g.push(a)}.bind(this));if(null==d.min){var h=Number.MAX_VALUE;g.forEach(function(a){null!=a&&null!=a.xr&&null!=a.xr().min&&a.xr().min<h&&(h=a.xr().min)});d.min=h!==Number.MAX_VALUE?h:0}if(null==d.max){var k=Number.MIN_VALUE;g.forEach(function(a){null!=a&&null!=a.xr&&null!=a.xr().max&&a.xr().max>k&&(k=a.xr().max)});d.max=k!==Number.MIN_VALUE?
k:1}var l=[];this.d1a.nm().forEach(function(a){l.push(a.zd())});if(0>l.indexOf(a))b=new _geo.c.qa.Jc.jhb(d),b.Zd(g),this.d1a.add(b),b.tb(_geo.c.qa.Jc.KC.aa.kea,this.M6a()),b.tb(_geo.c.qa.Jc.KC.aa.Vva,this.O6a());else return null;d=b.wi().Dha;e=b.wi().$Aa;b=b.YE();var m;"left"===b.position?m=_geo.c.fa.Oa.Sc:"right"===b.position&&(m=_geo.c.fa.Oa.od);"left"===b.position?(this.Hj.fF(0,d,m),this.Hj.fF(0,e,m)):(this.Hj.Sq(d,m),this.Hj.Sq(e,m));this.wha();this.cT.Nb();this.Hj.Nb();this.PM.Nb();this.Vm.lg();
this.Ela();return a};b.prototype.nua=function(a){a=this.Qsb(a);if(null==a)return this;var b=a.YE(),d=a.wi().Dha,e=a.wi().$Aa,f;"left"===b.position?f=_geo.c.fa.Oa.Sc:"right"===b.position&&(f=_geo.c.fa.Oa.od);this.Hj.removeItem(d,f);this.Hj.removeItem(e,f);a.rEc();this.d1a.remove(a);a.pb(_geo.c.qa.Jc.KC.aa.kea,this.M6a());a.pb(_geo.c.qa.Jc.KC.aa.Vva,this.O6a());this.wha();this.Hj.Nb();this.Ela();return this};b.prototype.Qsb=function(a){if(null==a)return null;var b=this.d1a.nm(),b=b.filter(function(b){return b.zd()===
a});return null==b||0===b.length?null:b[0]};b.prototype.P3b=function(){return this.X3a};b.prototype.O3b=function(){return this.W3a};b.prototype.Uia=function(){return this.co};b.prototype.yXb=function(a){null==a&&(a={});var b=this.vf(),d=b.ha(),e=_geo.c.f.Bf.ib().Zb("px"),e=_geo.c.V.Sb.gW.ib().nY("A4",e,_geo.c.V.Sb.oK.NXa),e={paperformat:e,top:.5,bottom:.5,left:.5,right:.5,units:"in",orientation:"Landscape",scaling:"FitBoth",keepaspectratio:!0,continuous:!1,drawwesttoeast:!0},e={footer:null,header:null,
output:"PDF Output",save:!1,printsettings:e,limits:null,scale:1},f=_geo.c.Ja(a,e,!0);a=new _geo.c.V.Sb.Gq(b,d);a.Ga(d);a=[a];var d=new _geo.c.V.Sb.$la(a,new _geo.c.V.Sb.sma(d.ba(),d.da())),d=new _geo.c.V.Sb.Document(d,f.header,f.footer,!0),g=new _geo.c.V.Sb.Qma;Array.isArray(f.embededfonts)&&(a=f.embededfonts,a.forEach(function(a){g.sba(a.subType,a.fontName,a.fontWeight,a.fontStyle,a.fontBase64EncodedFile,a.encoding)}));f.imagecompression&&g.H8(f.imagecompression.mode,f.imagecompression.quality,f.imagecompression.speed);
g.mV(f.streamcompression);a=f.pdfstream instanceof _geo.c.f.stream.wp?f.pdfstream:new _geo.c.f.stream.qW;var b=this.Pg("cursor"),h=this.xb().scrollbar.visible;b&&(this.bb({scrollbar:{visible:!1}}),b.setPosition(new _geo.c.f.sa(window.NaN,window.NaN)));return g.JBa(d,f.printsettings,a).then(function(a){a.save(f.output,f.save);h&&this.bb({scrollbar:{visible:!0}})}.bind(this),function(a){throw a;})};b.prototype.Ra=function(){this.DFa(null);this.Xyb(this.HQ());_geo.c.qa.fm.prototype.Ra.call(this)};return b}();
_geo.c.qa.CB=function(){function b(a){this.Sm=!1;void 0===a&&(a={});void 0===a.horizontalscrollable&&void 0!==a.horizontalscroll&&(a.horizontalscrollable=a.horizontalscroll);void 0===a.verticalscrollable&&void 0!==a.verticalscroll&&(a.verticalscrollable=a.verticalscroll);a=_geo.c.Ja(a,{bounds:a.bounds instanceof _geo.c.f.Rect?a.bounds:new _geo.c.f.Rect(0,0,400,400),horizontalscroll:void 0!==a.horizontalscrollable?a.horizontalscrollable:!0,verticalscroll:void 0!==a.verticalscrollable?a.verticalscrollable:
!0,keepvisiblelimits:!1,border:void 0!==a.border?a.border:{color:"transparent"},rows:void 0!==a.rows?a.rows:1,cols:void 0!==a.cols?a.cols:1,fixedsize:a.fixedsize});var b=a.bounds;a.bounds=b.clone().zb(0).Eb(0);this.Jb=(new _geo.c.controls.$.CB(a)).tb(_geo.c.controls.$.CB.aa.bwa,function(a,b){this.Pa(_geo.c.qa.CB.aa.bwa,this,b)}.bind(this));a.bounds=b;a.model=this.Jb;this.NP=a.horizontalscroll;this.eL=a.verticalscroll;a.annotationssizes={north:"0",west:"0",east:!0===a.verticalscroll?"15":"0",south:!0===
a.horizontalscroll?"15":"0"};_geo.c.qa.Bh.call(this,a);this.Db("center").ee(new _geo.c.fa.Uk);this.Jb.qb({left:0,top:0,right:0,bottom:0});this.Jb.Gf(!0);"floating"===this.eL&&"floating"===this.NP&&(a=this.Db(_geo.c.fa.Oa.ub),this.He.eM("floating"===this.eL),this.Pe.eM("floating"===this.NP),this.Fb.removeItem(this.Pe,_geo.c.fa.Oa.Wc),this.Fb.removeItem(this.He,_geo.c.fa.Oa.od),a.ee(new _geo.c.fa.Uk),a.Ia(this.He),a.Ia(this.Pe));this.en();this.Sm=!0}_geo.c.na(b,_geo.c.qa.Bh);_geo.c.ja(b,"geotoolkit.widgets.TableView");
b.aa={bwa:"onColumnWidthChanged",VLb:"onTableSizeChanged",Bxa:"onTableAdjusted"};b.prototype.Prb=function(a){return null!=a?this.Jb.Jra(a):this.Jb.kCa().ba()+this.Jb.Mra().ba()};b.prototype.Sab=function(a,b){this.Jb.Jua(a,b);this.en();return this};b.prototype.QI=function(a){this.Jb.QI(a);return this};b.prototype.l2b=function(){return this.Jb.pCa().da()+this.Jb.Mra().da()};b.prototype.Jxb=function(){this.Pa(_geo.c.qa.CB.aa.VLb,this);return this};b.prototype.Ga=function(a){_geo.c.qa.Bh.prototype.Ga.call(this,
a);this.Sm&&(this.Jb.Ga(this.Db(_geo.c.fa.Oa.ub).va()),this.Jb.xha(),this.en());return this};b.prototype.Qub=function(){return this.Jb};b.prototype.xH=function(a,b){this.Jb.xH(a,b);this.en();this.Jxb();this.ma();return this};b.prototype.gDa=function(){return this.Jb.gDa()};b.prototype.L1=function(){return this.Jb.L1()};b.prototype.CU=function(){return this.Jb.CU()};b.prototype.qZ=function(a,b){this.Jb.qZ(a,b);this.en();return this};b.prototype.setData=function(a){if(void 0===a)return this;this.Jb.setData(a);
this.en();this.Jxb();return this};b.prototype.vZ=function(a,b){this.Jb.vZ(a,b);return this};b.prototype.mja=function(a,b){this.Jb.mja(a);if(!1===b)return this;this.Jb.qZ(a,-1!==this.LQ()?this.LQ():0);this.Jb.xha();this.en();return this};b.prototype.iY=function(){return this.Jb.iY()};b.prototype.WTa=function(a,b){this.Jb.Eka(a);if(!1===b)return this;var e=this.Jb.wL()[0];this.Jb.qZ(e,-1!==this.LQ()?this.LQ():0);this.Jb.xha();this.en();return this};b.prototype.IPa=function(){return this.wL()[0]};b.prototype.wL=
function(){return this.Jb.wL()};b.prototype.P7=function(a){this.Jb.P7(a);return this};b.prototype.LQ=function(){return this.Jb.LQ()};b.prototype.en=function(){var a=this.Jb.Mra(),b=this.Jb.N1();this.Pe.cb(a,b,this.Zc.Fy());this.He.cb(a,b,this.Zc.vq());this.Pa(_geo.c.qa.CB.aa.Bxa,this,null);return this};b.prototype.th=function(){if(void 0===this.Jb)return this;var a=function(a,b){var f=this.Jb.N1(),g=b.Wb(),f=(f.ua()-g.ua())*this.Zc.Za().Rb();this.Jb.vZ(f,0);this.Pe.cb(this.Jb.Mra(),this.Jb.N1());
this.Pa(_geo.c.qa.CB.aa.Bxa,this,null)}.bind(this),b=function(a,b){var f=this.Jb.N1(),g=b.Wb(),f=(f.ta()-g.ta())*this.Zc.Za().hc();this.Jb.vZ(0,f);this.He.cb(this.Jb.Mra(),this.Jb.N1());this.Pa(_geo.c.qa.CB.aa.Bxa,this,null)}.bind(this);this.He.addListener(_geo.c.controls.ia.scroll.Pf.aa.$r,b).addListener(_geo.c.controls.ia.scroll.Pf.aa.bn,b);this.Pe.addListener(_geo.c.controls.ia.scroll.Pf.aa.p2,function(){this.sNa.zc(!1)}.bind(this)).addListener(_geo.c.controls.ia.scroll.Pf.aa.$r,function(){this.sNa.zc(!0)}.bind(this)).addListener(_geo.c.controls.ia.scroll.Pf.aa.$r,
a).addListener(_geo.c.controls.ia.scroll.Pf.aa.bn,a);a=_geo.c.selection.Bc(this.Fb).Ve('node => id(node) == "manipulator_layer"').ZY()[0];this.nq([this.p5=(new _geo.c.controls.ia.Ol(a,"TableViewCompositeTool")).add([this.sNa=(new _geo.c.controls.ia.Vn.nE(this.Jb)).Qb("TableViewSplitter").addListener(_geo.c.controls.ia.Vn.nE.aa.tR,function(a,b){this.en();this.Jxb()}.bind(this)),(new _geo.c.controls.ia.Vn.PZ(this.Jb)).Qb("TableViewColumnHandler").addListener(_geo.c.controls.ia.Vn.PZ.aa.bn,function(a,
b){this.en()}.bind(this)).zc(!1),(new _geo.c.controls.ia.Vn.eJa(this.Jb)).Qb("TableViewRowHandler").addListener(_geo.c.controls.ia.Vn.PZ.aa.bn,function(a,b){this.en()}.bind(this)).zc(!1),(new _geo.c.controls.ia.Vn.hIa(this.Jb)).Qb("TableViewHeaderHandler").zc(!1),(new _geo.c.controls.ia.Selection).Qb("TableViewSelection").zc(!0).addListener(_geo.c.controls.ia.Selection.aa.Ota,function(a,b){var f=this.p5.Fe(this.Jb,b),f=this.Jb.sF(f.ga(),f.ea());this.Jb.P7(f.ga());var g;g=b.Wg();if(!0===g.ctrlKey)g=
this.Jb.wL(),-1===g.indexOf(f.ea())&&(g.push(f.ea()),this.Jb.Eka(g));else if(!0===g.shiftKey&&0<this.Jb.wL().length){g=this.Jb.wL()[this.Jb.wL().length-1];var l=Math.min(g,f.ea()),f=Math.max(g,f.ea());for(g=this.Jb.wL();l<=f;l++)-1===g.indexOf(l)&&g.push(l);this.Jb.Eka(g)}else this.Jb.Eka([f.ea()])}.bind(this)),(new _geo.c.controls.ia.ti).Qb("TableViewPanning").zc(!0).Ks(this.Jb,this.Jb.vZ).addListener(_geo.c.controls.ia.ti.aa.kF,function(a,b){this.en()}.bind(this)),(new _geo.c.controls.ia.Vn.y9(this.Jb)).Qb("TableViewHighlight").zc(!0).addListener(_geo.c.controls.ia.Vn.y9.aa.Mta,
function(a,b){this.Jb.mja(b.Cub())}.bind(this)).addListener(_geo.c.controls.ia.oc.aa.MY,function(a,b){this.Jb.mja(-1)}.bind(this))])]);this.nq(new _geo.c.qa.ia.oIa(this));return this};return b}();
_geo.c.qa.Rdb=function(){function b(a,b){this.Vlb=new _geo.c.f.sa;this.Wlb=new _geo.c.f.sa;this.pa=this.Ssc();_geo.c.Ac(a,this.pa);var e={isdatamodel:!1,bounds:this.pa.bounds,border:this.pa.border,tools:{verticalscroll:{visible:!1},horizontalscroll:{visible:!1}}};_geo.c.qa.Bh.call(this,e);this.UQ=new _geo.c.axis.iea({orientation:_geo.c.axis.wd.ic});this.OO=new _geo.c.axis.iea({orientation:_geo.c.axis.wd.jc});var g=_geo.c.V.qp,q=void 0!==this.pa.shape.orientation?this.pa.shape.orientation:f.Pb.Qf,
e=q===f.Pb.Xb||q===f.Pb.Qf,q=this.Rsc(q),p,u,t,r;r=this.pa.axistitles;null==r?e?(p="Groups",t="Values",u="Groups",r="Values"):(p="Values",t="Groups",u="Values",r="Groups"):(p=r.north,t=r.west,u=r.south,r=r.east);this.xKc=!1;g.rL(this.Fb,{location:d.Le,text:p});var n=g.PG(this.Fb,{tickgenerator:this.m$.north,location:d.Le,connect:!1}).axis;n.wx(this.UQ);e&&n.Ma(!1);g.rL(this.Fb,{location:d.Sc,text:t});var v=g.PG(this.Fb,{tickgenerator:this.m$.west,location:d.Sc,connect:!1}).axis;v.wx(this.OO);var w=
g.PG(this.Fb,{tickgenerator:this.m$.south,location:d.Wc,connect:!1}).axis;w.wx(this.UQ);g.rL(this.Fb,{location:d.Wc,text:u});var x=g.PG(this.Fb,{tickgenerator:this.m$.east,location:d.od,connect:!1}).axis;x.wx(this.OO);e||x.Ma(!1);g.rL(this.Fb,{location:d.od,text:r});this.ui={north:p,south:u,east:r,west:t};this.wh={north:n,south:w,east:x,west:v};this.OC=new f;this.Nib=(new _geo.c.V.Cg).Ae("data_layer");this.Nib.Ia(this.OC);var y=(new _geo.c.V.Ya).Ae("cache_group");this.Fb.connect(this.wh.north,y);
this.Fb.connect(this.wh.south,y);this.Fb.connect(this.wh.east,y);this.Fb.connect(this.wh.west,y);this.Fb.Uc().bh(0,y);y.Kl(new _geo.c.V.Ek);this.tib=y;g=(new _geo.c.V.Cg).Ae("grid_layer");g.Ia(q);q=(new _geo.c.V.Cg).Ae("referenceline_layer");this.qI=new _geo.c.V.$.Jr;q.Ia(this.qI);y.Ia([q,g,this.Nib]);var B=this;this.OC.tb(_geo.c.V.Node.aa.gr,function(){var a=B.Xlb();B.OC.Ga(B.OC.va());y.cb(a);B.Fb.Uc().cb(a);B.Fb.wV();B.Fb.ma()});e?(this.OO.K8(this.pa.neatlimits),this.UQ.K8(!1)):(this.UQ.K8(this.pa.neatlimits),
this.OO.K8(!1));this.bb(a);null!=b&&b.mode===f.xB.nP&&(e=b.datasets[0],g={},g.datasets=[e],b=_geo.c.Ac(g,b));null!=b&&null==b.datasets&&null!=a.shape.valuelimits&&(this.Vj()?this.Fb.Uc().cb(new _geo.c.f.Rect(a.shape.valuelimits.minvalue,0,a.shape.valuelimits.maxvalue,1)):this.Fb.Uc().cb(new _geo.c.f.Rect(0,a.shape.valuelimits.minvalue,1,a.shape.valuelimits.maxvalue)));this.setData(b);return this}var a="#757575",g="#e0e0e0",e="12px Roboto",d=_geo.c.fa.Oa,f=_geo.c.controls.$.HV;_geo.c.na(b,_geo.c.qa.Bh);
_geo.c.ja(b,"geotoolkit.widgets.BarChartWidget");b.prototype.Ssc=function(){var b={shape:{barwidth:1,barpad:0,autogradient:!1,barvalues:{visible:!0,textstyle:(new _geo.c.attributes.kb).dr(e).ed(a)}},border:{color:"transparent"},mirror:!1,referenceline:{visible:!1,value:Number.NaN,linestyle:new _geo.c.attributes.za(a)},neatlimits:!0,minpspan:50,grid:{values:this.PVb(),groups:this.PVb(!0)},annotations:{north:{size:50},south:{size:50},east:{size:50},west:{size:50}}};return b};b.prototype.mLc=function(b){var d=
{lineStyle:new _geo.c.attributes.za(a),baseLineStyle:new _geo.c.attributes.za(a),textStyle:new _geo.c.attributes.kb(a)};b&&(d.lineStyle=new _geo.c.attributes.za("transparent"),d.baseLineStyle=new _geo.c.attributes.za("transparent"),d.textStyle=new _geo.c.attributes.kb(a));return d};b.prototype.PVb=function(b){var d=_geo.c.attributes.za.pK;return b={MAJOR:{tickvisible:b?!1:!0,tickstyle:{color:a,width:1,pattern:d.Nw},labelvisible:!0,labelstyle:{font:e,color:a}},MINOR:{tickvisible:!1,tickstyle:{color:g,
width:1,pattern:d.Nw},labelvisible:!1,labelstyle:{font:e,color:g}},EDGE:{tickvisible:!0,tickstyle:{color:a,width:1,pattern:d.Nw},labelvisible:!1,labelstyle:{font:e,color:a}}}};b.prototype.KUa=function(a){if(!a)return this;var b=a.value;if(void 0===b||(0,window.isNaN)(b))return this;var d=this.OC.va();if(!d)return this;this.xY()?(this.Vlb.lb(d.ua(),b),this.Wlb.lb(d.ya(),b)):(this.Vlb.lb(b,d.ta()),this.Wlb.lb(b,d.xa()));this.qI.Tg(!1);this.qI.Hv({from:this.Vlb,to:this.Wlb}).Ma(a.visible);a.linestyle&&
this.qI.Ba(a.linestyle);this.qI.Tg(!0);return this};b.prototype.Rsc=function(a){function b(a){return a+1}var d=_geo.c.axis.m_.ib(),e=this.pa.grid;this.Sya={values:e.values instanceof _geo.c.axis.ml?e.values:d.create(e.values).Bn("EDGE",!0),groups:e.groups instanceof _geo.c.axis.ml?e.groups:(new _geo.c.axis.bz).fu("MAJOR",1)};a===f.Pb.Xb||a===f.Pb.Qf?(a=new _geo.c.axis.cK(this.Sya.values,this.Sya.groups),a.wx(_geo.c.axis.wd.jc,this.OO),a.wx(_geo.c.axis.wd.ic,this.UQ),this.m$={north:e.groups instanceof
_geo.c.axis.ml?e.groups:(new _geo.c.axis.bz).fu("MAJOR",1).Bn("EDGE",!1).ug("MINOR",!1).Uua(b),east:e.values instanceof _geo.c.axis.ml?e.values:d.create(e.values),west:e.values instanceof _geo.c.axis.ml?e.values:d.create(e.values),south:e.groups instanceof _geo.c.axis.ml?e.groups:(new _geo.c.axis.bz).fu("MAJOR",1).Bn("EDGE",!1).ug("MINOR",!1).Uua(b)}):(a=new _geo.c.axis.cK(this.Sya.groups,this.Sya.values),a.wx(_geo.c.axis.wd.jc,this.OO),a.wx(_geo.c.axis.wd.ic,this.UQ),this.m$={east:e.groups instanceof
_geo.c.axis.ml?e.groups:(new _geo.c.axis.bz).fu("MAJOR",1).Bn("EDGE",!1).ug("MINOR",!1).Uua(b),north:e.values instanceof _geo.c.axis.ml?e.values:d.create(e.values),south:e.values instanceof _geo.c.axis.ml?e.values:d.create(e.values),west:e.groups instanceof _geo.c.axis.ml?e.groups:(new _geo.c.axis.bz).fu("MAJOR",1).Bn("EDGE",!1).ug("MINOR",!1).Uua(b)});return a};b.prototype.xY=function(){return this.OC?this.OC.xY():!0};b.prototype.Vj=function(){return this.OC?this.OC.Vj():!1};b.prototype.AZb=function(){return this.Nib};
b.prototype.Xlb=function(){var a=this.OC.va(),b=this.Vj()?_geo.c.axis.wd.ic:_geo.c.axis.wd.jc;b===_geo.c.axis.wd.ic?(this.UQ.ai(a.ua(),a.ya(),this.OC.Za()),a=a.clone().zb(this.UQ.mh()).rb(this.UQ.Yh()-this.UQ.mh())):(this.OO.ai(a.ta(),a.xa(),this.OC.Za()),a=a.clone().Eb(this.OO.mh()).Hb(this.OO.Yh()-this.OO.mh()));return a};b.prototype.en=function(){_geo.c.qa.Bh.prototype.en.call(this);if(!this.BAa&&this.OC){this.BAa=!0;var a=this.Fb.Uc().va(),b=this.Xlb();b.Ij(a)||(this.tib.cb(b),this.Fb.Uc().cb(b),
this.Fb.wV(),this.Fb.ma());this.BAa=!1}return this};b.prototype.Ga=function(a){_geo.c.qa.Bh.prototype.Ga.call(this,a);(a=this.Xlb())&&!a.Jd()&&this.tib&&this.tib.cb(a);return this};b.prototype.cs=function(a){this.OC.cs(a);return this};b.prototype.setData=function(a){a&&(this.OC.setData(a),this.KUa(this.pa.referenceline));this.Qa();return this};b.prototype.getData=function(){return _geo.c.Ja(this.OC.getData(),_geo.c.qa.Bh.prototype.getData.call(this))};b.prototype.Av=function(a,b){var d=this.OC;return void 0!==
d.Ct[a]?d.Ct[a].values[b]:null};b.prototype.bb=function(a){this.pa=_geo.c.Ac(a,this.pa);this.OC.bb(this.pa.shape);this.QHc(this.pa.shape.orientation);this.HHc(this.pa.shape.orientation);this.Eua(this.pa.annotations);this.MFc(this.pa.grid);this.KUa(this.pa.referenceline);return this};b.prototype.HHc=function(a){(a=a===f.Pb.Xb||a===f.Pb.Qf||void 0===a)?(this.OO.K8(this.pa.neatlimits),this.OO.bb({neatlimits:this.pa.neatlimits,minspan:this.pa.minspan}),this.UQ.K8(!1)):(this.UQ.bb({neatlimits:this.pa.neatlimits,
minspan:this.pa.minspan}),this.OO.K8(!1))};b.prototype.QHc=function(a){var b=this.Fb.Uc();b&&((a=a===f.Pb.Xb||a===f.Pb.Qf||void 0===a)&&b.Xj(!0),this.pa.mirror&&(a?b.cu(!0):b.Xj(!0)))};b.prototype.Nb=function(){_geo.c.qa.Bh.prototype.$t.call(this);return this};b.prototype.MFc=function(a){if(!a)return this;this.Sya.groups.bb(a.groups);this.Sya.values.bb(a.values);return this};b.prototype.Eua=function(a){a&&(_geo.c.qa.Bh.prototype.Eua.call(this,a),this.wh.east.zg(this.m$.east),this.wh.west.zg(this.m$.west),
this.wh.north.zg(this.m$.north),this.wh.south.zg(this.m$.south))};b.prototype.FDa=function(a,b){this.OC.FDa(a,b);return this};b.prototype.dFa=function(a,b,d){return this.OC.dFa(a,b,d)};b.prototype.la=function(){return _geo.c.Ja(this.pa,{})};b.prototype.ka=function(a){this.bb(a);return this};return b}();
_geo.c.qa.FH=function(){function b(a){null==a&&(a={});var b=15,g=20,m=15,q=20,p=15,u=5,t=g+q+p;a.viewcachesize=a.viewcache||null!=a.viewcachesize?_geo.c.Ja(a.viewcachesize,{width:256,height:256}):null;a.border=_geo.c.Ja(a.border,{color:"transparent"},!0);b={bounds:a.bounds,border:a.border,north:null,south:null,west:null,east:null,viewcache:!0,viewcachesize:a.viewcachesize,annotationssizes:{north:b+g,west:b+q+g,south:b+q+m+g,east:b+m+t+u}};b=_geo.c.Ja(a,b);this.Snc=t;this.gD=b.viewcache;this.AOb=null;
this.cq={};null!=b.viewcachesize&&(this.gD=!0,this.cq=b.viewcachesize);this.J4=null;this.BE=[];this.zA={datax:[],datay:[],datas:[],selectable:!1,highlightcolor:(new _geo.c.attributes.Ha("pink")).Kc()};this.$hb=b.annotationssizes;this.Xd=null!=b.colorprovider?b.colorprovider:this.Xd;t=_geo.c.Ja(null!=b.z&&null!=b.z.axis?b.z.axis.title:null,{title:"",visible:!1,textstyle:new _geo.c.attributes.kb({color:d,font:f}),alignment:_geo.c.f.Ca.We});g={location:_geo.c.controls.$.sp.od,componentsizes:{colorbox:p,
axis:q,title:g},axis:{autolabelrotation:null!=b.z?b.z.autolabelrotation:!1,title:t},colorprovider:this.Xd,title:{text:"zlabel",textstyle:new _geo.c.attributes.kb({color:d,font:f})},flip:"true"};this.Ug=(new _geo.c.controls.$.OZ(g)).Kl(this.gD?null!=this.cq?new _geo.c.V.Ek(this.cq.width,this.cq.height):new _geo.c.V.Ek:null).Gf(!0);this.Emc=!1;this.W_={x:null,y:null,z:null,s:null};this.wa={x:null,y:null,z:null,s:null};this.SC={x:[],y:[],z:[],s:[]};this.qA={x:!1,y:!1,z:!1,s:!1};this.dKa={x:!1,y:!1,z:!1,
s:!1};this.Ik={x:null,y:null,z:null};this.Et={x:null,y:null,z:null,s:null};this.$s={x:null,y:null,z:null,s:null};_geo.c.qa.Bh.call(this,b);g=this.Go();this.Tg(!1);this.Fb.vGa();this.co=new _geo.c.V.Cg;this.xoa=null;this.E3a=["x","y","z","s"];this.C3a=new _geo.c.attributes.Ha({color:"white"});this.D3a=new _geo.c.attributes.za({color:"grey",width:1});this.F3a=new _geo.c.attributes.kb;this.DG=(new _geo.c.controls.$.yIa({data:null,sizeisindevicespace:!0,autosize:!0,autobounds:!0})).ee(new _geo.c.fa.Kxa).Ma(!1).Gf(!0);
this.DG.Ga(new _geo.c.f.Rect(0,0,1,1));this.Uc().Ia(this.co);this.Ia(this.DG);this.ni=_geo.c.V.qp.rL(this.Fb,{location:_geo.c.fa.Oa.Le,text:"",textstyle:{font:e}}).text;q=_geo.c.V.qp.PG(this.Fb,{location:_geo.c.fa.Oa.Wc,connect:!0,title:{text:"",visible:!1,textstyle:new _geo.c.attributes.kb({color:d,font:f}),alignment:_geo.c.f.Ca.uj}}).axis;p=null!=b.x&&null!=b.x.axis&&null!=b.x.axis.title?null:_geo.c.V.qp.rL(this.Fb,{location:_geo.c.fa.Oa.Wc,text:"x"}).text;b=null!=b.y&&null!=b.y.axis&&null!=b.y.axis.title?
null:_geo.c.V.qp.rL(this.Fb,{location:_geo.c.fa.Oa.Sc,text:"y"}).text;m=_geo.c.V.qp.PG(this.Fb,{location:_geo.c.fa.Oa.Sc,connect:!0,autolabelrotation:!0,title:{text:"",visible:!1,textstyle:new _geo.c.attributes.kb({color:d,font:f}),alignment:_geo.c.f.Ca.We}}).axis;this.ue={x:q,y:m,z:this.Ug.xb().axis.item};this.ui={x:p,y:b,z:!1===t.visible?this.Ug.xb().title.item:null};t=new _geo.c.V.Ya;t.wl(u);this.Fb.Sq(t,_geo.c.fa.Oa.od);this.Fb.Sq(this.Ug,_geo.c.fa.Oa.od);this.Xv=new _geo.c.V.Ya;this.Xv.Ia([(new _geo.c.V.Cg).Ae("bubblechart_layer").Ia([this.Ts=
new _geo.c.controls.$.FH])]);this.L_a=(new _geo.c.V.Ya).Ia([this.vRb=(new _geo.c.V.Cg).Ae("highlight_layer").Ia([this.J4=(new _geo.c.controls.$.FH({selectable:!1})).Qb("default")])]);this.wT=null;this.Fb.Uc().bh(0,this.L_a);this.Fb.Uc().bh(0,this.Xv);this.Fb.Uc().Xj(!0);this.He.Xj(!0);this.Zqa();this.Fb.aFa();this.$t();this.Ug.Ma(!1);this.AOb=null!=this.cq?(new _geo.c.V.Ek(this.cq.width,this.cq.height)).Kka(null):(new _geo.c.V.Ek).Kka(null);this.Xv.Kl(this.gD?this.AOb:null);this.Xv.Gf(!1);this.$t();
this.setData(a);this.Tg(g);return this}var a="#e0e0e0",g="#f5f5f5",e="16px Roboto",d="#757575",f="13px Roboto";_geo.c.na(b,_geo.c.qa.Bh);_geo.c.ja(b,"geotoolkit.widgets.BubbleChart");b.prototype.Zqa=function(){function b(d){d.sj("MAJOR").ed(a);d.sj("MINOR").ed(g);d.ug("MINOR",!0);d.ug("EDGE",!1);d.Bn("EDGE",!1)}var d=_geo.c.axis.m_.ib(),e=d.Jha(),f=d.Jha(),q=d.Jha(),p=new _geo.c.axis.EF,u=new _geo.c.axis.EF,t=new _geo.c.axis.EF,r=d.create({ticks:{EDGE:{visible:!0}}}),d=d.Jha({ticks:{EDGE:{visible:!0}}}),
n=new _geo.c.axis.EF,v=new _geo.c.axis.EF;b(e);b(f);b(r);b(d);b(n);b(v);this.fo={x:e,y:f,z:q,xlog:p,ylog:u,zlog:t};this.Zv={x:r,y:d,xlog:n,ylog:v};null==this.xp&&(this.xp=new _geo.c.axis.cK(r,d),e=new _geo.c.V.Cg,e.Ae("grid_layer"),e.Ia(this.xp),this.Fb.Uc().bh(0,e));this.w2();return this};b.prototype.w2=function(){this.ue.x.zg(this.fo["x"+(this.qA.x?"log":"")]);this.ue.y.zg(this.fo["y"+(this.qA.y?"log":"")]);this.ue.z.zg(this.fo["z"+(this.qA.z?"log":"")]);this.xp.zg(_geo.c.f.Pb.jc,this.Zv["x"+(this.qA.x?
"log":"")]);this.xp.zg(_geo.c.f.Pb.ic,this.Zv["y"+(this.qA.y?"log":"")]);var a=this.qA.z?Math.log(this.Et.z)/Math.LN10:this.Et.z,b=this.qA.z?Math.log(this.$s.z)/Math.LN10:this.$s.z;this.ue.z.cb(new _geo.c.f.Rect(a,a,b,b))};b.prototype.th=function(){_geo.c.qa.Bh.prototype.th.call(this);var a=_geo.c.selection.Bc(this.Fb).Ve('node => id(node) == "manipulator_layer"').Tn();this.et.addListener(_geo.c.controls.ia.oc.aa.MY,function(a,b){this.xoa=null;this.DG.Ma(!1)}.bind(this));this.Au.Sy(function(a){for(var b=
0;b<a.length;++b)if(a[b].bubblechart===this.Ts||a[b].colorbar===this.Ug)return a[b];return[]}.bind(this)).addListener(_geo.c.controls.ia.Selection.aa.lF,function(a,b){b.getSelection().indices instanceof Array&&this.ML({"default":{indices:b.getSelection().indices}},this.eAa)}.bind(this));this.l1a=(new _geo.c.controls.ia.Selection(a)).zc(!1).XBb(!0).Sy(function(a){for(var b=0;b<a.length;++b)if(a[b].bubblechart===this.Ts||a[b].colorbar===this.Ug)return a[b];return[]}.bind(this)).addListener(_geo.c.controls.ia.Selection.aa.lF,
function(a,b){if(b.getSelection().indices instanceof Array){var d=b.getSelection().indices;0===d.length?(this.DG.Ma(!1),this.xoa=null):this.xoa!==d[0].index&&(this.xoa=d[0].index,this.eHc())}}.bind(this));this.p5.add([this.l1a]);return this};b.prototype.eHc=function(){var a=new _geo.c.f.XJ;this.E3a.forEach(function(b){var d=this.wa[b]?this.wa[b][this.xoa]:"",e=this.dKa[b]?this.dKa[b]:b;b=new _geo.c.qa.FH.CFb(null,{axisname:e,value:d,unit:this.Ik[b],textstyle:this.F3a});a.add(b)}.bind(this));this.DG.bb({data:a,
linestyle:this.D3a,fillstyle:this.C3a,autobounds:!0});var b=this.DG.ha().clone(),d=this.Fb.Uc().getParent().ha(),e=(new _geo.c.f.Fa).eva(this.Zc.Wb(),d,!1,!0),d=new _geo.c.f.sa(this.wa.x[this.xoa],this.wa.y[this.xoa]),d=e.transform(d),e=new _geo.c.f.sa(this.Zc.Zl().ga()+this.Zc.Zl().ba()/2,this.Zc.Zl().ea()+this.Zc.Zl().da()/2),f=b.ba(),g=b.da();d.ga()<=e.ga()&&d.ea()<=e.ea()&&(b.zb(d.ga()),b.Eb(d.ea()));d.ga()>=e.ga()&&d.ea()<=e.ea()&&(b.zb(d.ga()-f),b.Eb(d.ea()));d.ga()<=e.ga()&&d.ea()>=e.ea()&&
(b.zb(d.ga()),b.Eb(d.ea()-g));d.ga()>=e.ga()&&d.ea()>=e.ea()&&(b.zb(d.ga()-f),b.Eb(d.ea()-g));this.DG.Ga(b);this.DG.Ma(!0)};b.prototype.setData=function(a){_geo.c.qa.Bh.prototype.setData.call(this,a);null!=a.bounds&&this.Ga(a.bounds);var b={};null!=a.header&&this.gZ(a.header,b);null!=a.painter&&this.Ty(a.painter,b);void 0!==a.colorprovider&&this.Qy(a.colorprovider,b);null!=a.symbolcache&&this.dcb(a.symbolcache,b);null!=a.labels&&this.tbb(a.labels,b);this.dra=!1;null!=a.x&&this.kFa("x",a.x,b);null!=
a.y&&this.kFa("y",a.y,b);null!=a.z&&this.kFa("z",a.z,b);null!=a.s&&this.kFa("s",a.s,b);this.Jv(a.tools);var d=this.Fb.Uc().getParent().ha();this.Ts.Ska(new _geo.c.f.Rect(0,0,d.ba(),d.da()));this.J4.Ska(new _geo.c.f.Rect(0,0,d.ba(),d.da()));this.Ts.setData(b);b=this.Ts.getData();null==b.colorprovider?this.Rk({east:this.$hb.east-this.Snc}):this.Rk({east:this.$hb.east});this.$t();d=this.Fb.Uc().getParent().ha();this.Ts.Ska(new _geo.c.f.Rect(0,0,d.ba(),d.da()));this.J4.Ska(new _geo.c.f.Rect(0,0,d.ba(),
d.da()));this.Ts.ai();this.KGa(a.trendline);this.J4.ai();this.Xz(this.Ts.ha());this.$t();this.Qa();return this};b.prototype.getData=function(a){var b=_geo.c.qa.Bh.prototype.getData.call(this,a);null!=this.ha()&&(b.bounds=this.ha().la());b.header=this.Lj();b.x=this.YBa("x",a);b.y=this.YBa("y",a);this.Xd&&this.wa.z&&(b.z=this.YBa("z",a));b.s=this.YBa("s",a);null!=this.Im()&&(b.colorprovider=this.Im());b.painter=this.TN();b.trendline=this.Z8a();b.labels=this.L7a();b.tools=this.vU();return b};b.prototype.bb=
function(a){null!=a&&null!=a.painter&&a.painter.defaultcolor&&_geo.c.warn("param options.painter.defaultcolor in geotoolkit.widgets.BubbleChart.setOptions() is deprecated since 2.6");a=_geo.c.Ac(a,this.xb());_geo.c.qa.Bh.prototype.setData.call(this,a);var b={};null!=a.header&&this.gZ(a.header,b);null!=a.painter&&this.Ty(a.painter,b);void 0!==a.colorprovider&&this.Qy(a.colorprovider,b);null!=a.symbolcache&&this.dcb(a.symbolcache,b);null!=a.labels&&this.tbb(a.labels,b);this.Jv(a.tools);var d=this.Fb.Uc().getParent().ha();
this.Ts.Ska(new _geo.c.f.Rect(0,0,d.ba(),d.da()));this.J4.Ska(new _geo.c.f.Rect(0,0,d.ba(),d.da()));this.Ts.setData(b);this.Ts.ai();this.KGa(a.trendline);this.Ts.ai();this.Xz(this.Ts.ha());this.$t();return this};b.prototype.xb=function(){var a=_geo.c.qa.Bh.prototype.getData.call(this);a.header=this.Lj();null!=this.Im()&&(a.colorprovider=this.Im());a.painter=this.TN();a.trendline=this.Z8a();a.labels=this.L7a();a.tools=this.vU();return a};b.prototype.XPa=function(){return this.Ug};b.prototype.Nza=function(a,
b,d){var e;null!=d.value.range&&d.value.range.changes===_geo.c.data.aa.ff&&0===d.value.range.from&&(this.aRb=!0);if(this.aRb)e={},e.x={datasource:this.W_.x},e.y={datasource:this.W_.y},e.z={datasource:this.W_.z},e.s={datasource:this.W_.s},this.setData(e);else if(a=this.Ts.getData().validlength,b=null==this.wa.z?Math.min(this.wa.x.length,this.wa.y.length,this.wa.s.length):Math.min(this.wa.x.length,this.wa.y.length,this.wa.z.length,this.wa.s.length),b>a){d=b-a;for(e in this.qA)if(this.qA.hasOwnProperty(e)&&
!0===this.qA[e])for(var f=a-1;f<b;++f)this.SC[e].push(Math.log(this.wa[e][f])/Math.LN10);this.Ts.PT(d);this.Xz(this.Ts.ha());this.dra=!0;this.KGa();this.$t()}else if(b<a){a=d.value.range.from;d=d.value.range.amount;for(e in this.qA)this.qA.hasOwnProperty(e)&&!0===this.qA[e]&&this.SC[e].splice(a,d);this.Ts.mua(a,d);this.dra=!0;this.KGa();this.$t()}};b.prototype.X1b=function(){return this.wT.xub().Qn()};b.prototype.KGa=function(a){var b={};this.wT||(this.wT=(new _geo.c.controls.$.Ggb).Ma(!1),this.co.Ia(this.wT));
null!=a?(null!=a.enable&&this.wT.Ma(a.enable),this.wT.ob()&&(a.regressionmodel||!a.model&&!a.order||(a.regressionmodel={},a.regressionmodel.type=a.model,a.regressionmodel.order=a.order),a.regressionline||!a.visible&&!a.linestyle||(a.regressionline={},a.regressionline.visible=a.visible,a.regressionline.linestyle=a.linestyle,a.visible=null),this.wT.cb(this.hub().va()),this.wT.bb(a),b.datax=a.datax?a.datax:this.wa.x,b.datay=a.datay?a.datay:this.wa.y,this.wT.setData(b))):this.wT.ob()&&(b.datax=this.wa.x,
b.datay=this.wa.y,this.wT.setData(b));return this};b.prototype.Z8a=function(){var a={enable:this.wT.ob()};return a=_geo.c.Ja(this.wT.xb(),a)};b.prototype.uCa=function(a){function b(a,d){return a.toFixed(2)}function d(a,b){return Math.pow(10,a).toFixed(2)}return this.qA[a]?d:b};b.prototype.kFa=function(a,b,d){var e=!1;null==d&&(e=!0,d={});var f={},g={x:"south",y:"west",z:"east"};if("string"!==typeof a)return this;a=a.toLowerCase();if("x"!==a&&"y"!==a&&"z"!==a&&"s"!==a||null==b)return this;null!=b.datasource&&
(b.datasource!==this.W_[a]||this.aRb)&&(b.datasource instanceof _geo.c.data.Hq||b.datasource instanceof _geo.c.data.jE)&&(this.W_[a]=b.datasource,this.Emc=!0,b.data=b.datasource.ye(),b.datasource.tb(_geo.c.data.yl.aa.Pm,this.Nza.bind(this)),null!=b.datasource.Zb()&&(b.unit=b.datasource.Zb()),null!=b.datasource.getName()&&(b.name=b.datasource.getName()));this.dKa[a]=null!=b.name?b.name:this.dKa[a];this.Ik[a]=null!=b.unit?b.unit:this.Ik[a];null!=b.logarithmic&&this.qA[a]!==b.logarithmic&&(this.qA[a]=
b.logarithmic,"x"===a&&(this.et.du(_geo.c.fa.Oa.Le,{textconverter:this.uCa("x")}),this.et.du(_geo.c.fa.Oa.Wc,{textconverter:this.uCa("x")})),"y"===a&&(this.et.du(_geo.c.fa.Oa.od,{textconverter:this.uCa("y")}),this.et.du(_geo.c.fa.Oa.Sc,{textconverter:this.uCa("y")})));if(null!=b.data){this.wa[a]=b.data;this.SC[a]=[];for(var u=0;u<b.data.length;++u)this.SC[a].push(Math.log(b.data[u])/Math.LN10);this.dra=!0}if("z"===a){"number"==typeof b.min&&"number"==typeof b.max&&(this.Et[a]=b.min,this.$s[a]=b.max);
if(b.autominmax||null==this.Et[a]||null==this.$s[a])this.Et[a]=_geo.c.f.Math.mh(this.wa[a]),this.$s[a]=_geo.c.f.Math.Yh(this.wa[a]);var u=this.Xd.mo(),t=this.Xd.Qg(),r=[],n;t.forEach(function(b){n=this.Et[a]+this.$s[a]*(b-this.Xd.ad())/(this.Xd.kd()-this.Xd.ad());r.push(n)}.bind(this));this.Xd.rt(r,u);f.min=this.Xd.ad();f.max=this.Xd.kd()}this.qA[a]?(null!=b.min&&(d["min"+a]=0===b.min?0:Math.log(b.min)/Math.LN10),null!=b.max&&(d["max"+a]=0===b.max?0:Math.log(b.max)/Math.LN10),d["data"+a]=this.SC[a]):
(null!=b.min&&(d["min"+a]=b.min),null!=b.max&&(d["max"+a]=b.max),d["data"+a]=this.wa[a]);null!=b.autominmax&&(d["autominmax"+a]=b.autominmax);null!=b.neatlimit&&(d["neatlimit"+a]=b.neatlimit);"s"!==a&&((null==b.label||null==b.label.text)&&b.name&&b.unit&&(u=null!=b.name?b.name:[],b.unit instanceof _geo.c.f.Dq?(u.push(" ("),u.push(b.unit.Yd()),u.push(")")):"string"===typeof b.unit&&(u.push(" ("),u.push(b.unit),u.push(")")),b.label.text=u.join("")),null!=b.label&&(null!=this.ui[a]?this.ui[a].ka(b.label):
"z"===a?f.axis={title:{text:b.label.text,textstyle:this.ue[a].B7().clone().ka(b.label.textstyle)}}:(u=b.label.textstyle?this.ue[a].B7().clone().ka(b.label.textstyle):this.ue[a].B7(),this.ue[a].Vp({title:b.label.text,textstyle:u})),"z"===a&&null!=b.label.text&&(f.titletext=b.label.text)),null!=b.axis&&null!=b.axis.title&&this.ue[a].Vp(b.axis.title),null!=b.annotationsize&&(u={},u[g[a]]=b.annotationsize,this.$hb[g[a]]=b.annotationsize,this.Rk(u)),null!=b.axisticks&&(this.fo[a].bb(b.axisticks),this.fo[a+
"log"].bb(b.axisticks)),null!=b.gridticks&&"z"!==a&&(this.Zv[a].bb(b.gridticks),this.Zv[a+"log"].bb(b.gridticks)),null!=b.reversed&&("x"===a&&this.Fb.Uc().cu(b.reversed),"y"===a&&this.Fb.Uc().Xj(b.reversed),"z"===a&&(f.flip=b.reversed)),"z"===a&&(this.Ug.bb(f),null!=b.legendvisible&&this.Ug.Ma(b.legendvisible),this.Ug.lg()),this.$t(),"z"===a&&this.Ug.Nb(),null!=b.tickgenerator&&(this.fo[a+(this.qA[a]?"log":"")]=b.tickgenerator),this.w2());this.Ts.$sa();if(!e)return this;this.Ts.setData(d);return this};
b.prototype.YBa=function(a,b){a=a.toLowerCase();if("x"!==a&&"y"!==a&&"z"!==a&&"s"!==a)return this;var d={},e=this.Ts.getData();!0!==b&&(d.datasource=this.W_[a],d.data=this.wa[a]);d.unit=this.Ik[a];d.name=this.dKa[a];d["min"+a]=e["min"+a];d["max"+a]=e["max"+a];d.autominmax=e["autominmax"+a];d.neatlimit=e["neatlimit"+a];d.logarithmic=this.qA[a];"s"!==a&&(d.label=null!=this.ui[a]?this.ui[a].la():{text:this.ue[a].Op(),textstyle:this.ue[a].B7()},this.fo[a]&&(d.axisticks=this.fo[a].la()),"z"!==a&&(d.gridticks=
this.Zv[a].la()),e={x:_geo.c.fa.Oa.Wc,y:_geo.c.fa.Oa.Sc,z:_geo.c.fa.Oa.od},e=this.Fb.Db(e[a]),d.annotationsize="x"===a?e.Re():e.bl());"z"===a&&(d.reversed=this.Ug.xb().flip);"x"===a&&(d.reversed=this.Fb.Uc().Fy());"y"===a&&(d.reversed=this.Fb.Uc().vq());"z"===a&&(d.legendvisible=this.Ug.ob());return d};b.prototype.ML=function(a,b){var d=[];a["default"].indices.forEach(function(a){d.push(a.index)});if(0===d.length)this.BE=[];else if(1===d.length&&-1!==this.BE.indexOf(d[0]))this.BE.splice(this.BE.indexOf(d[0]),
1);else if(b){var e=this.BE.concat(d);this.BE=e.filter(function(a,b){return e.indexOf(a)===b})}else this.BE=d;var f=this.zA.highlightcolor,g=this.Ts.getData(!0),u=g.labels;this.zA=_geo.c.Ja(g,this.zA);this.zA.datax=[];this.zA.datay=[];this.zA.datas=[];this.zA.dataz=null;this.zA.labels=[];g=4>this.zA.minsize?2:4;this.zA.minsize+=g;this.zA.maxsize+=g;this.zA.colorprovider=null;this.zA.defaultcolor=f;for(f=0;f<this.BE.length;f++)this.zA.datax.push(this.qA.x?this.SC.x[this.BE[f]]:this.wa.x[this.BE[f]]),
this.zA.datay.push(this.qA.y?this.SC.y[this.BE[f]]:this.wa.y[this.BE[f]]),this.zA.datas.push(this.qA.s?this.SC.s[this.BE[f]]:this.wa.s[this.BE[f]]),0<u.length&&this.zA.labels.push(u[this.BE[f]]);this.J4.$sa();0===this.BE.length?this.J4.setActive(!1):this.J4.setActive(!0);this.J4.setData(this.zA);this.J4.ai()};b.prototype.hub=function(){return this.co};b.prototype.XCa=function(){return this.oKc};b.prototype.X_b=function(){null==this.BE&&(this.BE=[]);return this.BE};b.prototype.gZ=function(a){if(null==
a)return this;var b={};null!=a.title&&this.ni.ka(a.title);null!=a.annotationsize&&(b.north=a.annotationsize);this.Rk(b);this.$t();return this};b.prototype.Lj=function(){var a={};null!=this.ni&&(a.title=this.ni.la());a.annotationsize=this.Fb.Db(_geo.c.fa.Oa.Le).Re();return a};b.prototype.tbb=function(a,b){var d=!1;null==b&&(d=!0,b={});if(a.data instanceof _geo.c.data.tp||a.data instanceof _geo.c.data.vo)a.data=a.datasource.ye();Array.isArray(a.data)&&(b.labels=a.data);b.labelvisible=a.visible;b.labeltextstyle=
a.textstyle;b.labellocation=a.location;b.secondarylocation=a.secondarylocation;b.labelpadding=a.padding;if(!d)return this;this.Ts.setData(b);return this};b.prototype.L7a=function(){var a={},b=this.Ts.getData();a.visible=b.labelvisible;a.textstyle=b.labeltextstyle;a.location=b.labellocation;a.secondarylocation=b.secondarylocation;a.padding=b.labelpadding;return a};b.prototype.Ty=function(a,b){null!=a&&a.defaultcolor&&_geo.c.warn("param data.defaultcolor in geotoolkit.widgets.BubbleChart.setPainter() is deprecated since 2.6");
var d=!1;null==b&&(d=!0,b={});b=_geo.c.Ja(a,b);this.zA=_geo.c.Ja(a,this.zA);this.Ts.$sa();if(!d)return this;this.Ts.setData(b);return this};b.prototype.TN=function(){var a=this.Ts.getData();return{symbol:a.symbol,minsize:a.minsize,maxsize:a.maxsize,sizebin:a.sizebin,defaultcolor:a.defaultcolor,defaultfillstyle:a.defaulfillstyle,defaultlinestyle:a.defaultlinestyle}};b.prototype.Qy=function(a,b){if(null==a)return this;var d=!1;null==b&&(d=!0,b={});if(a instanceof _geo.c.f.Te)this.Xd=a;else if(null!=
a.type){var e=_geo.c.f.Te.YPa(a.type);this.Xd=e=e.gb(a)}b.colorprovider=this.Xd;this.Ug.bb({colorprovider:this.Xd});this.Ug.Nb();this.Ug.lg();this.Ts.$sa();if(!d)return this;this.Ts.setData(b);return this};b.prototype.Im=function(){return this.Xd};b.prototype.dcb=function(a,b){var d=!1;null==b&&(d=!0,b={});null!=a.width&&(b.cachewidthlimit=a.width);null!=a.height&&(b.cacheheightlimit=a.height);this.Ts.$sa();if(!d)return this;this.Ts.setData(b);return this};b.prototype.Jv=function(a){if(null==a)return this;
null!=a.crosshair&&(null!=a.crosshair.north&&(a.crosshair.north.textconverter=null),null!=a.crosshair.south&&(a.crosshair.south.textconverter=null),null!=a.crosshair.east&&(a.crosshair.east.textconverter=null),null!=a.crosshair.west&&(a.crosshair.west.textconverter=null));null!=a.tooltip&&(null!=a.tooltip.enabled&&(!0===a.tooltip.enabled?this.l1a.zc(!0):this.l1a.zc(!1)),this.E3a=Array.isArray(a.tooltip.displayprops)?a.tooltip.displayprops:this.E3a,this.C3a=a.tooltip.fillstyle instanceof _geo.c.attributes.Ha?
a.tooltip.fillstyle:this.C3a,this.D3a=a.tooltip.linestyle instanceof _geo.c.attributes.za?a.tooltip.linestyle:this.D3a,this.F3a=a.tooltip.textstyle instanceof _geo.c.attributes.kb?a.tooltip.textstyle:this.F3a);_geo.c.qa.Bh.prototype.Jv.call(this,a);return this};b.prototype.vU=function(){var a=_geo.c.qa.Bh.prototype.vU.call(this);a.selection={};a.selection.enable=this.Au.isEnabled();a.selection.resetselection=this.eAa;a.tooltip={};a.tooltip.enable=this.l1a.isEnabled();a.tooltip.displayprops=this.E3a;
a.tooltip.fillstyle=this.C3a;a.tooltip.linestyle=this.D3a;a.tooltip.textstyle=this.F3a;return a};b.prototype.Ra=function(){for(var a in this.W_)this.W_.hasOwnProperty(a)&&null!=this.W_[a]&&this.W_[a].pb(_geo.c.data.yl.aa.Pm,this.Nza);_geo.c.qa.Bh.prototype.Ra.call(this)};return b}();
_geo.c.qa.FH.CFb=function(){function b(a,b){_geo.c.controls.$.gE.call(this,a);var e=4,d=e,f;f="";"string"==typeof b.unit&&(f=" ("+b.unit+") ");b.unit instanceof _geo.c.f.Dq&&(f=" ("+b.unit.Yd()+") ");f=b.axisname+": "+b.value+f;this.vc=new _geo.c.V.$.Text;this.vc.ka({text:f,ax:e,ay:d});this.vc.Ld(_geo.c.f.Ca.Ig);this.lf=b.textstyle instanceof _geo.c.attributes.kb?b.textstyle:new _geo.c.attributes.kb;f=_geo.c.Sa.TextMetrics.measureText(f,this.lf);d=d+f.da()+e;e=2*e+f.ba();this.Ed(!0);this.Ia(this.vc);
this.ik(d).wl(e).Gf(!0)}_geo.c.na(b,_geo.c.controls.$.gE);_geo.c.ja(b,"geotoolkit.widgets.BubbleChart.BubbleWidgetTooltipLegendItem");return b}();
_geo.c.qa.UO=function(){function b(a,b){_geo.c.V.Ya.call(this,a);var e={normal:{textstyle:(new _geo.c.attributes.kb({font:"bold 8px Arial"})).ed("black"),linestyle:new _geo.c.attributes.za({color:"gray",width:1}),fillstyle:new _geo.c.attributes.Ha("#f5f5f5")},disabled:{textstyle:(new _geo.c.attributes.kb({font:"8px Arial"})).ed("gray"),linestyle:new _geo.c.attributes.za({color:"gray",width:1}),fillstyle:new _geo.c.attributes.Ha("#DDDDDD")},pressed:{textstyle:(new _geo.c.attributes.kb({font:"bold 8px Arial"})).ed("black"),
linestyle:new _geo.c.attributes.za({color:"gray",width:3}),fillstyle:new _geo.c.attributes.Ha("#d3d3d3")},hover:{textstyle:(new _geo.c.attributes.kb({font:"bold 8px Arial"})).ed("black"),linestyle:new _geo.c.attributes.za({color:"gray",width:1}),fillstyle:new _geo.c.attributes.Ha("#e3e3FF")}};null==a&&(a={});null==a.styles&&(a.styles={});a.styles.normal=_geo.c.Ja(a.styles.normal,e.normal);a.styles.disabled=_geo.c.Ja(a.styles.disabled,e.disabled);a.styles.pressed=_geo.c.Ja(a.styles.pressed,e.pressed);
a.styles.hover=_geo.c.Ja(a.styles.hover,e.hover);e=_geo.c.Ja(a,{width:15,height:15,text:"",toggle:null!=b&&null!=b.Bca?b.Bca():!1,textanchor:_geo.c.f.Ca.ub,disabled:!1,state:0,padding:[5,3,5,3]});this.state=e.state;this.disabled=e.disabled;this.q4b=!1;this.Hpc=e.toggle;this.fi=e.styles;this.ylb=e.onClick;this.ie=e.padding;this.Jk=b;this.ah(e);this.Gf(!0);this.Ed(!0)}_geo.c.na(b,_geo.c.V.Ya);_geo.c.ja(b,"geotoolkit.widgets.Button");b.Ow={BYa:0,fgb:1};b.prototype.ah=function(a){this.Ia([this.Qr=new _geo.c.V.$.Th({left:0,
top:0,right:1,bottom:1}),this.vc=(new _geo.c.V.$.Text({text:a.text,ax:.5,ay:.5})).Ld(a.textanchor)]);this.mdb()};b.prototype.mdb=function(){var a=this.fi.normal;!0===this.q4b&&(a=this.fi.hover);this.state===b.Ow.fgb&&(a=this.fi.pressed);this.disabled&&(a=this.fi.disabled);this.Qr.Ba(a.linestyle.clone()).Ea(a.fillstyle.clone());this.vc.Ob(a.textstyle.clone());var g=_geo.c.Sa.TextMetrics.measureText(this.vc.ne(),this.vc.ec()),a=g.ba()+this.ie[0]+this.ie[2]+1,g=g.da()+this.ie[1]+this.ie[3]+1;this.cb(new _geo.c.f.Rect(0,
0,a,g)).wl(a).ik(g);this.Qr.Tb(0,0,a,g);this.vc.bs(a/2);this.vc.Hs(g/2);this.ma()};b.prototype.Yl=function(){return this.state};b.prototype.ne=function(){return null==this.vc?null:this.vc.ne()};b.prototype.Un=function(a){this.state=a;this.mdb();return this};b.prototype.Bca=function(){return this.Hpc};b.prototype.nbb=function(a){this.q4b=a;this.mdb();return this};b.prototype.$4b=function(){return this.disabled};b.prototype.C$b=function(a){this.disabled=a;this.mdb();return this};b.prototype.sDc=function(){null!=
this.Jk&&!0===this.Jk.Bca()&&this.Jk.Qcb(_geo.c.qa.UO.Ow.BYa)};b.prototype.click=function(){if(!1===this.disabled){this.sDc();var a=0===this.state?1:0;1===a&&null!=this.ylb&&"function"===typeof this.ylb&&this.ylb.call(this,this)}};b.prototype.oOc=function(){};return b}();
_geo.c.qa.Vla=function(){function b(a){_geo.c.qa.fm.call(this,a);this.pa=_geo.c.Ja(a,{layout:_geo.c.fa.Yn,toggle:!1});this.R_=[];this.T1(a);this.th();this.Gf(!0)}_geo.c.na(b,_geo.c.qa.fm);_geo.c.ja(b,"geotoolkit.widgets.ButtonWidget");b.prototype.T1=function(a){var b=[];this.Gh();a.buttons.forEach(function(a){a=new _geo.c.qa.UO(a,this);b.push(a)}.bind(this));this.Ed(!0).Ia(b);this.R_=b;this.lEb();this.yHc()};b.prototype.yHc=function(){var a;a=new this.pa.layout(this.va());a.add(this.R_);a.fa()};b.prototype.lEb=
function(){var a=0,b=0,e=0,d=0;this.R_.forEach(function(f){var h=f.va().ba();f=f.va().da();a=a>h?a:h;b=b>f?b:f;e+=h;d+=f});switch(this.pa.layout){case _geo.c.fa.Yn:this.wl(e);this.ik(b);break;case _geo.c.fa.At:this.wl(a);this.ik(d);break;default:this.wl(e);this.ik(d);break}};b.prototype.th=function(){var a;this.nq(a=new _geo.c.qa.DFb(this));this.dt=a;return this};b.prototype.Bca=function(){return this.pa.toggle};b.prototype.Qcb=function(a){this.R_.forEach(function(b){b.Un(a)})};b.prototype.gja=function(){return this.dt};
b.prototype.QYb=function(a){return null==a||null==this.R_||0===this.R_.length||this.R_.length<a?null:this.R_[a]};b.prototype.RYb=function(a){if(null==a||null==this.R_||0===this.R_.length)return null;var b=this.R_.filter(function(b){return a===b.ne()});return 0<b.length?b[0]:null};return b}();
_geo.c.qa.DFb=function(){function b(a){this.Kh=new _geo.c.selection.Qm;var b={pointerdown:this.tg.bind(this),pointermove:this.oe.bind(this),pointerup:this.wf.bind(this)};this.Doa=a;a={slots:b,layer:a,name:"buttongrouptool"};_geo.c.controls.ia.oc.call(this,a)}_geo.c.na(b,_geo.c.controls.ia.oc);_geo.c.ja(b,"geotoolkit.widgets.ButtonGroupTool");b.prototype.Gab=function(a,b){var e=this.Doa,d=this.Fe(e,a),f=_geo.c.f.Fa.Sf(e.va(),e.ha(),!1,!1);f.hb(d,d);e=this.Kh.select(e,d.ga(),d.ea(),2);return e.filter(function(a){return a instanceof
b})};b.prototype.tg=function(a){var b=this.Gab(a,_geo.c.qa.UO);a=this.Gab(a,_geo.c.qa.Vla);this.a3a=b;null!=b&&0<b.length&&(b[0].click(),a[0].lEb())};b.prototype.oe=function(a){var b=this.Gab(a,_geo.c.qa.UO);a=this.Gab(a,_geo.c.qa.Vla);b!==this.jkb&&(null!=this.jkb&&this.jkb[0].nbb(!1),null!=b&&0<b.length&&(b[0].nbb(!0),this.jkb=b,Array.isArray(a)&&0<a.length&&a[0].lEb()))};b.prototype.wf=function(a){null!=this.a3a&&0!==this.a3a.length&&!0!==this.a3a[0].Bca()&&this.a3a[0].Un(0)};return b}();
(function(){function b(){_geo.c.qa.vg.Y9.call(this)}function a(){_geo.c.qa.vg.w_.call(this);this.$c=new _geo.c.f.Fa}_geo.c.na(a,_geo.c.qa.vg.w_);a.prototype.getData=function(a,b,f){return _geo.c.qa.vg.w_.prototype.getData.call(this,a.Uc(),b,f)};a.prototype.setData=function(a,b,f,g){g=g[this.getName()];if((!g||!g.setdata)&&a.Uc()){var l=a.Uc().kc()?a.Uc().kc():new _geo.c.f.Fa;g=l.Rb();var k=l.Ti(),m=l.hc(),l=l.si();f===_geo.c.f.Pb.jc?(m=b.hc(),l=b.si()):f===_geo.c.f.Pb.ic&&(g=b.Rb(),k=b.Ti());this.$c.sc(g,
0,0,m,k,l);a.fM(this.$c)}};a.prototype.connect=function(a,b,f){_geo.c.qa.vg.w_.prototype.connect.call(this,a,b.Uc(),function(a){f.call(b,a,b)})};a.prototype.disconnect=function(a,b,f){_geo.c.qa.vg.w_.prototype.disconnect.call(this,a,b.Uc(),function(a){f.call(b,a,b)})};_geo.c.na(b,_geo.c.qa.vg.Y9);b.prototype.getData=function(a,b,f){var g=_geo.c.qa.vg.IC.prototype.getData.call(this,a.Uc(),b,f);null==g&&"function"===typeof a.wRa&&(a=a.wRa(f?f.ignoremodellimits:!1),null!=a&&(b=b===_geo.c.f.Pb.ic,g=f.orientation===
_geo.c.f.Pb.jc?new _geo.c.f.Range(b?a.ua():a.ta(),b?a.ya():a.xa()):new _geo.c.f.Range(b?a.ta():a.ua(),b?a.xa():a.ya())));return g};b.prototype.setData=function(a,b,f,g){g=g[this.getName()];g&&g.setdata||(g=a.wRa(),null!=g&&(b=f===_geo.c.f.Pb.jc?new _geo.c.f.Rect(g.ua(),b.nb(),g.ya(),b.wb()):new _geo.c.f.Rect(b.nb(),g.ta(),b.wb(),g.xa()),a.pcb(b)))};b.prototype.connect=function(a,b,f){_geo.c.qa.vg.Y9.prototype.connect.call(this,a,b.Uc(),function(a){f.call(b,a,b)})};b.prototype.disconnect=function(a,
b,f){_geo.c.qa.vg.Y9.prototype.disconnect.call(this,a,b.Uc(),function(a){f.call(b,a,b)})};var g=_geo.c.qa.vg.ffa.ib();g.VU(new a,_geo.c.qa.Bh.getClassName());g.VU(new b,_geo.c.qa.Bh.getClassName())})();
_geo.c.qa.data.wGb=function(){function b(a){_geo.c.f.Gd.call(this);a=_geo.c.Ja(a,{datatable:null,sortingarrowoptions:null},!0);this.wa=a.datatable;this.yya=new _geo.c.data.Ps(a.datatable);"string"===typeof a.sortingarrowoptions?this.eOb=this.uSb=this.dOb=this.tSb=a.sortingarrowoptions:(a=_geo.c.Ja(a.sortingarrowoptions,{uparrowfillcolor:"black",downarrowfillcolor:"black",uparrowlinecolor:"black",downarrowlinecolor:"black"},!0),this.tSb="string"===typeof a.uparrowfillcolor?a.uparrowfillcolor:"black",
this.dOb="string"===typeof a.downarrowfillcolor?a.downarrowfillcolor:"black",this.uSb="string"===typeof a.uparrowlinecolor?a.uparrowlinecolor:"black",this.eOb="string"===typeof a.downarrowlinecolor?a.downarrowlinecolor:"black");this.Opa=this.Dt=null;this.UC=[];this.Zsc();this.ah()}var a=0;_geo.c.na(b,_geo.c.f.Gd);_geo.c.ja(b,"geotoolkit.widgets.data.DataTableAdapter");b.prototype.ah=function(){var a=this;a.indexvisible=!1;a.indextitle="Index";a.contentprovider=this;a.headerprovider=this;a.indexprovider=
this;a.headerformatprovider=this;a.rows=this.hRa();a.cols=this.$Pa();return this};b.prototype.Nub=function(){return this.Opa};b.prototype.hRa=function(){return this.yya.Dl()};b.prototype.$Pa=function(){return this.yya.St()};b.prototype.zEa=function(a,b){this.OLc=!0};b.prototype.Cia=function(a,b){return this.yya.Nh(a).Da(b)};b.prototype.Q$a=function(a,b){this.PLc=!0};b.prototype.RN=function(a){return this.UC[a]};b.prototype.P_b=function(a,b){var d=this.Nub();if(null==d||d.column!==a)return b;b.text.bounds.de(-10,
0);var f=b.icon.bounds.ya(),h=b.icon.bounds.zb(f-16).Eb(4).rb(12),f=h.rd(),h=h.da();b.icon.value=!0===d.reverse?(new _geo.c.V.$.Dk).moveTo(f,6).lineTo(f+3,9).lineTo(f-3,9).lineTo(f,6).Ba({color:this.uSb,pixelsnapmode:{x:!0,y:!0}}).Ea(this.tSb):(new _geo.c.V.$.Dk).moveTo(f,h-6).lineTo(f+3,h-9).lineTo(f-3,h-9).lineTo(f,h-6).Ba({color:this.eOb,pixelsnapmode:{x:!0,y:!0}}).Ea(this.dOb);return b};b.prototype.Zsc=function(){for(var a=0;a<this.wa.St();++a){var b=this.wa.Nh(a).getName();if(""===b||null==b)b=
"Column "+(a+1);this.UC[a]=b}};b.prototype.Gcc=function(a,b){function d(a,d){return b.apply(this,[d,a])}null==this.Opa||this.Opa.column!==a?this.Opa={column:a,reverse:!1}:this.Opa.reverse=!this.Opa.reverse;!0===this.Opa.reverse?this.wa.sort(a,d):this.wa.sort(a,b)};b.prototype.filter=function(b,e){this.yya.Nh(a).Oob();if("function"!==typeof e){var d=function(a,b){return-1!==b.toString().toLowerCase().indexOf(e.toLowerCase())};""!==e&&this.yya.Nh(b).yX(d.bind(this))}else this.yya.Nh(b).yX(e.bind(this));
a=b;return this};return b}();
(function(){var b="geotoolkit",a="widgets",g="Events",e="Histogram",d="tools",f="TableView",h=_geo.c.hx,l=_geo.c.gx,k=null,m=null;h(b+"."+a+".Util",_geo.c.qa.gc);h(b+"."+a+".Util.css",_geo.c.qa.gc.Uf);h(b+"."+a+".sync."+g+"",_geo.c.qa.vg.aa);h(b+"."+a+".sync."+g+".ItemChanged",_geo.c.qa.vg.aa.Bfb);h(b+"."+a+".sync.SyncMode",_geo.c.qa.vg.k4);h(b+"."+a+".sync.SyncMode.VisibleRange",(m=_geo.c.qa.vg.k4).qna);h(b+"."+a+".sync.SyncMode.Scale",m.Xea);h(b+"."+a+".sync.SyncMode.Custom",m.sM);l(k=_geo.c.qa.vg.PLb.prototype,
"getDirection",k.Mk,{Mk:0});l(k,"getOptions",k.xb,{xb:0});l(k,"connect",k.connect,{connect:0});l(k,"disconnect",k.disconnect,{disconnect:0});h(b+"."+a+".sync.SyncOperation",(m=_geo.c.qa.vg).IC);l(k=_geo.c.qa.vg.IC.prototype,"getName",k.getName,{getName:0});l(k,"connect",k.connect,{connect:0});l(k,"disconnect",k.disconnect,{disconnect:0});l(k,"getData",k.getData,{getData:0});l(k,"setData",k.setData,{setData:0});h(b+"."+a+".sync.SyncOperationRegistry",m.ffa);l(k=_geo.c.qa.vg.ffa.prototype,"registerOperation",
k.VU,{VU:0});l(k,"getOperation",k.dub,{dub:0});h(b+"."+a+".sync.SyncOperationRegistry.getInstance",_geo.c.qa.vg.ffa.ib);h(b+"."+a+".sync.ViewSynchronizer",_geo.c.qa.vg.ZZa);l(k=_geo.c.qa.vg.ZZa.prototype,"connect",k.connect,{connect:0});l(k,"send",k.send,{send:0});l(k,"synchronize",k.gM,{gM:0});l(k,"disconnect",k.disconnect,{disconnect:0});h(b+"."+a+".templates.Registry",_geo.c.qa.jf.he);h(b+"."+a+".templates.Registry.getDefault",_geo.c.qa.jf.he.Kp);h(b+"."+a+".templates."+e+"Registry",_geo.c.qa.jf.yXa);
h(b+"."+a+".templates.Registry.getInstance",_geo.c.qa.jf.he.ib);h(b+"."+a+".templates.Multi"+e+"sRegistry",_geo.c.qa.jf.Xfb);h(b+"."+a+".templates.Multi"+e+"sRegistry.getInstance",_geo.c.qa.jf.Xfb.ib);h(b+"."+a+".timeseries.Util",_geo.c.qa.Jc.gc);h(b+"."+a+".timeseries.Util.getWidgetDefaultOptions",(m=_geo.c.qa.Jc.gc).T3b);h(b+"."+a+".timeseries.Util.getUniqueId",m.z3b);h(b+"."+a+".timeseries.Util.getPainterByString",m.l8a);l(k=_geo.c.qa.Jc.mZa.prototype,"setRect",k.Tb,{Tb:0});l(k,"getPreferredSize",
k.tl,{tl:0});l(k,"layout",k.fa,{fa:0});h(b+"."+a+".timeseries.TimeSeriesObjectBase",_geo.c.qa.Jc.KC);h(b+"."+a+".timeseries.TimeSeriesObjectBase."+g+".AxisPositionChanged",(m=_geo.c.qa.Jc.KC.aa).kea);h(b+"."+a+".timeseries.TimeSeriesObjectBase."+g+".AxisUpdated",m.Vva);l(k=_geo.c.qa.Jc.KC.prototype,"getId",k.zd,{zd:0});l(k,"getAxisOptions",k.YE,{YE:0});l(k,"setAxisOptions",k.FJ,{FJ:0});l(k,"dispose",k.Ra,{Ra:0});h(b+"."+a+".timeseries.TimeSeriesObject",_geo.c.qa.Jc.JC);h(b+"."+a+".timeseries.TimeSeriesObject."+
g+".AxisPositionChanged",(m=_geo.c.qa.Jc.JC.aa).kea);h(b+"."+a+".timeseries.TimeSeriesObject."+g+".LegendItemChanged",m.SXa);h(b+"."+a+".timeseries.TimeSeriesObject."+g+".CurveAxisChanged",m.KWa);h(b+"."+a+".timeseries.TimeSeriesObject."+g+".DataSet",m.hma);h(b+"."+a+".timeseries.TimeSeriesObject."+g+".LimitsUpdated",m.Iwa);l(k=_geo.c.qa.Jc.JC.prototype,"getData",k.getData,{getData:0});l(k,"setData",k.setData,{setData:0});l(k,"setCurveOptions",k.B8,{B8:0});l(k,"getCurveOptions",k.xr,{xr:0});l(k,"setSymbolOptions",
k.cGa,{cGa:0});l(k,"getSymbolOptions",k.W2b,{W2b:0});l(k,"getCurveLimitsGroupOptions",k.Zrb,{Zrb:0});l(k,"setCurveLimitsGroupOptions",k.sFa,{sFa:0});l(k,"getLegendOptions",k.I0b,{I0b:0});l(k,"setLegendOptions",k.rUa,{rUa:0});l(k,"setTooltipOptions",k.ocb,{ocb:0});l(k,"getTooltipOptions",k.r3b,{r3b:0});l(k,"dispose",k.Ra,{Ra:0});h(b+"."+a+".timeseries.TimeSeriesObjectGroup",(m=_geo.c.qa.Jc).jhb);l(k=_geo.c.qa.Jc.jhb.prototype,"setMin",k.J8,{J8:0});l(k,"getMin",k.mh,{mh:0});l(k,"setMax",k.lZ,{lZ:0});
l(k,"getMax",k.Yh,{Yh:0});l(k,"setShareLimits",k.Abc,{Abc:0});l(k,"getShareLimits",k.Mub,{Mub:0});l(k,"setAxisOptions",k.FJ,{FJ:0});l(k,"addObject",k.Zd,{Zd:0});l(k,"removeObject",k.yTa,{yTa:0});h(b+"."+a+".timeseries.TimeSeriesShape",m.pP);h(b+"."+a+".timeseries.TimeSeriesShape."+g+"",_geo.c.qa.Jc.pP.aa);h(b+"."+a+".timeseries.TimeSeriesShape."+g+".micropositionChanged",_geo.c.qa.Jc.pP.aa.f$a);l(k=_geo.c.qa.Jc.pP.prototype,"updateBounds",k.Ai,{Ai:0});l(k,"getContentsTransform",k.ae,{ae:0});l(k,"getWorldTransform",
k.sb,{sb:0});l(k,"setMicroPosition",k.lB,{lB:0});l(k,"getMicroPosition",k.BCa,{BCa:0});l(k,"setBorderLineStyle",k.rC,{rC:0});l(k,"getBorderLineStyle",k.jx,{jx:0});l(k,"render",k.Aa,{Aa:0});l(k=_geo.c.qa.Jc.KZa.prototype,"setBounds",k.Ga,{Ga:0});l(k,"updateBounds",k.Ai,{Ai:0});l(k,"getContentsTransform",k.ae,{ae:0});l(k,"setMicroPosition",k.lB,{lB:0});l(k,"updateState",k.Qa,{Qa:0});h(b+"."+a+".timeseries.TimeSeriesTooltipObject",_geo.c.qa.Jc.Dxa);h(b+"."+a+".timeseries.TimeSeriesTooltipObject."+g+
"",_geo.c.qa.Jc.Dxa.aa);h(b+"."+a+".timeseries.TimeSeriesTooltipObject."+g+".Change",_geo.c.qa.Jc.Dxa.aa.MV);l(k=_geo.c.qa.Jc.Dxa.prototype,"setData",k.setData,{setData:0});l(k,"getData",k.getData,{getData:0});h(b+"."+a+".timeseries.GroupTool",(m=_geo.c.qa.Jc).$eb);l(k=_geo.c.qa.Jc.$eb.prototype,"onMouseDown",k.tg,{tg:0});l(k,"onMouseMove",k.oe,{oe:0});l(k,"onMouseUp",k.wf,{wf:0});h(b+"."+a+".timeseries.ScaledData",m.nW);l(k=_geo.c.qa.Jc.nW.prototype,"setConversion",k.JD,{JD:0});l(k,"setInterpolation",
k.wF,{wF:0});l(k,"getSource",k.tw,{tw:0});l(k,"getMinPosition",k.SA,{SA:0});l(k,"getMaxPosition",k.RA,{RA:0});l(k,"getMinValue",k.ad,{ad:0});l(k,"getMaxValue",k.kd,{kd:0});l(k,"getSamples",k.$f,{$f:0});l(k,"getLength",k.ud,{ud:0});l(k,"isForwardOnly",k.sm,{sm:0});l(k,"getDataOrder",k.zh,{zh:0});l(k,"convertValueFromSource",k.qL,{qL:0});l(k,"convertValueToSource",k.FI,{FI:0});l(k,"getDataTimeStamp",k.f7a,{f7a:0});l(k,"getIndexRange",k.Vq,{Vq:0});h(b+"."+a+".timeseries.ScaledData.findIndex",_geo.c.qa.Jc.nW.findIndex);
l(k,"getMinWrapLevel",k.Xr,{Xr:0});l(k,"setMinWrapLevel",k.IJ,{IJ:0});l(k,"getMaxWrapLevel",k.lt,{lt:0});l(k,"setMaxWrapLevel",k.HJ,{HJ:0});l(k,"getValue",k.Da,{Da:0});l(k,"getValueInternal",k.Msa,{Msa:0});l(k,"getProperties",k.la,{la:0});l(k,"setProperties",k.ka,{ka:0});l(k,"isOutdated",k.fO,{fO:0});h(b+"."+a+".timeseries.TimeSeriesLine",_geo.c.qa.Jc.pE);h(b+"."+a+".timeseries.TimeSeriesLine."+g+"",_geo.c.qa.Jc.pE.aa);h(b+"."+a+".timeseries.TimeSeriesLine."+g+".Updated",(m=_geo.c.qa.Jc.pE.aa).ff);
h(b+"."+a+".timeseries.TimeSeriesLine."+g+".LimitsChanged",m.Hwa);l(k=_geo.c.qa.Jc.pE.prototype,"getMin",k.mh,{mh:0});l(k,"setMin",k.J8,{J8:0});l(k,"getMax",k.Yh,{Yh:0});l(k,"setMax",k.lZ,{lZ:0});l(k,"setOptimizationType",k.sC,{sC:0});l(k,"setOptimization",k.$z,{$z:0});l(k,"getSamples",k.$f,{$f:0});l(k,"getSamplesExt",k.ZCa,{ZCa:0});l(k,"getData",k.getData,{getData:0});l(k,"setData",k.setData,{setData:0});l(k,"getInterpolationType",k.cC,{cC:0});l(k,"setInterpolationType",k.Zz,{Zz:0});l(k,"updateFromData",
k.rB,{rB:0});l(k,"setDrawOutOfRangeValues",k.xFa,{xFa:0});l(k,"getDrawOutOfRangeValues",k.Pba,{Pba:0});l(k,"isLogarithmicScale",k.rJ,{rJ:0});l(k,"setLogarithmicScale",k.gV,{gV:0});l(k,"updateScaledData",k.DF,{DF:0});l(k,"getDataChangedHandler",k.eQa,{eQa:0});l(k,"updateBounds",k.Ai,{Ai:0});l(k,"getBounds",k.ha,{ha:0});l(k,"checkCollision",k.Ff,{Ff:0});l(k,"setCurveVisible",k.qAb,{qAb:0});l(k,"getCurveVisible",k.tZb,{tZb:0});l(k,"render",k.Aa,{Aa:0});l(k,"createMarker",k.rpb,{rpb:0});l(k,"dispose",
k.Ra,{Ra:0});h(b+"."+a+".timeseries.ReferenceLine",_geo.c.qa.Jc.exa);h(b+"."+a+".timeseries.ReferenceLine.Type",_geo.c.qa.Jc.exa.zJa);h(b+"."+a+".timeseries.ReferenceLine.Type.Top",(m=_geo.c.qa.Jc.exa.zJa).Xb);h(b+"."+a+".timeseries.ReferenceLine.Type.Value",m.Tv);h(b+"."+a+".timeseries.ReferenceLine.Type.Bottom",m.Qf);l(k=_geo.c.qa.Jc.exa.prototype,"getSamples",k.$f,{$f:0});l(k,"updateBounds",k.Ai,{Ai:0});l(k,"getBounds",k.ha,{ha:0});l(k,"getData",k.getData,{getData:0});l(k,"getModelLimits",k.va,
{va:0});l(k,"getInvalidateMethod",k.mc,{mc:0});l(k,"dispose",k.Ra,{Ra:0});h(b+"."+a+".timeseries.TimeSeriesFill",_geo.c.qa.Jc.hfa);h(b+"."+a+".timeseries.TimeSeriesFill.FillType",_geo.c.qa.Jc.hfa.Bg);h(b+"."+a+".timeseries.TimeSeriesFill.FillType.Single",(m=_geo.c.qa.Jc.hfa.Bg).nP);h(b+"."+a+".timeseries.TimeSeriesFill.FillType.Dual",m.QV);h(b+"."+a+".timeseries.TimeSeriesFill.FillType.Positive",m.Ss);h(b+"."+a+".timeseries.TimeSeriesFill.FillType.Negative",m.ps);h(b+"."+a+".timeseries.TimeSeriesFill.FillType.PositiveAndNegative",
m.WIa);l(k=_geo.c.qa.Jc.hfa.prototype,"getFillType",k.gY,{gY:0});l(k,"setFillType",k.cV,{cV:0});l(k,"getFillStyle",k.Bb,{Bb:0});l(k,"setFillStyle",k.Ea,{Ea:0});l(k,"getPositiveFillStyle",k.XG,{XG:0});l(k,"setPositiveFillStyle",k.GO,{GO:0});l(k,"getNegativeFillStyle",k.WG,{WG:0});l(k,"setNegativeFillStyle",k.FO,{FO:0});l(k,"getBounds",k.ha,{ha:0});l(k,"render",k.Aa,{Aa:0});l(k,"dispose",k.Ra,{Ra:0});h(b+"."+a+".timeseries.Annotation",(m=_geo.c.qa.Jc).z3);l(k=_geo.c.qa.Jc.z3.prototype,"setOptions",
k.bb,{bb:0});l(k,"getOptions",k.xb,{xb:0});l(k,"setProperties",k.ka,{ka:0});l(k,"getProperties",k.la,{la:0});l(k,"dispose",k.Ra,{Ra:0});h(b+"."+a+".timeseries.AnnotationLine",m.gHa);l(k=_geo.c.qa.Jc.gHa.prototype,"setOptions",k.bb,{bb:0});l(k,"getOptions",k.xb,{xb:0});l(k,"setProperties",k.ka,{ka:0});l(k,"getProperties",k.la,{la:0});h(b+"."+a+".timeseries.TimeSeriesLineLegendItem",m.LZa);l(k=_geo.c.qa.Jc.LZa.prototype,"setOptions",k.bb,{bb:0});l(k,"setProperties",k.ka,{ka:0});l(k,"updateGeometry",
k.oh,{oh:0});l(k,"getUpdateMethod",k.vi,{vi:0});l(k,"dispose",k.Ra,{Ra:0});h(b+"."+a+".timeseries.TimeSeriesTooltipLegendItem",m.MZa);l(k=_geo.c.qa.Jc.MZa.prototype,"setOptions",k.bb,{bb:0});l(k,"setProperties",k.ka,{ka:0});l(k,"formatData",k.orb,{orb:0});l(k,"updateGeometry",k.oh,{oh:0});h(b+"."+a+".ScrollBar",(m=_geo.c.qa).bLb);h(b+"."+a+".ScrollPanel",m.cLb);l(k=_geo.c.qa.cLb.prototype,"getContainer",k.Jba,{Jba:0});l(k,"getOverView",k.z1b,{z1b:0});l(k,"setLimits",k.iZ,{iZ:0});l(k,"updateLimits",
k.ai,{ai:0});l(k,"setScrollEventHandler",k.bcb,{bcb:0});h(b+"."+a+".BaseWidget",m.fm);l(k=_geo.c.qa.fm.prototype,"initializeTools",k.th,{th:0});l(k,"connectTool",k.nq,{nq:0});l(k,"disconnectTool",k.fx,{fx:0});l(k,"getTool",k.ld,{ld:0});l(k,"setTool",k.hGa,{hGa:0});l(k,"getToolByName",k.Pg,{Pg:0});l(k,"getToolByType",k.bH,{bH:0});l(k,"listToolsNames",k.vJ,{vJ:0});l(k,"dispose",k.Ra,{Ra:0});l(k,"loadTemplate",k.cB,{cB:0});l(k,"saveTemplate",k.uF,{uF:0});l(k,"getData",k.getData,{getData:0});l(k,"getProperties",
k.la,{la:0});l(k,"setProperties",k.ka,{ka:0});h(b+"."+a+".overlays.AbstractOverlay",_geo.c.qa.Kd.c9);h(b+"."+a+".overlays.AbstractOverlay."+g+"",_geo.c.qa.Kd.c9.aa);h(b+"."+a+".overlays.AbstractOverlay."+g+".StateChanged",_geo.c.qa.Kd.c9.aa.V9);l(k=_geo.c.qa.Kd.c9.prototype,"dispose",k.Ra,{Ra:0});l(k,"getWidget",k.LL,{LL:0});l(k,"onStateChanged",k.ot,{ot:0});l(k,"getVisible",k.ob,{ob:0});l(k,"setVisible",k.Ma,{Ma:0});l(k,"getEnabled",k.usb,{usb:0});l(k,"setEnabled",k.zc,{zc:0});h(b+"."+a+".overlays.IAnnotation",
(m=_geo.c.qa.Kd).jIa);l(k=_geo.c.qa.Kd.jIa.prototype,"getName",k.getName,{getName:0});l(k,"setName",k.Qb,{Qb:0});l(k,"getText",k.ne,{ne:0});l(k,"setText",k.Ec,{Ec:0});l(k,"getSymbol",k.Yd,{Yd:0});l(k,"setSymbol",k.Sk,{Sk:0});l(k,"getAnchor",k.Zi,{Zi:0});l(k,"setAnchor",k.Ic,{Ic:0});l(k,"getTarget",k.JL,{JL:0});l(k,"setTarget",k.Ks,{Ks:0});l(k,"getOptions",k.xb,{xb:0});l(k,"setOptions",k.bb,{bb:0});h(b+"."+a+".overlays.Annotation",m.z3);l(k=_geo.c.qa.Kd.z3.prototype,"getName",k.getName,{getName:0});
l(k,"setName",k.Qb,{Qb:0});l(k,"getText",k.ne,{ne:0});l(k,"setText",k.Ec,{Ec:0});l(k,"getSymbol",k.Yd,{Yd:0});l(k,"setSymbol",k.Sk,{Sk:0});l(k,"getAnchor",k.Zi,{Zi:0});l(k,"setAnchor",k.Ic,{Ic:0});l(k,"getTarget",k.JL,{JL:0});l(k,"setTarget",k.Ks,{Ks:0});l(k,"getOptions",k.xb,{xb:0});l(k,"setOptions",k.bb,{bb:0});h(b+"."+a+".overlays.Annotation.fromObject",_geo.c.qa.Kd.z3.gb);h(b+"."+a+".overlays.AnnotationEventArgs",(m=_geo.c.qa.Kd).EV);l(k=_geo.c.qa.Kd.EV.prototype,"cancel",k.cancel,{cancel:0});
l(k,"getAnnotation",k.Db,{Db:0});l(k,"setAnnotation",k.Hab,{Hab:0});h(b+"."+a+".overlays.AnnotationOverlay",m.ks);h(b+"."+a+".overlays.AnnotationOverlay."+g+"",_geo.c.qa.Kd.ks.aa);h(b+"."+a+".overlays.AnnotationOverlay."+g+".CreateAnnotation",(m=_geo.c.qa.Kd.ks.aa).kGb);h(b+"."+a+".overlays.AnnotationOverlay."+g+".RemoveAnnotation",m.FKb);h(b+"."+a+".overlays.AnnotationOverlay."+g+".EditAnnotation",m.WHa);h(b+"."+a+".overlays.AnnotationOverlay."+g+".ChangeActiveAnnotation",m.Yla);l(k=_geo.c.qa.Kd.ks.prototype,
"dispose",k.Ra,{Ra:0});l(k,"getModel",k.Uc,{Uc:0});l(k,"onUpdateGeometry",k.Rta,{Rta:0});l(k,"onStateChanged",k.ot,{ot:0});l(k,"setOptions",k.bb,{bb:0});l(k,"getOptions",k.xb,{xb:0});l(k,"addAnnotation",k.Raa,{Raa:0});l(k,"_setZOrder",k.Jpa,{Jpa:0});l(k,"_getZOrder",k.Pya,{Pya:0});l(k,"removeAnnotation",k.B2,{B2:0});l(k,"editAnnotation",k.K6,{K6:0});l(k,"scrollToAnnotation",k.w9b,{w9b:0});l(k,"getAnnotations",k.CYb,{CYb:0});l(k,"getActiveAnnotation",k.KA,{KA:0});l(k,"setActiveAnnotation",k.$Y,{$Y:0});
l(k,"setOrientation",k.setOrientation,{setOrientation:0});h(b+"."+a+".overlays.AnnotationOverlay.registerGeometry",(m=_geo.c.qa.Kd.ks).kda);h(b+"."+a+".overlays.AnnotationOverlay.getGeometry",m.ce);h(b+"."+a+".overlays.AnnotationShape."+g+"",_geo.c.qa.Kd.eA.aa);h(b+"."+a+".overlays.AnnotationShape."+g+".GeometryChanged",_geo.c.qa.Kd.eA.aa.rXa);h(b+"."+a+".overlays.AnnotationShape.GeometryType.None",(m=_geo.c.qa.Kd.eA.bIa).cf);h(b+"."+a+".overlays.AnnotationShape.GeometryType.SimpleArrow",m.lLb);h(b+
"."+a+".overlays.AnnotationShape.GeometryType.RectangleCallouts",m.Fgb);h(b+"."+a+".overlays.AnnotationShape.GeometryType.OvalCallouts",m.sjc);h(b+"."+a+".overlays.AnnotationShape.GeometryType.CloudCallouts",m.Hfc);l(k=_geo.c.qa.Kd.eA.prototype,"dispose",k.Ra,{Ra:0});l(k,"getAnnotation",k.Db,{Db:0});l(k,"getOrientation",k.dl,{dl:0});l(k,"setOrientation",k.setOrientation,{setOrientation:0});l(k,"setText",k.Ec,{Ec:0});l(k,"getText",k.ne,{ne:0});l(k,"getSymbol",k.Yd,{Yd:0});l(k,"setSymbol",k.Sk,{Sk:0});
l(k,"getTarget",k.JL,{JL:0});l(k,"setTarget",k.Ks,{Ks:0});l(k,"getOffset",k.Pn,{Pn:0});l(k,"setOffset",k.Lo,{Lo:0});l(k,"getOffset",k.Pn,{Pn:0});l(k,"setConnectorSize",k.jAb,{jAb:0});l(k,"getConnectorSize",k.Trb,{Trb:0});l(k,"getAnchor",k.Zi,{Zi:0});l(k,"setAnchor",k.Ic,{Ic:0});l(k,"hitTest",k.an,{an:0});l(k,"render",k.Aa,{Aa:0});l(k,"getBounds",k.ha,{ha:0});l(k,"updateGeometry",k.oh,{oh:0});l(k,"onGeometryChanged",k.Cxb,{Cxb:0});l(k,"getControlPoints",k.Vrb,{Vrb:0});l(k,"getTextFrame",k.Tub,{Tub:0});
l(k,"setCalloutFrame",k.b$b,{b$b:0});l(k,"getFrame",k.v7a,{v7a:0});l(k,"setFrame",k.jbb,{jbb:0});l(k,"getRadius",k.r7,{r7:0});l(k,"setRadius",k.zF,{zF:0});l(k,"getGeometryType",k.F_b,{F_b:0});l(k,"setGeometryType",k.UAb,{UAb:0});l(k,"getProperties",k.la,{la:0});l(k,"setProperties",k.ka,{ka:0});h(b+"."+a+".overlays.AnnotationTool",_geo.c.qa.Kd.nM);l(k=_geo.c.qa.Kd.nM.prototype,"dispose",k.Ra,{Ra:0});l(k,"setOptions",k.bb,{bb:0});l(k,"getOptions",k.xb,{xb:0});l(k,"adjustHandles",k.DTb,{DTb:0});l(k,
"onEnabledStateChanged",k.Rn,{Rn:0});l(k,"updateHandles",k.vh,{vh:0});l(k,"getWidget",k.LL,{LL:0});l(k,"setActiveAnnotation",k.$Y,{$Y:0});l(k,"getActiveAnnotation",k.KA,{KA:0});l(k,"getActiveTarget",k.h1,{h1:0});l(k,"setActiveTarget",k.ZU,{ZU:0});l(k,"findTarget",k.P6,{P6:0});l(k,"isEditing",k.a5b,{a5b:0});l(k,"start",k.start,{start:0});l(k,"stop",k.stop,{stop:0});l(k=_geo.c.qa.Ab.Ad.hfc.prototype,"isApplicable",k.Ah,{Ah:0});l(k,"getAnimatedValue",k.lo,{lo:0});l(k,"apply",k.apply,{apply:0});l(k=_geo.c.qa.Ab.Ad.olc.prototype,
"isApplicable",k.Ah,{Ah:0});l(k,"getAnimatedValue",k.lo,{lo:0});l(k,"apply",k.apply,{apply:0});l(k=_geo.c.qa.Ab.Ad.bfc.prototype,"isApplicable",k.Ah,{Ah:0});l(k,"getAnimatedValue",k.lo,{lo:0});l(k,"apply",k.apply,{apply:0});h(b+"."+a+".AnnotatedWidget",_geo.c.qa.Bh);h(b+"."+a+".AnnotatedWidget."+g+"",_geo.c.qa.Bh.aa);h(b+"."+a+".AnnotatedWidget."+g+".ModelVisibleLimitsChanged",_geo.c.qa.Bh.aa.rYa);h(b+"."+a+".AnnotatedWidget.DEFAULT_SCROLL_BAR_HEIGHT",(m=_geo.c.qa.Bh).Xfc);h(b+"."+a+".AnnotatedWidget.DEFAULT_SCROLL_BAR_WIDTH",
m.Yfc);l(k=_geo.c.qa.Bh.prototype,"initializeLayout",k.T1,{T1:0});l(k,"zoomToRect",k.Nec,{Nec:0});l(k,"setBounds",k.Ga,{Ga:0});l(k,"refreshLayout",k.$t,{$t:0});l(k,"setModelTransformation",k.fM,{fM:0});l(k,"initializeTools",k.th,{th:0});l(k,"setVisibleModelLimits",k.gs,{gs:0});l(k,"translateModel",k.CF,{CF:0});l(k,"scaleModel",k.Nu,{Nu:0});l(k,"setCenterModelLimits",k.Xz,{Xz:0});l(k,"getCenterModelLimits",k.p1,{p1:0});l(k,"getVisibleCenterModelLimits",k.wRa,{wRa:0});l(k,"setVisibleCenterModelLimits",
k.pcb,{pcb:0});l(k,"setAnnotationSize",k.Rk,{Rk:0});l(k,"getAnnotationSize",k.NPa,{NPa:0});l(k,"setAnnotationsOptions",k.Eua,{Eua:0});l(k,"addTitle",k.SAa,{SAa:0});l(k,"setTitleOptions",k.dcc,{dcc:0});l(k,"removeTitle",k.dzb,{dzb:0});l(k,"addAxis",k.Vr,{Vr:0});l(k,"removeAxis",k.mda,{mda:0});l(k,"connect",k.connect,{connect:0});l(k,"disconnect",k.disconnect,{disconnect:0});l(k,"zoomIn",k.OJ,{OJ:0});l(k,"zoomOut",k.PJ,{PJ:0});l(k,"getModel",k.Uc,{Uc:0});l(k,"fitToBounds",k.lia,{lia:0});l(k,"pan",k.pan,
{pan:0});l(k,"setScaleScrollStrategy",k.MR,{MR:0});l(k,"getAnnotation",k.Db,{Db:0});l(k,"exportToPdf",k.b1,{b1:0});l(k,"getExportLimits",k.XI,{XI:0});l(k,"setExportLimits",k.E8,{E8:0});l(k,"getExportScale",k.Qba,{Qba:0});l(k,"setExportScale",k.Oua,{Oua:0});l(k,"beginExport",k.ho,{ho:0});l(k,"endExport",k.Mn,{Mn:0});l(k,"getExportElement",k.Kz,{Kz:0});l(k,"setToolsOptions",k.Jv,{Jv:0});l(k,"getProperties",k.la,{la:0});l(k,"setProperties",k.ka,{ka:0});l(k,"getData",k.getData,{getData:0});l(k,"setData",
k.setData,{setData:0});l(k,"saveToolsState",k.sda,{sda:0});h(b+"."+a+".CrossPlot",(m=_geo.c.qa).QZ);l(k=_geo.c.qa.QZ.prototype,"dispose",k.Ra,{Ra:0});l(k,"refreshLayout",k.$t,{$t:0});l(k,"setBounds",k.Ga,{Ga:0});l(k,"initializeTools",k.th,{th:0});l(k,"setData",k.setData,{setData:0});l(k,"getData",k.getData,{getData:0});l(k,"setOptions",k.bb,{bb:0});l(k,"getOptions",k.xb,{xb:0});l(k,"setMarkerOptions",k.Ebb,{Ebb:0});l(k,"getMarkerOptions",k.X7a,{X7a:0});l(k,"setHeaderOptions",k.yda,{yda:0});l(k,"getHeaderOptions",
k.Tba,{Tba:0});l(k,"setAxisDataOptions",k.L2,{L2:0});l(k,"getAxisDataOptions",k.l1,{l1:0});l(k,"setColorProvider",k.Qy,{Qy:0});l(k,"getColorProvider",k.Im,{Im:0});l(k,"getHighlightedIndices",k.AQa,{AQa:0});l(k,"highlightArea",k.BRa,{BRa:0});l(k,"highlightIndices",k.ML,{ML:0});l(k,"getIndicesAt",k.BL,{BL:0});l(k,"setToolsOptions",k.Jv,{Jv:0});l(k,"switchOnCursorTool",k.Vcc,{Vcc:0});h(b+"."+a+"."+e+"",m.Vk);h(b+"."+a+"."+e+"."+g+"",_geo.c.qa.Vk.aa);h(b+"."+a+"."+e+"."+g+".DataUpdated",_geo.c.qa.Vk.aa.r9);
l(k=_geo.c.qa.Vk.prototype,"dispose",k.Ra,{Ra:0});l(k,"addHistogram",k.uha,{uha:0});l(k,"getHistogram",k.qy,{qy:0});l(k,"initializeTools",k.th,{th:0});l(k,"updateTools",k.odb,{odb:0});l(k,"getOrientation",k.dl,{dl:0});l(k,"setOrientation",k.setOrientation,{setOrientation:0});l(k,"setData",k.setData,{setData:0});l(k,"getData",k.getData,{getData:0});l(k,"setHeaderOptions",k.yda,{yda:0});l(k,"getStatistics",k.Qn,{Qn:0});l(k,"getMaxFrequency",k.ksa,{ksa:0});l(k,"getMinValue",k.ad,{ad:0});l(k,"getMaxValue",
k.kd,{kd:0});l(k,"getHeaderOptions",k.Tba,{Tba:0});l(k,"setAxisDataOptions",k.L2,{L2:0});l(k,"getAxisDataOptions",k.l1,{l1:0});l(k,"onAxisChanged",k.Zja,{Zja:0});l(k,"getHighlightedBins",k.Vba,{Vba:0});l(k,"highlightRange",k.o4b,{o4b:0});l(k,"highlightBins",k.O7,{O7:0});l(k,"setToolsOptions",k.Jv,{Jv:0});l(k,"loadTemplate",k.cB,{cB:0});l(k,"saveTemplate",k.uF,{uF:0});l(k,"setProperties",k.ka,{ka:0});h(b+"."+a+".Multi"+e+"s",_geo.c.qa.vYa);h(b+"."+a+".Multi"+e+"s."+g+"",_geo.c.qa.vYa.aa);h(b+"."+a+
".Multi"+e+"s."+g+"."+e+"sSelected",(m=_geo.c.qa.vYa.aa).LHb);h(b+"."+a+".Multi"+e+"s."+g+".BinsSelected",m.pFb);h(b+"."+a+".Multi"+e+"s."+g+".AxisSelected",m.Pdb);h(b+"."+a+".Multi"+e+"s."+g+".DataUpdated",m.r9);l(k=_geo.c.qa.vYa.prototype,"getUnderlayLayer",k.x3b,{x3b:0});l(k,"getOverlayLayer",k.Uia,{Uia:0});l(k,"initializeTools",k.th,{th:0});l(k,"addHistogram",k.uha,{uha:0});l(k,"removeHistograms",k.Yyb,{Yyb:0});l(k,"setHighlightableHistograms",k.Ada,{Ada:0});l(k,"getHighlightableHistograms",k.Z_b,
{Z_b:0});l(k,"getHighlightedBins",k.Vba,{Vba:0});l(k,"getHistograms",k.A7a,{A7a:0});l(k,"getGroupsId",k.Ssb,{Ssb:0});l(k,"addTitle",k.SAa,{SAa:0});l(k,"addAxisTo",k.eOa,{eOa:0});l(k,"internalRemoveAxis",k.LRa,{LRa:0});l(k,"removeAxisFrom",k.A8b,{A8b:0});l(k,"dispose",k.Ra,{Ra:0});l(k,"onBinsUpdated",k.txb,{txb:0});l(k,"addHistogramsToGroup",k.nTb,{nTb:0});l(k,"removeHistogramsFromAllGroup",k.Zyb,{Zyb:0});l(k,"removeHistogramsFromGroup",k.$yb,{$yb:0});l(k,"createGroup",k.zBa,{zBa:0});l(k,"setProperties",
k.ka,{ka:0});l(k,"setOptions",k.bb,{bb:0});l(k,"getAxisOptions",k.YE,{YE:0});l(k,"setAxisOptions",k.FJ,{FJ:0});l(k,"getProperties",k.la,{la:0});l(k,"setHeader",k.gZ,{gZ:0});l(k,"getHeader",k.Lj,{Lj:0});l(k,"setAxisWidthOrHeight",k.W9b,{W9b:0});l(k,"setToolsOptions",k.Jv,{Jv:0});l(k,"getToolsOptions",k.vU,{vU:0});l(k,"setAxisSelection",k.Uzb,{Uzb:0});l(k,"getAxisSelectionOptions",k.N6a,{N6a:0});l(k,"setAnnotationsScrollBar",k.Nzb,{Nzb:0});l(k,"getAnnotationScrollBarOptions",k.I6a,{I6a:0});l(k,"setGaps",
k.TAb,{TAb:0});l(k,"removeGroup",k.nua,{nua:0});l(k,"setHistogramsVisible",k.hac,{hac:0});l(k,"setProperties",k.ka,{ka:0});l(k,"removeAllGroup",k.wTa,{wTa:0});l(k,"setInFrontHistogram",k.obb,{obb:0});l(k,"setInFrontGroup",k.fBb,{fBb:0});l(k,"setData",k.setData,{setData:0});l(k,"getData",k.getData,{getData:0});l(k,"setDataBinding",k.EO,{EO:0});l(k,"getDataBinding",k.MN,{MN:0});l(k,"getRelatedHistogramsByGroup",k.SCa,{SCa:0});l(k,"getLocationOfGroup",k.Ftb,{Ftb:0});l(k,"getGroupIdByHistogram",k.K_b,
{K_b:0});l(k,"getHistogramModelLimits",k.$_b,{$_b:0});l(k,"getGroupModelLimits",k.L_b,{L_b:0});h(b+"."+a+"."+d+".InPlaceEditor",_geo.c.qa.ia.oIa);h(b+"."+a+"."+d+".InPlaceEditor."+g+"",_geo.c.qa.ia.oIa.aa);h(b+"."+a+"."+d+".InPlaceEditor."+g+".onCanEdit",(m=_geo.c.qa.ia.oIa.aa).YBc);h(b+"."+a+"."+d+".InPlaceEditor."+g+".onValueChanged",m.c7b);l(k=_geo.c.qa.ia.oIa.prototype,"attachToPlot",k.hw,{hw:0});l(k,"dispose",k.Ra,{Ra:0});l(k,"start",k.start,{start:0});l(k,"stop",k.stop,{stop:0});l(k,"getActiveCell",
k.nYb,{nYb:0});l(k,"setActiveCell",k.vda,{vda:0});h(b+"."+a+"."+d+".LegendToolEventArgs",(m=_geo.c.qa.ia).f_);h(b+"."+a+"."+d+".LegendTool",m.Ifb);h(b+"."+a+"."+d+".LegendTool."+g+".onAnnotationChanged",(m=_geo.c.qa.ia.Ifb.aa).DSa);h(b+"."+a+"."+d+".LegendTool."+g+".onMoveStart",m.Gxb);h(b+"."+a+"."+d+".LegendTool."+g+".onMoveEnd",m.HSa);l(k=_geo.c.qa.ia.Ifb.prototype,"onMouseDown",k.tg,{tg:0});l(k,"onMouseMove",k.oe,{oe:0});l(k,"onMouseUp",k.wf,{wf:0});h(b+"."+a+".VisibleRangeChangeEventArgs",(m=
_geo.c.qa).f$);l(k=_geo.c.qa.f$.prototype,"getVisibleRange",k.vca,{vca:0});h(b+"."+a+".SelectionChangeEventArgs",m.gZa);l(k=_geo.c.qa.gZa.prototype,"getId",k.zd,{zd:0});l(k,"getType",k.ox,{ox:0});h(b+"."+a+".TimeSeriesWidget",m.UH);h(b+"."+a+".TimeSeriesWidget."+g+"",_geo.c.qa.UH.aa);h(b+"."+a+".TimeSeriesWidget."+g+".onVisibleRangeChanged",(m=_geo.c.qa.UH.aa).PY);h(b+"."+a+".TimeSeriesWidget."+g+".onVisibleRangeChanging",m.oEa);h(b+"."+a+".TimeSeriesWidget."+g+".onCursorChanged",m.W6b);h(b+"."+a+
".TimeSeriesWidget."+g+".beforeSelectionChange",m.w6);h(b+"."+a+".TimeSeriesWidget."+g+".onSelectionChanged",m.lF);h(b+"."+a+".TimeSeriesWidget."+g+".onAnnotationLineClick",m.U6b);h(b+"."+a+".TimeSeriesWidget."+g+".onAnnotationClick",m.T6b);h(b+"."+a+".TimeSeriesWidget.LegendPosition",_geo.c.qa.UH.Gwa);h(b+"."+a+".TimeSeriesWidget.LegendPosition.Outside",(m=_geo.c.qa.UH.Gwa).$p);h(b+"."+a+".TimeSeriesWidget.LegendPosition.Inside",m.tk);h(b+"."+a+".TimeSeriesWidget.FillDirection",_geo.c.qa.UH.SV);
h(b+"."+a+".TimeSeriesWidget.FillDirection.Top",(m=_geo.c.qa.UH.SV).Xb);h(b+"."+a+".TimeSeriesWidget.FillDirection.Bottom",m.Qf);h(b+"."+a+".TimeSeriesWidget.FillType",_geo.c.qa.UH.Bg);h(b+"."+a+".TimeSeriesWidget.FillType.CurveToCurve",(m=_geo.c.qa.UH.Bg).oGb);h(b+"."+a+".TimeSeriesWidget.FillType.CurveToReferenceLine",m.pGb);h(b+"."+a+".TimeSeriesWidget.FillType.CurveToBaseLine",m.nGb);h(b+"."+a+".TimeSeriesWidget.ScrollBarType",_geo.c.qa.UH.S9);h(b+"."+a+".TimeSeriesWidget.ScrollBarType.Advanced",
(m=_geo.c.qa.UH.S9).UVa);h(b+"."+a+".TimeSeriesWidget.ScrollBarType.Compact",m.keb);h(b+"."+a+".TimeSeriesWidget.ScrollBarType.Simple",m.vxa);l(k=_geo.c.qa.UH.prototype,"setLocale",k.vH,{vH:0});l(k,"getLocale",k.DL,{DL:0});l(k,"initializeLayout",k.T1,{T1:0});l(k,"initializeTools",k.th,{th:0});l(k,"selectCurveById",k.F9b,{F9b:0});l(k,"getProperties",k.la,{la:0});l(k,"getOptions",k.xb,{xb:0});l(k,"setProperties",k.ka,{ka:0});l(k,"setOptions",k.bb,{bb:0});l(k,"getCurves",k.HQ,{HQ:0});l(k,"getTimeSeriesObjectById",
k.Ay,{Ay:0});l(k,"getDataById",k.dQa,{dQa:0});l(k,"addCurve",k.QAa,{QAa:0});l(k,"insertCurve",k.Tvb,{Tvb:0});l(k,"addCurves",k.fTb,{fTb:0});l(k,"insertCurves",k.Uvb,{Uvb:0});l(k,"setHorizontalGridCurveReference",k.DFa,{DFa:0});l(k,"addFill",k.lTb,{lTb:0});l(k,"removeCurveFill",k.QEa,{QEa:0});l(k,"getCurveFills",k.Yrb,{Yrb:0});l(k,"getCurveFillStyle",k.qZb,{qZb:0});l(k,"removeCurve",k.Xyb,{Xyb:0});l(k,"getCurveProperties",k.sZb,{sZb:0});l(k,"setCurveProperties",k.r$b,{r$b:0});l(k,"rebuildLayers",k.o8b,
{o8b:0});l(k,"getRange",k.Hu,{Hu:0});l(k,"setRange",k.qk,{qk:0});l(k,"getVisibleRange",k.vca,{vca:0});l(k,"setVisibleRange",k.pla,{pla:0});l(k,"translateModel",k.CF,{CF:0});l(k,"scaleModel",k.Nu,{Nu:0});l(k,"zoomIn",k.OJ,{OJ:0});l(k,"zoomOut",k.PJ,{PJ:0});l(k,"fitToBounds",k.lia,{lia:0});l(k,"addAnnotationLine",k.aTb,{aTb:0});l(k,"removeAnnotationLine",k.z8b,{z8b:0});l(k,"editAnnotationLine",k.hXb,{hXb:0});l(k,"addAnnotation",k.Raa,{Raa:0});l(k,"editAnnotation",k.K6,{K6:0});l(k,"removeAnnotation",
k.B2,{B2:0});l(k,"getAnnotationLineProperties",k.BYb,{BYb:0});l(k,"getAnnotationProperties",k.Drb,{Drb:0});l(k,"changeVisualOrder",k.MUb,{MUb:0});l(k,"createGroup",k.zBa,{zBa:0});l(k,"removeGroup",k.nua,{nua:0});l(k,"getGroupById",k.Qsb,{Qsb:0});l(k,"getVisualFrontLayer",k.P3b,{P3b:0});l(k,"getVisualBackLayer",k.O3b,{O3b:0});l(k,"getOverlayLayer",k.Uia,{Uia:0});l(k,"exportToPDF",k.yXb,{yXb:0});l(k,"dispose",k.Ra,{Ra:0});h(b+"."+a+"."+f+"",_geo.c.qa.CB);h(b+"."+a+"."+f+"."+g+"",_geo.c.qa.CB.aa);h(b+
"."+a+"."+f+"."+g+".ColumnWidthChanged",(m=_geo.c.qa.CB.aa).bwa);h(b+"."+a+"."+f+"."+g+".TableSizeChanged",m.VLb);h(b+"."+a+"."+f+"."+g+".TableAdjusted",m.Bxa);l(k=_geo.c.qa.CB.prototype,"getColumnsSize",k.Prb,{Prb:0});l(k,"setColumnsSize",k.Sab,{Sab:0});l(k,"fitToWidth",k.QI,{QI:0});l(k,"getRowsSize",k.l2b,{l2b:0});l(k,"setBounds",k.Ga,{Ga:0});l(k,"getTableViewShape",k.Qub,{Qub:0});l(k,"setTableBounds",k.xH,{xH:0});l(k,"getTableBounds",k.gDa,{gDa:0});l(k,"getTableSize",k.L1,{L1:0});l(k,"getVisibleTableLimits",
k.CU,{CU:0});l(k,"setVisibleTableLimits",k.qZ,{qZ:0});l(k,"setData",k.setData,{setData:0});l(k,"translateTable",k.vZ,{vZ:0});l(k,"highlightRow",k.mja,{mja:0});l(k,"getHighlightedRow",k.iY,{iY:0});l(k,"setActiveRow",k.WTa,{WTa:0});l(k,"getActiveRow",k.IPa,{IPa:0});l(k,"getActiveRows",k.wL,{wL:0});l(k,"highlightColumn",k.P7,{P7:0});l(k,"getHighlightedColumn",k.LQ,{LQ:0});l(k,"initializeTools",k.th,{th:0});h(b+"."+a+".BarChartWidget",(m=_geo.c.qa).Rdb);l(k=_geo.c.qa.Rdb.prototype,"getDataLayer",k.AZb,
{AZb:0});l(k,"setBounds",k.Ga,{Ga:0});l(k,"setFormatLabelHandler",k.cs,{cs:0});l(k,"setData",k.setData,{setData:0});l(k,"getData",k.getData,{getData:0});l(k,"getValueAt",k.Av,{Av:0});l(k,"setOptions",k.bb,{bb:0});l(k,"updateLayout",k.Nb,{Nb:0});l(k,"highlightBars",k.FDa,{FDa:0});l(k,"selectBarsAt",k.dFa,{dFa:0});l(k,"getProperties",k.la,{la:0});l(k,"setProperties",k.ka,{ka:0});h(b+"."+a+".BubbleChart",m.FH);l(k=_geo.c.qa.FH.prototype,"createGridAndAxes",k.Zqa,{Zqa:0});l(k,"initializeTools",k.th,{th:0});
l(k,"setData",k.setData,{setData:0});l(k,"getData",k.getData,{getData:0});l(k,"setOptions",k.bb,{bb:0});l(k,"getOptions",k.xb,{xb:0});l(k,"getColorBar",k.XPa,{XPa:0});l(k,"getRegressionAnalysis",k.X1b,{X1b:0});l(k,"updateRegressionLine",k.KGa,{KGa:0});l(k,"getTrendlineOptions",k.Z8a,{Z8a:0});l(k,"getLabelTextConverter",k.uCa,{uCa:0});l(k,"setAxisData",k.kFa,{kFa:0});l(k,"getAxisData",k.YBa,{YBa:0});l(k,"highlightIndices",k.ML,{ML:0});l(k,"getOverLayer",k.hub,{hub:0});l(k,"getRsquared",k.XCa,{XCa:0});
l(k,"getHighlightIndices",k.X_b,{X_b:0});l(k,"setHeader",k.gZ,{gZ:0});l(k,"getHeader",k.Lj,{Lj:0});l(k,"setLabels",k.tbb,{tbb:0});l(k,"getLabels",k.L7a,{L7a:0});l(k,"setPainter",k.Ty,{Ty:0});l(k,"getPainter",k.TN,{TN:0});l(k,"setColorProvider",k.Qy,{Qy:0});l(k,"getColorProvider",k.Im,{Im:0});l(k,"setSymbolCache",k.dcb,{dcb:0});l(k,"setToolsOptions",k.Jv,{Jv:0});l(k,"getToolsOptions",k.vU,{vU:0});l(k,"dispose",k.Ra,{Ra:0});h(b+"."+a+".BubbleChart.BubbleWidgetTooltipLegendItem",_geo.c.qa.FH.CFb);h(b+
"."+a+".Button",_geo.c.qa.UO);h(b+"."+a+".Button.State",_geo.c.qa.UO.Ow);h(b+"."+a+".Button.State.Off",(m=_geo.c.qa.UO.Ow).BYa);h(b+"."+a+".Button.State.On",m.fgb);l(k=_geo.c.qa.UO.prototype,"getState",k.Yl,{Yl:0});l(k,"getText",k.ne,{ne:0});l(k,"setState",k.Un,{Un:0});l(k,"isToggle",k.Bca,{Bca:0});l(k,"setHover",k.nbb,{nbb:0});l(k,"isDisabled",k.$4b,{$4b:0});l(k,"setDisabled",k.C$b,{C$b:0});l(k,"click",k.click,{click:0});h(b+"."+a+".ButtonWidget",(m=_geo.c.qa).Vla);l(k=_geo.c.qa.Vla.prototype,"initializeTools",
k.th,{th:0});l(k,"isToggle",k.Bca,{Bca:0});l(k,"toggleAll",k.Qcb,{Qcb:0});l(k,"getTools",k.gja,{gja:0});l(k,"getButtonByIndex",k.QYb,{QYb:0});l(k,"getButtonByText",k.RYb,{RYb:0});h(b+"."+a+".ButtonGroupTool",m.DFb);h(b+"."+a+".data.DataTableAdapter",_geo.c.qa.data.wGb);l(k=_geo.c.qa.data.wGb.prototype,"getSortedByColumn",k.Nub,{Nub:0});l(k,"getRowsCount",k.hRa,{hRa:0});l(k,"getColumnsCount",k.$Pa,{$Pa:0});l(k,"prepareContent",k.zEa,{zEa:0});l(k,"getContentData",k.Cia,{Cia:0});l(k,"getHeaderData",
k.RN,{RN:0});l(k,"getHeaderFormat",k.P_b,{P_b:0});l(k,"sortByColumn",k.Gcc,{Gcc:0});l(k,"filter",k.filter,{filter:0})})();

    return _geo.geotoolkit.widgets;
}(_geo));
/* eslint-enable */
/* tslint:enable */