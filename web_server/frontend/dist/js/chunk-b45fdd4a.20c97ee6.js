(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b45fdd4a"],{"2fdb":function(e,t,a){"use strict";var n=a("5ca1"),i=a("d2c8"),o="includes";n(n.P+n.F*a("5147")(o),"String",{includes:function(e){return!!~i(this,e,o).indexOf(e,arguments.length>1?arguments[1]:void 0)}})},"456d":function(e,t,a){var n=a("4bf8"),i=a("0d58");a("5eda")("keys",function(){return function(e){return i(n(e))}})},5147:function(e,t,a){var n=a("2b4c")("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(a){try{return t[n]=!1,!"/./"[e](t)}catch(i){}}return!0}},"5eda":function(e,t,a){var n=a("5ca1"),i=a("8378"),o=a("79e5");e.exports=function(e,t){var a=(i.Object||{})[e]||Object[e],s={};s[e]=t(a),n(n.S+n.F*o(function(){a(1)}),"Object",s)}},6762:function(e,t,a){"use strict";var n=a("5ca1"),i=a("c366")(!0);n(n.P,"Array",{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("9c6c")("includes")},"901a":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"about"},[a("v-card",{attrs:{color:"blue lighten-4"}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("div",{staticClass:"headline"},[e._v("MWD: "+e._s(e.mine_name)+" ")]),a("div",[e._v("Type: CSV")]),a("div",[e._v('Path: "/data/arcelor_mittal/mwds/201992.csv"')])])])],1)],1),a("v-divider",{attrs:{light:""}}),a("v-card-actions",{staticClass:"pa-3"},[a("v-btn",[e._v("Mapping")]),a("v-btn",[e._v("Download")]),a("v-spacer"),a("date-range-picker",{ref:"picker",staticStyle:{width:"240px",float:"right","z-index":"1000"},attrs:{"locale-data":{firstDay:1,format:"YYYY-MM-DD"},opens:"left",dateFormat:e.format_available_dates},on:{update:e.updated_date_picker},scopedSlots:e._u([{key:"input",fn:function(t){return a("div",{staticStyle:{"min-width":"200px","text-align":"center","font-color":"'#000'"}},[e._v("\n              From : "+e._s(e.dateRange.startDate.substring(0,10))+"  To: "+e._s(e.dateRange.endDate.substring(0,10))+" \n          ")])}}]),model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1)],1),a("v-toolbar",{staticStyle:{"z-index":"1"},attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[a("span",{staticClass:"body-2 font-weight-light"},[e._v(e._s(e.filtered_data.length)+" results found.")])]),a("v-spacer"),a("v-text-field",{staticStyle:{"min-width":"240px",float:"right"},attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":"",loading:e.loading},on:{"click:append":e.searchWeb,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchWeb(t)}},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("canvas",{staticStyle:{height:"100%",width:"100%"},attrs:{id:"data_table"}}),a("v-btn",{attrs:{flat:"",color:"light-blue"},on:{click:function(t){return e.compare_selection()}}},[e._v("Compare selection")]),a("v-btn",{attrs:{flat:"",color:"light-blue"},on:{click:function(t){return e.get_zipped_plots()}}},[e._v("Download selection plots")]),a("v-btn",{attrs:{flat:"",color:"light-blue"},on:{click:function(t){return e.get_processed_selection()}}},[a("v-icon",{attrs:{left:"",dark:""}},[e._v("cloud_download")]),e._v("Selection csv")],1),a("HoleCard",{key:e.clicked_processed_hole_id,attrs:{clicked_processed_hole_id:e.clicked_processed_hole_id,mine_name:e.mine_name},model:{value:e.show_dialog,callback:function(t){e.show_dialog=t},expression:"show_dialog"}}),a("ComparisonHoleCard",{attrs:{processed_hole_selection:e.selected,mine_name:e.mine_name},model:{value:e.show_dialog_comparison,callback:function(t){e.show_dialog_comparison=t},expression:"show_dialog_comparison"}}),a("v-snackbar",{attrs:{color:"error",bottom:"",right:"","multi-line":"",timeout:3e3},model:{value:e.warning,callback:function(t){e.warning=t},expression:"warning"}},[e._v(e._s(e.warning_text))])],1)},i=[],o=(a("5df3"),a("4f7f"),a("75fc")),s=(a("386d"),a("ac6a"),a("456d"),a("6762"),a("2fdb"),a("e40b")),r=a("d898"),c={components:{HoleCard:s["a"],ComparisonHoleCard:r["a"]},data:function(){return{notifications:!1,search:null,clicked_processed_hole_id:!1,show_dialog:!1,show_dialog_comparison:!1,selected:[],pagination:{rowsPerPage:-1},warning:null,warning_text:null,headers:[],filtered_data:[],dateRange:{startDate:"",endDate:""}}},created:function(){this.$store.dispatch("GET_MWD",{mine_name:this.mine_name})},props:["mine_name"],methods:{format_available_dates:function(e,t){return this.processed_at_ts.includes(moment(t).format("YYYY-MM-DD"))&&(e.today=!0),e},updated_date_picker:function(e){e.startDate=moment(e.startDate).format("YYYY-MM-DD")+" 00:00:00",e.endDate=moment(e.endDate).format("YYYY-MM-DD")+" 23:59:59",this.searchWeb()},changed_filter:function(){var e=[];for(var t in this.server_data.data){t=this.server_data.data[t];var a=!0;for(var n in this.headers)n=this.headers[n],Object.keys(n).includes("values")&&Object.keys(n.values).includes(t[n.value])&&0==n.values[t[n.value]].checked&&(a=!1);a&&e.push(t)}for(var i in this.filtered_data=e,this.headers)i=this.headers[i],i.allChecked=this.allChecked(i.values)},togleAllOnList:function(e){for(var t in e.values)e.values[t].checked=e.allChecked;this.changed_filter()},allChecked:function(e){for(var t in e)if(0==e[t].checked)return!1;return!0},moment:function(e){return window.moment.unix(e)},get_zipped_plots:function(){if(this.selected.length>1){var e={mine_name:this.mine_name,processed_holes:this.selected,responseType:"arraybuffer"};axios.post("/get_zipped_plots",e).then(function(e){window.location.href=e.data.url})}else this.warning=!0,this.warning_text="Select a few holes to download."},compare_selection:function(){if(this.selected.length>1){this.show_dialog_comparison=!0;var e=this.selected.map(function(e){return e.processed_hole_id});this.$store.dispatch("GET_HOLES_INFO",{mine_name:this.mine_name,processed_hole_id:e})}else this.warning=!0,this.warning_text="Select a few holes to compare."},get_processed_selection:function(){if(this.selected.length>1){var e={mine_name:this.mine_name,processed_holes:this.selected,responseType:"arraybuffer"};axios.post("/get_processed_csv",e).then(function(e){var t=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=t,a.setAttribute("download","processed.csv"),document.body.appendChild(a),a.click()})}else this.warning=!0,this.warning_text="Select a few holes to download."},searchWeb:function(){this.$store.dispatch("GET_PROCESSED",{mine_name:this.mine_name,search:this.search,from:moment(this.dateRange.startDate).format("X"),to:moment(this.dateRange.endDate).format("X")})},showProcessedHole:function(e){this.show_dialog=!0,this.clicked_processed_hole_id=e,this.$store.dispatch("GET_HOLE_INFO",{mine_name:this.mine_name,processed_hole_id:e})}},watch:{server_data:function(e,t){var a=this;function n(e){var t={};for(var a in e)t[e[a]]={label:e[a],checked:!0};return t}if(e){var i=e.data;this.headers=[],Object.keys(i[0]).forEach(function(e){var t=Object(o["a"])(new Set(i.map(function(t){return t[e]})));a.headers.push({text:e,value:e,sortable:!1,values:n(t),allChecked:!0})})}},headers:function(e,t){this.changed_filter()}},computed:{server_data:function(){return this.$store.state.mwd.mwd},loading:function(){return this.$store.state.processed_holes.loading}}},l=c,d=a("2877"),h=a("6544"),u=a.n(h),_=a("8336"),f=a("b0af"),p=a("99d9"),m=a("12b2"),v=a("ce7e"),g=a("0e8f"),b=a("132d"),w=a("a722"),k=a("2db4"),x=a("9910"),y=a("2677"),D=a("71d9"),C=a("2a7f"),S=Object(d["a"])(l,n,i,!1,null,null,null);t["default"]=S.exports;u()(S,{VBtn:_["a"],VCard:f["a"],VCardActions:p["a"],VCardTitle:m["a"],VDivider:v["a"],VFlex:g["a"],VIcon:b["a"],VLayout:w["a"],VSnackbar:k["a"],VSpacer:x["a"],VTextField:y["a"],VToolbar:D["a"],VToolbarTitle:C["a"]})},aae3:function(e,t,a){var n=a("d3f4"),i=a("2d95"),o=a("2b4c")("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},d2c8:function(e,t,a){var n=a("aae3"),i=a("be13");e.exports=function(e,t,a){if(n(t))throw TypeError("String#"+a+" doesn't accept regex!");return String(i(e))}}}]);
//# sourceMappingURL=chunk-b45fdd4a.20c97ee6.js.map