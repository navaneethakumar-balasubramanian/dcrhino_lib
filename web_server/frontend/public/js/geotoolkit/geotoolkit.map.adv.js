/* tslint:disable */
/* eslint-disable */
/**
 * Copyright: Copyright (c) 2016 by INT, Inc.  All rights reserved.<br>
 * Company: INT, Inc. <br>
 * INT PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.
 */
(function (root, factory) {
if (root && typeof root['define'] === 'function') {
    root['define']("geotoolkit.map", ["geotoolkit.widgets"], function() {
      root._geo = factory(root, root._geo);
      root.geotoolkit = root._geo.geotoolkit || root.geotoolkit;
      return root.geotoolkit;
    });
} else if (typeof module !== 'undefined' && typeof module.exports === 'object') {
    var m = factory(root, root && root._geo);
    module.exports._geo = m;
    if (root) { 
        root._geo = module.exports._geo;
        if(!root.geotoolkit) {
            root.geotoolkit = module.exports._geo.geotoolkit;
        }
    }
    if (!module.exports.geotoolkit) module.exports.geotoolkit=module.exports._geo.geotoolkit;
} else {
    root._geo = factory(root, root._geo);
    root.geotoolkit = root._geo.geotoolkit || root.geotoolkit;
    return root.geotoolkit;
}

}(typeof window !== "undefined" ? window : undefined, function (window, _geo) {
var _geo=_geo||{};_geo.c.map=_geo.c.map||{};_geo.c.map.Fd=_geo.c.map.Fd||{};_geo.c.map.Xa=_geo.c.map.Xa||{};_geo.c.map.Xa.Wm=_geo.c.map.Xa.Wm||{};_geo.c.map.Xa.ft=_geo.c.map.Xa.ft||{};_geo.c.map.Xa.filters=_geo.c.map.Xa.filters||{};_geo.c.map.Ta=_geo.c.map.Ta||{};_geo.c.map.Ta.bd=_geo.c.map.Ta.bd||{};_geo.c.map.Ta.cg=_geo.c.map.Ta.cg||{};_geo.c.map.Ta.Ok=_geo.c.map.Ta.Ok||{};_geo.c.map.Ta.lj=_geo.c.map.Ta.lj||{};_geo.c.map.Xa.Xp=_geo.c.map.Xa.Xp||{};_geo.c.map.Xa.zba=_geo.c.map.Xa.zba||{};
_geo.c.map.Xa.jf=_geo.c.map.Xa.jf||{};_geo.c.map.rc=_geo.c.map.rc||{};_geo.c.map.rc.filters=_geo.c.map.rc.filters||{};_geo.c.map.f=_geo.c.map.f||{};_geo.c.map.ia=_geo.c.map.ia||{};
_geo.c.map.Fd.tZa=function(){function b(a,b){this.una=a;this.TKa=b}_geo.c.ja(b,"geotoolkit.map.coordinatesystems.Spheroid");b.prototype.g1=function(){return this.una};b.prototype.QPa=function(){return-(this.TKa*this.una-this.una)};b.prototype.nQa=function(){return Math.sqrt(2*this.TKa-this.TKa*this.TKa)};b.prototype.Bsb=function(){return this.TKa};return b}();
_geo.c.map.Fd.pp=function(){function b(a){this.jd=a.name;this.xj=a.limits;this.Ik=a.units;this.bnc=a.epsg}_geo.c.ja(b,"geotoolkit.map.coordinatesystems.AbstractSystem");b.prototype.getName=function(){return this.jd};b.prototype.ZN=function(){return this.Ik};b.prototype.WI=function(){return this.bnc};b.prototype.G7=function(a){return new _geo.c.map.Fd.q4({initialcoordinatesystem:a,targetcoordinatesystem:this})};b.prototype.owb=function(){return!0};b.prototype.Uq=function(){return this.xj};b.prototype.transform=
_geo.c.Ua;b.prototype.te=_geo.c.Ua;b.gb=function(a){return a instanceof _geo.c.map.Fd.pp?a:"string"===typeof a||"number"===typeof a?_geo.c.map.Fd.he.Kp().it(a):null};return b}();_geo.c.map.Xu={x4:"WGS84",$y:"LatLon",nna:"UTM",cf:"None"};
_geo.c.map.Fd.he=function(){function b(){this.xNa={}}var a=null;_geo.c.ja(b,"geotoolkit.map.coordinatesystems.Registry");b.prototype.it=function(a){null==this.xNa[a]&&(this.xNa[a]=this.Nsc(a));return this.xNa[a]};b.prototype.Nsc=function(a){var b=_geo.c.map.Fd.XJ[a];if(null==b)return _geo.c.map.Fd.Mxa.parse(a);b.epsg=a;return new _geo.c.map.Fd.Mxa(b)};b.prototype.tTa=function(a){if(a instanceof _geo.c.map.Fd.pp)return null!=a.WI()&&(this.xNa[a.WI()]=a),this.xNa[a.getName()]=a,this;throw Error("Illegal system");
};b.Kp=function(){null==a&&(a=new _geo.c.map.Fd.he);return a};return b}();
_geo.c.map.Fd.$y=function(){function b(b){_geo.c.map.Fd.pp.call(this,{epsg:b||4326,name:_geo.c.map.Xu.$y,limits:a,units:_geo.c.f.Bf.ib().Zb("degrees")})}var a=new _geo.c.f.Rect(-180,-90,180,90);_geo.c.na(b,_geo.c.map.Fd.pp);_geo.c.ja(b,"geotoolkit.map.coordinatesystems.LatLon");b.prototype.G7=function(a){return new _geo.c.map.Fd.xIa({initialcoordinatesystem:a})};b.prototype.transform=function(a,b,d){null==d&&(d=new _geo.c.f.sa);a=_geo.c.f.Math.Du(a,-180,180);b=_geo.c.f.Math.Du(b,-90,90);return d.lb(a,
b)};b.prototype.te=function(a,b,d){null==d&&(d=new _geo.c.f.sa);a=_geo.c.f.Math.Du(a,-180,180);b=_geo.c.f.Math.Du(b,-90,90);return d.lb(a,b)};b.mdc=function(a){if(0===a.length)return 0;if(-1===a.indexOf("\u00b0"))return+a;var b=a[a.length-1].toUpperCase(),d=a.match(/^([\d]+\.?[\d]*)\u00b0 ?([\d]+\.?[\d]*)\u2032 ?([\d]+\.?[\d]*)\u2033/)||a.match(/^([\d]+\.?[\d]*)\u00b0 ?([\d]+\.?[\d]*)\u2032/)||a.match(/^([\d]+\.?[\d]*)\u00b0/),f=null!=d?d.length:0;a=1<f?+d[1]:0;var h=2<f?+d[2]:0,d=3<f?+d[3]:0;a=a+
h/60+d/3600;return"S"===b||"W"===b?-a:a};_geo.c.map.Fd.he.Kp().tTa(new b);return b}();
_geo.c.map.Fd.nna=function(){function b(a,b){var d=_geo.c.Ja(a,{zone:"number"===typeof a?a:null,southhemi:b,name:_geo.c.map.Xu.nna,limits:f,units:_geo.c.f.Bf.ib().Zb("meters")},!0);_geo.c.map.Fd.pp.call(this,d);this.m4a=d.zone;this.umb=d.southhemi}function a(a){var b,d,e,f,g;g=(h-l)/(h+l);b=(h+l)/2*(1+Math.pow(g,2)/4+Math.pow(g,4)/64);d=-3*g/2+9*Math.pow(g,3)/16+-3*Math.pow(g,5)/32;e=15*Math.pow(g,2)/16+-15*Math.pow(g,4)/32;f=-35*Math.pow(g,3)/48+105*Math.pow(g,5)/256;g=315*Math.pow(g,4)/512;return a=
b*(a+d*Math.sin(2*a)+e*Math.sin(4*a)+f*Math.sin(6*a)+g*Math.sin(8*a))}function g(b,d,e,f){var g,k,n,v;g=(Math.pow(h,2)-Math.pow(l,2))/Math.pow(l,2);k=g*Math.pow(Math.cos(b),2);g=Math.pow(h,2)/(l*Math.sqrt(1+k));n=Math.tan(b);v=n*n;e=d-e;d=g*Math.cos(b)*e+g/6*Math.pow(Math.cos(b),3)*(1-v+k)*Math.pow(e,3)+g/120*Math.pow(Math.cos(b),5)*(5-18*v+v*v+14*k-58*v*k)*Math.pow(e,5)+g/5040*Math.pow(Math.cos(b),7)*(61-479*v+179*v*v-v*v*v)*Math.pow(e,7);b=a(b)+n/2*g*Math.pow(Math.cos(b),2)*Math.pow(e,2)+n/24*g*
Math.pow(Math.cos(b),4)*(5-v+9*k+4*k*k)*Math.pow(e,4)+n/720*g*Math.pow(Math.cos(b),6)*(61-58*v+v*v+270*k-330*v*k)*Math.pow(e,6)+n/40320*g*Math.pow(Math.cos(b),8)*(1385-3111*v+543*v*v-v*v*v)*Math.pow(e,8);f.lb(d,b);return f}function e(a){var b,d,e,f;f=(h-l)/(h+l);b=(h+l)/2*(1+Math.pow(f,2)/4+Math.pow(f,4)/64);a/=b;b=3*f/2+-27*Math.pow(f,3)/32+269*Math.pow(f,5)/512;d=21*Math.pow(f,2)/16+-55*Math.pow(f,4)/32;e=151*Math.pow(f,3)/96+-417*Math.pow(f,5)/128;f=1097*Math.pow(f,4)/512;return f=a+b*Math.sin(2*
a)+d*Math.sin(4*a)+e*Math.sin(6*a)+f*Math.sin(8*a)}function d(a,b,d,f){var g,k,n,v,w,x,y,B,A,C,D,E,F;b=e(b);n=(Math.pow(h,2)-Math.pow(l,2))/Math.pow(l,2);y=Math.cos(b);n*=Math.pow(y,2);k=g=Math.pow(h,2)/(l*Math.sqrt(1+n));v=Math.tan(b);w=v*v;x=w*w;B=1/(k*y);k*=g;A=v/(2*k);k*=g;C=1/(6*k*y);k*=g;D=v/(24*k);k*=g;E=1/(120*k*y);k*=g;F=v/(720*k);k*=g;y=1/(5040*k*y);g=v/(40320*k*g);f.lb(d+B*a+C*(-1-2*w-n)*Math.pow(a,3)+E*(5+28*w+24*x+6*n+8*w*n)*Math.pow(a,5)+y*(-61-662*w-1320*x-720*x*w)*Math.pow(a,7),b+
A*(-1-n)*a*a+D*(5+3*w+6*n-6*w*n-3*n*n-9*w*n*n)*Math.pow(a,4)+F*(-61-90*w-45*x-107*n+162*w*n)*Math.pow(a,6)+g*(1385+3633*w+4095*x+1575*x*w)*Math.pow(a,8));return f}var f=new _geo.c.f.Rect(-2E7,-2E7,2E7,2E7),h=6378137,l=6356752.314,k=.9996;_geo.c.na(b,_geo.c.map.Fd.pp);_geo.c.ja(b,"geotoolkit.map.coordinatesystems.UTM");b.prototype.transform=function(a,b,d){null==d&&(d=new _geo.c.f.sa);d.lb(a,b);a=_geo.c.f.Math.IA(-183+6*this.m4a);g(_geo.c.f.Math.IA(d.y),_geo.c.f.Math.IA(d.x),a,d);d.x=d.x*k+5E5;d.y*=
k;0>d.y&&(d.y+=1E7);return d};b.prototype.b4b=function(){return this.m4a};b.prototype.xcc=function(a){this.m4a=a;return this};b.prototype.Dbc=function(a){this.umb=a;return this};b.prototype.w5b=function(){return this.umb};b.prototype.te=function(a,b,e){null==e&&(e=new _geo.c.f.sa);e.lb(a,b);a=_geo.c.f.Math.IA(-183+6*this.m4a);e.x-=5E5;e.x/=k;this.umb&&(e.y-=1E7);e.y/=k;d(e.x,e.y,a,e);e.x=_geo.c.f.Math.v2(e.x);e.y=_geo.c.f.Math.v2(e.y);return e};_geo.c.map.Fd.he.Kp().tTa(new b(31,!0));return b}();
_geo.c.map.Fd.Nxa=function(){function b(b){_geo.c.map.Fd.pp.call(this,{epsg:b||3857,name:_geo.c.map.Xu.x4,limits:a,units:_geo.c.f.Bf.ib().Zb("meters")})}var a=new _geo.c.f.Rect(-2.0037507067161843E7,-2.0037507067161843E7,2.0037507067161843E7,2.0037507067161843E7),g=a.ba()/360,e=a.da()/(2*Math.PI),d=Math.PI/360;_geo.c.na(b,_geo.c.map.Fd.pp);_geo.c.ja(b,"geotoolkit.map.coordinatesystems.WebMercator");b.prototype.transform=function(a,b,l){null==l&&(l=new _geo.c.f.sa);l.lb(a,b);-85>b?l.y=-85:85<b&&(l.y=
85);-180>a?l.x=-180:180<a&&(l.x=180);l.x*=g;l.y=Math.log(Math.tan((90+l.y)*d));l.y*=e;return l};b.prototype.te=function(a,b,l){null==l&&(l=new _geo.c.f.sa(a,b));l.x=a/g;l.y=b/e;l.y=(Math.atan(Math.exp(l.y))-Math.PI/4)/d;l.x=_geo.c.f.Math.Du(l.x,-180,180);l.y=_geo.c.f.Math.Du(l.y,-85,85);return l};_geo.c.map.Fd.he.Kp().tTa(new b);return b}();
_geo.c.map.Fd.oIb=function(){function b(a){a=_geo.c.Ja(a,{spheroid:[6378137,298.2572236],name:"LambertConicConformal",units:"metre",standartparallel1:0,standartparallel2:0,latitudeoforigin:0,centralmeridian:0,falseeasting:0,falsenorthing:0,scalefactor:1},!0);_geo.c.map.Fd.pp.call(this,a);this.cD=new _geo.c.map.Fd.tZa(a.spheroid[0],1/a.spheroid[1]);this.mAa=_geo.c.f.Math.IA(a.standartparallel1);this.nAa=_geo.c.f.Math.IA(a.standartparallel2);this.aaa=_geo.c.f.Math.IA(a.latitudeoforigin);this.tMa=_geo.c.f.Math.IA(a.centralmeridian);
this.XKa=a.falseeasting;this.YKa=a.falsenorthing;this.ew=a.scalefactor;this.una=_geo.c.f.Bf.ib().Zb("metre").Ib(this.cD.g1(),this.ZN())*this.ew;this.En=this.cD.nQa();this.Q1a=Math.cos(this.mAa)/Math.sqrt(1-this.En*this.En*Math.sin(this.mAa)*Math.sin(this.mAa));this.Wnc=Math.cos(this.nAa)/Math.sqrt(1-this.En*this.En*Math.sin(this.nAa)*Math.sin(this.nAa));this.t3a=Math.tan(Math.PI/4-this.mAa/2)/Math.pow((1-this.En*Math.sin(this.mAa))/(1+this.En*Math.sin(this.mAa)),this.En/2);this.xpc=Math.tan(Math.PI/
4-this.nAa/2)/Math.pow((1-this.En*Math.sin(this.nAa))/(1+this.En*Math.sin(this.nAa)),this.En/2);this.zpc=Math.tan(Math.PI/4-this.aaa/2)/Math.pow((1-this.En*Math.sin(this.aaa))/(1+this.En*Math.sin(this.aaa)),this.En/2);this.qr=(Math.log(this.Q1a)-Math.log(this.Wnc))/(Math.log(this.t3a)-Math.log(this.xpc));this.iQ=0>this.qr?-1:1;this.F2a=this.Q1a/(this.qr*Math.pow(this.t3a,this.qr))*this.una*Math.pow(this.zpc,this.qr);this.Aoc=this.Q1a/(this.qr*Math.pow(this.t3a,this.qr))*this.una;this.ypc=Math.pow(1/
(this.Q1a/(this.qr*Math.pow(this.t3a,this.qr))*this.una),1/this.qr)}var a=10;_geo.c.na(b,_geo.c.map.Fd.pp);_geo.c.ja(b,"geotoolkit.map.coordinatesystems.LambertConicConformal");b.prototype.transform=function(a,b,d){null==d&&(d=new _geo.c.f.sa);a=_geo.c.f.Math.IA(d.x);b=_geo.c.f.Math.IA(d.y);var f;b=Math.tan(Math.PI/4-b/2)/Math.pow((1-this.En*Math.sin(b))/(1+this.En*Math.sin(b)),this.En/2);b=this.Aoc*Math.pow(b,this.qr);f=this.qr*(a-this.tMa);a=this.XKa+b*Math.sin(f);b=this.YKa+this.F2a-b*Math.cos(f);
d.lb(a,b);return d};b.prototype.te=function(b,e,d){null==d&&(d=new _geo.c.f.sa);var f,h,l;b-=this.XKa;f=e-this.YKa;e=this.iQ*Math.sqrt(b*b+(this.F2a-f)*(this.F2a-f));e=this.ypc*Math.pow(e,1/this.qr);b=Math.atan(b/(this.F2a-f));l=b/this.qr+this.tMa;h=Math.PI/2-2*Math.atan(e);f=0;do b=h,h=Math.PI/2-2*Math.atan(e*Math.pow((1-this.En*Math.sin(h))/(1+this.En*Math.sin(h)),this.En/2)),f++;while(Math.abs(h-b)>_geo.c.f.Math.Hc&&f<a);d.lb(_geo.c.f.Math.v2(l),_geo.c.f.Math.v2(h));return d};return b}();
_geo.c.map.Fd.xMb=function(){function b(b){b=_geo.c.Ja(b,{units:"metre",name:"TranverseMercator",spheroid:[6378137,298.2572236],latitudeoforigin:0,centralmeridian:0,falseeasting:0,falsenorthing:0,scalefactor:1},!0);_geo.c.map.Fd.pp.call(this,b);this.cD=new _geo.c.map.Fd.tZa(b.spheroid[0],1/b.spheroid[1]);this.aaa=_geo.c.f.Math.IA(b.latitudeoforigin);this.tMa=_geo.c.f.Math.IA(b.centralmeridian);this.XKa=b.falseeasting;this.YKa=b.falsenorthing;this.ew=b.scalefactor;b=_geo.c.f.Bf.ib().Zb("metre").Ib(this.cD.g1(),
this.ZN());var e=_geo.c.f.Bf.ib().Zb("metre").Ib(this.cD.QPa(),this.ZN());this.En=this.cD.nQa();var e=(b-e)/b,e=e/(2-e),h=e*e;this.rna=b/(1+e)*(1+h/4+h*h/64);this.VC=[e/2-2/3*h+.3125*h*e+41/180*h*h,13/48*h-.6*h*e+557/1440*h*h,61/240*h*e-103/140*h*h,49561/161280*h*h];this.XLa=0;Math.abs(this.aaa)>_geo.c.f.Math.Hc&&(this.aaa===Math.PI/2?this.XLa=Math.PI/2*this.rna:this.aaa===-Math.PI/2?this.XLa=Math.PI/2*-this.rna:(b=g(Math.tan(this.aaa))-this.En*a(this.En*Math.sin(this.aaa)),b=Math.atan(Math.sinh(b)),
b=Math.asin(Math.sin(b)),b=b+this.VC[0]*Math.sin(2*b)+this.VC[1]*Math.sin(4*b)+this.VC[2]*Math.sin(6*b)+this.VC[3]*Math.sin(8*b),this.XLa=this.rna*b))}function a(a){return.5*Math.log((1+a)/(1-a))}function g(a){return Math.log(a+Math.sqrt(a*a+1))}var e=10;_geo.c.na(b,_geo.c.map.Fd.pp);_geo.c.ja(b,"geotoolkit.map.coordinatesystems.TransverseMercator");b.prototype.transform=function(b,e,h){null==h&&(h=new _geo.c.f.sa);b=_geo.c.f.Math.IA(h.x);e=_geo.c.f.Math.IA(h.y);var l;e=g(Math.tan(e))-this.En*a(this.En*
Math.sin(e));l=Math.atan(Math.sinh(e));e=a(Math.cos(l)*Math.sin(b-this.tMa));l=Math.asin(Math.sin(l)*Math.cosh(e));b=l+this.VC[0]*Math.sin(2*l)*Math.cosh(2*e)+this.VC[1]*Math.sin(4*l)*Math.cosh(4*e)+this.VC[2]*Math.sin(6*l)*Math.cosh(6*e)+this.VC[3]*Math.sin(8*l)*Math.cosh(8*e);e=e+this.VC[0]*Math.cos(2*l)*Math.sinh(2*e)+this.VC[1]*Math.cos(4*l)*Math.sinh(4*e)+this.VC[2]*Math.cos(6*l)*Math.sinh(6*e)+this.VC[3]*Math.cos(8*l)*Math.sinh(8*e);e=this.XKa+this.ew*this.rna*e;b=this.YKa+this.ew*(this.rna*
b-this.XLa);h.lb(e,b);return h};b.prototype.te=function(b,f,h){null==h&&(h=new _geo.c.f.sa);var l,k,m,q;b=(b-this.XKa)/(this.rna*this.ew);l=(f-this.YKa+this.XLa*this.ew)/(this.rna*this.ew);f=l-this.VC[0]*Math.sin(2*l)*Math.cosh(2*b)-this.VC[1]*Math.sin(4*l)*Math.cosh(4*b)-this.VC[2]*Math.sin(6*l)*Math.cosh(6*b)-this.VC[3]*Math.sin(8*l)*Math.cosh(8*b);b=b-this.VC[0]*Math.cos(2*l)*Math.sinh(2*b)-this.VC[1]*Math.cos(4*l)*Math.sinh(4*b)-this.VC[2]*Math.cos(6*l)*Math.sinh(6*b)-this.VC[3]*Math.cos(8*l)*
Math.sinh(8*b);f=Math.asin(Math.sin(f)/Math.cosh(b));m=g(Math.tan(f));q=m+this.En*a(this.En*Math.tanh(m));k=0;do l=q,q=m+this.En*a(this.En*Math.tanh(q)),k++;while(Math.abs(q-l)>_geo.c.f.Math.Hc&&k<e);l=Math.atan(Math.sinh(q));b=this.tMa+Math.asin(Math.tanh(b)/Math.cos(f));h.lb(_geo.c.f.Math.v2(b),_geo.c.f.Math.v2(l));return h};return b}();
_geo.c.map.Fd.Mxa=function(){function b(b){b=_geo.c.Ja(b,{spheroid:[6378137,298.2572236],primem:0,spheroidunits:g,axis:[_geo.c.map.Fd.GV.od,_geo.c.map.Fd.GV.Le]},!0);this.cD=new _geo.c.map.Fd.tZa(b.spheroid[0],1/b.spheroid[1]);null!=b.towgs84&&(this.Uib=b.towgs84[0]||0,this.Vib=b.towgs84[1]||0,this.Wib=b.towgs84[2]||0,this.hRb=_geo.c.f.Math.IA((b.towgs84[3]||0)/3600),this.iRb=_geo.c.f.Math.IA((b.towgs84[4]||0)/3600),this.TMa=_geo.c.f.Math.IA((b.towgs84[5]||0)/3600),this.ZMa=(b.towgs84[6]||0)/1E6+
1,this.Cza=new a(this.cD));this.Slb=b.primem;this.pNa=_geo.c.f.Bf.ib().Zb(b.spheroidunits);this.qNb=b.axis;this.TQb=null!=b.zone&&null!=b.southhemi?new _geo.c.map.Fd.nna(b):null!=b.latitudeoforigin&&null!=b.centralmeridian&&null!=b.falseeasting&&null!=b.falsenorthing?null!=b.standartparallel1&&null!=b.standartparallel2?new _geo.c.map.Fd.oIb(b):new _geo.c.map.Fd.xMb(b):b.name===_geo.c.map.Xu.x4||null!=b.centralmeridian&&null!=b.falseeasting&&null!=b.falsenorthing?new _geo.c.map.Fd.Nxa(b):new _geo.c.map.Fd.$y(b);
b.limits=b.limits||new _geo.c.f.Rect(180*-this.cD.g1(),180*-this.cD.QPa(),180*this.cD.g1(),180*this.cD.QPa());_geo.c.map.Fd.pp.call(this,b)}function a(a){this.cD=a;this.En=this.cD.nQa();this.$_a=[Math.pow(this.En,2)/2+5*Math.pow(this.En,4)/24+Math.pow(this.En,6)/12+13*Math.pow(this.En,8)/360,7*Math.pow(this.En,4)/48+29*Math.pow(this.En,6)/240+811*Math.pow(this.En,8)/11520,7*Math.pow(this.En,6)/120+81*Math.pow(this.En,8)/1120,4279*Math.pow(this.En,8)/161280]}a.prototype.transform=function(a,b,f){null==
f&&(f=new _geo.c.f.sa(a,b));a=_geo.c.f.Math.IA(a);b=_geo.c.f.Math.IA(b);f.x=this.cD.g1()*a;a=this.En*Math.sin(b);f.y=this.cD.g1()*Math.log(Math.tan(Math.PI/4+b/2)*Math.pow((1-a)/(1+a),this.En/2));return f};a.prototype.te=function(a,b,f){null==f&&(f=new _geo.c.f.sa(a,b));b=Math.exp(-b/this.cD.g1());b=Math.PI/2-2*Math.atan(b);f.y=b+this.$_a[0]*Math.sin(2*b)+this.$_a[1]*Math.sin(4*b)+this.$_a[2]*Math.sin(6*b)+this.$_a[3]*Math.sin(8*b);f.x=a/this.cD.g1();f.x=_geo.c.f.Math.v2(f.x);f.y=_geo.c.f.Math.v2(f.y);
return f};var g=_geo.c.f.Bf.ib().Zb("degrees");_geo.c.na(b,_geo.c.map.Fd.pp);_geo.c.ja(b,"geotoolkit.map.coordinatesystems.WKT");b.prototype.transform=function(a,b,f){null==f&&(f=new _geo.c.f.sa);null!=this.Cza?(f=this.Cza.transform(a,b,f),a=this.ZMa*(f.x-this.TMa*f.y)+this.Uib,b=this.ZMa*(this.TMa*f.x+f.y)+this.Vib,f=this.Cza.te(a,b,f)):f.lb(a,b);f.x-=this.Slb;-180>f.x&&(f.x+=360);f.x=g.Ib(f.x,this.pNa);f.y=g.Ib(f.y,this.pNa);f=this.TQb.transform(f.x,f.y,f);this.xdc(f);return f};b.prototype.te=function(a,
b,f){null==f&&(f=new _geo.c.f.sa);f.lb(a,b);this.xdc(f);f=this.TQb.te(f.x,f.y,f);f.x=this.pNa.Ib(f.x,g);f.y=this.pNa.Ib(f.y,g);f.x+=this.Slb;180<f.x&&(f.x-=360);null!=this.Cza&&(f=this.Cza.transform(f.x,f.y,f),a=(f.x-this.Uib)/this.ZMa+this.TMa*f.y-this.iRb*this.Wib,b=(f.y-this.Vib)/this.ZMa+this.TMa*f.x-this.hRb*this.Wib,f=this.Cza.te(a,b,f));return f};b.prototype.I2b=function(){return[this.cD.g1(),1/this.cD.Bsb()]};b.prototype.q3b=function(){return[this.Uib,this.Vib,this.Wib,this.hRb,this.iRb,this.TMa,
this.ZMa]};b.prototype.O1b=function(){return this.Slb};b.prototype.J2b=function(){return this.pNa};b.prototype.xdc=function(a){var b=a.x,f=a.y;switch(this.qNb[0].toLowerCase()){case _geo.c.map.Fd.GV.Sc:b=-a.x;break;case _geo.c.map.Fd.GV.Le:b=a.y;break;case _geo.c.map.Fd.GV.Wc:b=-a.y;break}switch(this.qNb[1].toLowerCase()){case _geo.c.map.Fd.GV.Sc:f=-a.x;break;case _geo.c.map.Fd.GV.od:f=a.x;break;case _geo.c.map.Fd.GV.Wc:f=-a.y;break}a.x=b;a.y=f};b.parse=function(a){if(!a||!/PARAMETER/i.test(a))return null;
var b={axis:[]},f;if(f=a.match(/SPHEROID\["[^"]+",\s*([-\.\d]+),\s*([-\.\d]+)/i))b.spheroid=[+f[1],+f[2]];if(f=a.match(/TOWGS84\[([-\.\d]+),([-\.\d]+),([-\.\d]+),([-\.\d]+),([-\.\d]+),([-\.\d]+)/i))b.towgs84=[+f[1],+f[2],+f[3],+f[4],+f[5],+f[6]];if(f=a.match(/PRIMEM\["[^"]+",\s*([-\.\d]+)/i))b.primem=+f[1];var g=/UNIT\[["\s]*(\w+)["\s]*,\s*([-\.\d]+)/ig;if(f=g.exec(a)){var l=new _geo.c.f.s4(f[1],["length"],f[1],f[1],0,+f[2],1,0);(f=g.exec(a))?(b.spheroidunits=l,b.units=new _geo.c.f.s4(f[1],["length"],
f[1],f[1],0,+f[2],1,0)):b.units=l}(f=a.match(/AXIS\["x",["\s]*(\w+)["\s]*/i))?b.axis[0]=f[1].toLowerCase():b.axis[0]=_geo.c.map.Fd.GV.od;(f=a.match(/AXIS\["y",["\s]*([\w]+)["\s]*/i))?b.axis[1]=f[1].toLowerCase():b.axis[1]=_geo.c.map.Fd.GV.Le;if(f=a.match(/PARAMETER\["standard_parallel_1",\s*([-\.\d]+)/i))b.standartparallel1=+f[1];if(f=a.match(/PARAMETER\["standard_parallel_2",\s*([-\.\d]+)/i))b.standartparallel2=+f[1];if(f=a.match(/PARAMETER\["latitude_of_origin",\s*([-\.\d]+)/i))b.latitudeoforigin=
+f[1];if(f=a.match(/PARAMETER\["central_meridian",\s*([-\.\d]+)/i))b.centralmeridian=+f[1];if(f=a.match(/PARAMETER\["false_easting",\s*([-\.\d]+)/i))b.falseeasting=+f[1];if(f=a.match(/PARAMETER\["false_northing",\s*([-\.\d]+)/i))b.falsenorthing=+f[1];if(f=a.match(/PARAMETER\["scale_factor",\s*([-\.\d]+)/i))b.scalefactor=+f[1];return new _geo.c.map.Fd.Mxa(b)};return b}();_geo.c.map.Fd.GV={Le:"north",Wc:"south",Sc:"west",od:"east"};
_geo.c.map.Fd.XJ=function(){return{4203:{towgs84:[-134,-48,149]},4326:{},4269:{},102100:{name:"WGS84"},3857:{name:"WGS84"},20436:{zone:36,southhemi:!1},20437:{zone:37,southhemi:!1},20438:{zone:38,southhemi:!1},20439:{zone:39,southhemi:!1},20440:{zone:40,southhemi:!1},2058:{zone:38,southhemi:!1},2059:{zone:39,southhemi:!1},2060:{zone:40,southhemi:!1},2061:{zone:41,southhemi:!1},2067:{zone:20,southhemi:!1},2077:{zone:32,southhemi:!1},2078:{zone:33,southhemi:!1},2079:{zone:34,southhemi:!1},2080:{zone:35,
southhemi:!1},20822:{zone:22,southhemi:!0},20823:{zone:23,southhemi:!0},20824:{zone:24,southhemi:!0},2084:{zone:19,southhemi:!0},2089:{zone:38,southhemi:!1},2090:{zone:39,southhemi:!1},2095:{zone:28,southhemi:!1},21818:{zone:18,southhemi:!1},2188:{zone:25,southhemi:!1},2189:{zone:26,southhemi:!1},2190:{zone:26,southhemi:!1},2216:{zone:22,southhemi:!1},2217:{zone:23,southhemi:!1},22521:{zone:21,southhemi:!0},22522:{zone:22,southhemi:!0},22523:{zone:23,southhemi:!0},22524:{zone:24,southhemi:!0},22525:{zone:25,
southhemi:!0},23028:{zone:28,southhemi:!1},23029:{zone:29,southhemi:!1},23030:{zone:30,southhemi:!1},23031:{zone:31,southhemi:!1},23032:{zone:32,southhemi:!1},23033:{zone:33,southhemi:!1},23034:{zone:34,southhemi:!1},23035:{zone:35,southhemi:!1},23036:{zone:36,southhemi:!1},23037:{zone:37,southhemi:!1},23038:{zone:38,southhemi:!1},2315:{zone:19,southhemi:!0},2316:{zone:20,southhemi:!0},23866:{zone:46,southhemi:!1},23867:{zone:47,southhemi:!1},23868:{zone:48,southhemi:!1},23869:{zone:49,southhemi:!1},
23870:{zone:50,southhemi:!1},23871:{zone:51,southhemi:!1},23872:{zone:52,southhemi:!1},23877:{zone:47,southhemi:!0},23878:{zone:48,southhemi:!0},23879:{zone:49,southhemi:!0},23880:{zone:50,southhemi:!0},23881:{zone:51,southhemi:!0},23882:{zone:52,southhemi:!0},23883:{zone:53,southhemi:!0},23884:{zone:54,southhemi:!0},24718:{zone:18,southhemi:!1},24719:{zone:19,southhemi:!1},24720:{zone:20,southhemi:!1},24817:{zone:17,southhemi:!1},24818:{zone:18,southhemi:!1},24819:{zone:19,southhemi:!1},24820:{zone:20,
southhemi:!1},24821:{zone:21,southhemi:!1},24877:{zone:17,southhemi:!0},24878:{zone:18,southhemi:!0},24879:{zone:19,southhemi:!0},24880:{zone:20,southhemi:!0},24881:{zone:21,southhemi:!0},24882:{zone:22,southhemi:!0},25932:{zone:32,southhemi:!0},27120:{zone:20,southhemi:!1},27258:{zone:58,southhemi:!0},27259:{zone:59,southhemi:!0},27260:{zone:60,southhemi:!0},27429:{zone:29,southhemi:!1},29220:{zone:20,southhemi:!0},29221:{zone:21,southhemi:!0},2942:{zone:28,southhemi:!1},2943:{zone:28,southhemi:!1},
2969:{zone:20,southhemi:!1},2970:{zone:20,southhemi:!1},2971:{zone:22,southhemi:!1},2973:{zone:20,southhemi:!1},29738:{zone:38,southhemi:!0},29739:{zone:39,southhemi:!0},2976:{zone:6,southhemi:!0},2977:{zone:5,southhemi:!0},2978:{zone:7,southhemi:!0},2980:{zone:38,southhemi:!0},2981:{zone:58,southhemi:!0},2988:{zone:1,southhemi:!0},2995:{zone:58,southhemi:!0},2996:{zone:58,southhemi:!0},2997:{zone:58,southhemi:!0},2998:{zone:58,southhemi:!0},2999:{zone:38,southhemi:!0},3036:{zone:36,southhemi:!0},
3037:{zone:37,southhemi:!0},3054:{zone:26,southhemi:!1},3055:{zone:27,southhemi:!1},3056:{zone:28,southhemi:!1},3060:{zone:58,southhemi:!0},3061:{zone:28,southhemi:!1},3062:{zone:26,southhemi:!1},3063:{zone:26,southhemi:!1},3064:{zone:32,southhemi:!1},3065:{zone:33,southhemi:!1},31121:{zone:21,southhemi:!1},3141:{zone:60,southhemi:!0},3142:{zone:1,southhemi:!0},3164:{zone:58,southhemi:!0},3172:{zone:59,southhemi:!0},31838:{zone:38,southhemi:!1},31839:{zone:39,southhemi:!1},3199:{zone:32,southhemi:!1},
3201:{zone:33,southhemi:!1},3202:{zone:34,southhemi:!1},3203:{zone:35,southhemi:!1},32601:{zone:1,southhemi:!1},32602:{zone:2,southhemi:!1},32603:{zone:3,southhemi:!1},32604:{zone:4,southhemi:!1},32605:{zone:5,southhemi:!1},32606:{zone:6,southhemi:!1},32607:{zone:7,southhemi:!1},32608:{zone:8,southhemi:!1},32609:{zone:9,southhemi:!1},32610:{zone:10,southhemi:!1},32611:{zone:11,southhemi:!1},32612:{zone:12,southhemi:!1},32613:{zone:13,southhemi:!1},32614:{zone:14,southhemi:!1},32615:{zone:15,southhemi:!1},
32616:{zone:16,southhemi:!1},32617:{zone:17,southhemi:!1},32618:{zone:18,southhemi:!1},32619:{zone:19,southhemi:!1},32620:{zone:20,southhemi:!1},32621:{zone:21,southhemi:!1},32622:{zone:22,southhemi:!1},32623:{zone:23,southhemi:!1},32624:{zone:24,southhemi:!1},32625:{zone:25,southhemi:!1},32626:{zone:26,southhemi:!1},32627:{zone:27,southhemi:!1},32628:{zone:28,southhemi:!1},32629:{zone:29,southhemi:!1},32630:{zone:30,southhemi:!1},32631:{zone:31,southhemi:!1},32632:{zone:32,southhemi:!1},32633:{zone:33,
southhemi:!1},32634:{zone:34,southhemi:!1},32635:{zone:35,southhemi:!1},32636:{zone:36,southhemi:!1},32637:{zone:37,southhemi:!1},32638:{zone:38,southhemi:!1},32639:{zone:39,southhemi:!1},32640:{zone:40,southhemi:!1},32641:{zone:41,southhemi:!1},32642:{zone:42,southhemi:!1},32643:{zone:43,southhemi:!1},32644:{zone:44,southhemi:!1},32645:{zone:45,southhemi:!1},32646:{zone:46,southhemi:!1},32647:{zone:47,southhemi:!1},32648:{zone:48,southhemi:!1},32649:{zone:49,southhemi:!1},32650:{zone:50,southhemi:!1},
32651:{zone:51,southhemi:!1},32652:{zone:52,southhemi:!1},32653:{zone:53,southhemi:!1},32654:{zone:54,southhemi:!1},32655:{zone:55,southhemi:!1},32656:{zone:56,southhemi:!1},32657:{zone:57,southhemi:!1},32658:{zone:58,southhemi:!1},32659:{zone:59,southhemi:!1},32660:{zone:60,southhemi:!1},32701:{zone:1,southhemi:!0},32702:{zone:2,southhemi:!0},32703:{zone:3,southhemi:!0},32704:{zone:4,southhemi:!0},32705:{zone:5,southhemi:!0},32706:{zone:6,southhemi:!0},32707:{zone:7,southhemi:!0},32708:{zone:8,southhemi:!0},
32709:{zone:9,southhemi:!0},32710:{zone:10,southhemi:!0},32711:{zone:11,southhemi:!0},32712:{zone:12,southhemi:!0},32713:{zone:13,southhemi:!0},32714:{zone:14,southhemi:!0},32715:{zone:15,southhemi:!0},32716:{zone:16,southhemi:!0},32717:{zone:17,southhemi:!0},32718:{zone:18,southhemi:!0},32719:{zone:19,southhemi:!0},32720:{zone:20,southhemi:!0},32721:{zone:21,southhemi:!0},32722:{zone:22,southhemi:!0},32723:{zone:23,southhemi:!0},32724:{zone:24,southhemi:!0},32725:{zone:25,southhemi:!0},32726:{zone:26,
southhemi:!0},32727:{zone:27,southhemi:!0},32728:{zone:28,southhemi:!0},32729:{zone:29,southhemi:!0},32730:{zone:30,southhemi:!0},32731:{zone:31,southhemi:!0},32732:{zone:32,southhemi:!0},32733:{zone:33,southhemi:!0},32734:{zone:34,southhemi:!0},32735:{zone:35,southhemi:!0},32736:{zone:36,southhemi:!0},32737:{zone:37,southhemi:!0},32738:{zone:38,southhemi:!0},32739:{zone:39,southhemi:!0},32740:{zone:40,southhemi:!0},32741:{zone:41,southhemi:!0},32742:{zone:42,southhemi:!0},32743:{zone:43,southhemi:!0},
32744:{zone:44,southhemi:!0},32745:{zone:45,southhemi:!0},32746:{zone:46,southhemi:!0},32747:{zone:47,southhemi:!0},32748:{zone:48,southhemi:!0},32749:{zone:49,southhemi:!0},32750:{zone:50,southhemi:!0},32751:{zone:51,southhemi:!0},32752:{zone:52,southhemi:!0},32753:{zone:53,southhemi:!0},32754:{zone:54,southhemi:!0},32755:{zone:55,southhemi:!0},32756:{zone:56,southhemi:!0},32757:{zone:57,southhemi:!0},32758:{zone:58,southhemi:!0},32759:{zone:59,southhemi:!0},32760:{zone:60,southhemi:!0},3302:{zone:7,
southhemi:!0},3303:{zone:7,southhemi:!0},3304:{zone:6,southhemi:!0},3305:{zone:6,southhemi:!0},3306:{zone:5,southhemi:!0},3307:{zone:39,southhemi:!1},3312:{zone:21,southhemi:!1},3336:{zone:42,southhemi:!0},3353:{zone:32,southhemi:!0},3354:{zone:32,southhemi:!0},3374:{zone:29,southhemi:!1},3405:{zone:48,southhemi:!1},3406:{zone:49,southhemi:!1},3449:{zone:17,southhemi:!1},3450:{zone:18,southhemi:!1},3784:{zone:9,southhemi:!0},3829:{zone:51,southhemi:!1},4037:{zone:35,southhemi:!1},4038:{zone:36,southhemi:!1},
4071:{zone:23,southhemi:!0},5337:{zone:25,southhemi:!0},5382:{zone:21,southhemi:!0},5383:{zone:22,southhemi:!0},5536:{zone:21,southhemi:!0},5537:{zone:22,southhemi:!0},5538:{zone:23,southhemi:!0},5539:{zone:24,southhemi:!0},5629:{zone:38,southhemi:!0},5836:{zone:37,southhemi:!1},5837:{zone:40,southhemi:!1},5879:{zone:38,southhemi:!0},7878:{zone:30,southhemi:!0},7883:{zone:30,southhemi:!0},7992:{zone:33,southhemi:!0},2009:{latitudeoforigin:0,centralmeridian:-58.5,falseeasting:304800,falsenorthing:0,
scalefactor:.9999,units:"metre"},2010:{latitudeoforigin:0,centralmeridian:-61.5,falseeasting:304800,falsenorthing:0,scalefactor:.9999,units:"metre"},2011:{latitudeoforigin:0,centralmeridian:-64.5,falseeasting:304800,falsenorthing:0,scalefactor:.9999,units:"metre"},2012:{latitudeoforigin:0,centralmeridian:-67.5,falseeasting:304800,falsenorthing:0,scalefactor:.9999,units:"metre"},2013:{latitudeoforigin:0,centralmeridian:-70.5,falseeasting:304800,falsenorthing:0,scalefactor:.9999,units:"metre"},2014:{latitudeoforigin:0,
centralmeridian:-73.5,falseeasting:304800,falsenorthing:0,scalefactor:.9999,units:"metre"},2015:{latitudeoforigin:0,centralmeridian:-76.5,falseeasting:304800,falsenorthing:0,scalefactor:.9999,units:"metre"},2016:{latitudeoforigin:0,centralmeridian:-79.5,falseeasting:304800,falsenorthing:0,scalefactor:.9999,units:"metre"},2017:{latitudeoforigin:0,centralmeridian:-73.5,falseeasting:304800,falsenorthing:0,scalefactor:.9999,units:"metre"},2018:{latitudeoforigin:0,centralmeridian:-76.5,falseeasting:304800,
falsenorthing:0,scalefactor:.9999,units:"metre"},2019:{latitudeoforigin:0,centralmeridian:-79.5,falseeasting:304800,falsenorthing:0,scalefactor:.9999,units:"metre"},2020:{latitudeoforigin:0,centralmeridian:-82.5,falseeasting:304800,falsenorthing:0,scalefactor:.9999,units:"metre"},2021:{latitudeoforigin:0,centralmeridian:-81,falseeasting:304800,falsenorthing:0,scalefactor:.9999,units:"metre"},2022:{latitudeoforigin:0,centralmeridian:-84,falseeasting:304800,falsenorthing:0,scalefactor:.9999,units:"metre"},
2023:{latitudeoforigin:0,centralmeridian:-87,falseeasting:304800,falsenorthing:0,scalefactor:.9999,units:"metre"},2024:{latitudeoforigin:0,centralmeridian:-90,falseeasting:304800,falsenorthing:0,scalefactor:.9999,units:"metre"},2025:{latitudeoforigin:0,centralmeridian:-93,falseeasting:304800,falsenorthing:0,scalefactor:.9999,units:"metre"},2026:{latitudeoforigin:0,centralmeridian:-96,falseeasting:304800,falsenorthing:0,scalefactor:.9999,units:"metre"},2027:{latitudeoforigin:0,centralmeridian:-93,
falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},2028:{latitudeoforigin:0,centralmeridian:-87,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},2029:{latitudeoforigin:0,centralmeridian:-81,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},2030:{latitudeoforigin:0,centralmeridian:-75,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},2031:{latitudeoforigin:0,centralmeridian:-81,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},
2032:{latitudeoforigin:0,centralmeridian:-75,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},2033:{latitudeoforigin:0,centralmeridian:-69,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},2034:{latitudeoforigin:0,centralmeridian:-63,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},2035:{latitudeoforigin:0,centralmeridian:-57,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},2138:{latitudeoforigin:44,centralmeridian:-68.5,falseeasting:0,
falsenorthing:0,scalefactor:1,standartparallel1:60,standartparallel2:46,units:"metre"},2204:{latitudeoforigin:34.666666666667,centralmeridian:-86,falseeasting:2E6,falsenorthing:1E5,scalefactor:1,standartparallel1:35.25,standartparallel2:36.416666666667,units:"foot"},26701:{latitudeoforigin:0,centralmeridian:-177,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},26702:{latitudeoforigin:0,centralmeridian:-171,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},26703:{latitudeoforigin:0,
centralmeridian:-165,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},26704:{latitudeoforigin:0,centralmeridian:-159,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},26705:{latitudeoforigin:0,centralmeridian:-153,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},26706:{latitudeoforigin:0,centralmeridian:-147,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},26707:{latitudeoforigin:0,centralmeridian:-141,falseeasting:5E5,falsenorthing:0,
scalefactor:.9996,units:"metre"},26708:{latitudeoforigin:0,centralmeridian:-135,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},26709:{latitudeoforigin:0,centralmeridian:-129,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},26710:{latitudeoforigin:0,centralmeridian:-123,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},26711:{latitudeoforigin:0,centralmeridian:-117,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},26712:{latitudeoforigin:0,
centralmeridian:-111,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},26713:{latitudeoforigin:0,centralmeridian:-105,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},26714:{latitudeoforigin:0,centralmeridian:-99,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},26715:{latitudeoforigin:0,centralmeridian:-93,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},26716:{latitudeoforigin:0,centralmeridian:-87,falseeasting:5E5,falsenorthing:0,
scalefactor:.9996,units:"metre"},26717:{latitudeoforigin:0,centralmeridian:-81,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},26718:{latitudeoforigin:0,centralmeridian:-75,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},26719:{latitudeoforigin:0,centralmeridian:-69,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},26720:{latitudeoforigin:0,centralmeridian:-63,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},26721:{latitudeoforigin:0,
centralmeridian:-57,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},26722:{latitudeoforigin:0,centralmeridian:-51,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},26729:{latitudeoforigin:30.5,centralmeridian:-85.833333333333,falseeasting:5E5,falsenorthing:0,scalefactor:.99996,units:"foot"},26730:{latitudeoforigin:30,centralmeridian:-87.5,falseeasting:5E5,falsenorthing:0,scalefactor:.999933333,units:"foot"},26732:{latitudeoforigin:54,centralmeridian:-142,falseeasting:5E5,
falsenorthing:0,scalefactor:.9999,units:"foot"},26733:{latitudeoforigin:54,centralmeridian:-146,falseeasting:5E5,falsenorthing:0,scalefactor:.9999,units:"foot"},26734:{latitudeoforigin:54,centralmeridian:-150,falseeasting:5E5,falsenorthing:0,scalefactor:.9999,units:"foot"},26735:{latitudeoforigin:54,centralmeridian:-154,falseeasting:5E5,falsenorthing:0,scalefactor:.9999,units:"foot"},26736:{latitudeoforigin:54,centralmeridian:-158,falseeasting:5E5,falsenorthing:0,scalefactor:.9999,units:"foot"},26737:{latitudeoforigin:54,
centralmeridian:-162,falseeasting:7E5,falsenorthing:0,scalefactor:.9999,units:"foot"},26738:{latitudeoforigin:54,centralmeridian:-166,falseeasting:5E5,falsenorthing:0,scalefactor:.9999,units:"foot"},26739:{latitudeoforigin:54,centralmeridian:-170,falseeasting:6E5,falsenorthing:0,scalefactor:.9999,units:"foot"},26740:{latitudeoforigin:51,centralmeridian:-176,falseeasting:3E6,falsenorthing:0,scalefactor:1,standartparallel1:53.833333333333,standartparallel2:51.833333333333,units:"foot"},26741:{latitudeoforigin:39.333333333333,
centralmeridian:-122,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:41.666666666667,standartparallel2:40,units:"foot"},26742:{latitudeoforigin:37.666666666667,centralmeridian:-122,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:39.833333333333,standartparallel2:38.333333333333,units:"foot"},26743:{latitudeoforigin:36.5,centralmeridian:-120.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:38.433333333333,standartparallel2:37.066666666667,units:"foot"},
26744:{latitudeoforigin:35.333333333333,centralmeridian:-119,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:37.25,standartparallel2:36,units:"foot"},26745:{latitudeoforigin:33.5,centralmeridian:-118,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:35.466666666667,standartparallel2:34.033333333333,units:"foot"},26746:{latitudeoforigin:32.166666666667,centralmeridian:-116.25,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:33.883333333333,standartparallel2:32.783333333333,
units:"foot"},26748:{latitudeoforigin:31,centralmeridian:-110.166666666667,falseeasting:5E5,falsenorthing:0,scalefactor:.9999,units:"foot"},26749:{latitudeoforigin:31,centralmeridian:-111.916666666667,falseeasting:5E5,falsenorthing:0,scalefactor:.9999,units:"foot"},26750:{latitudeoforigin:31,centralmeridian:-113.75,falseeasting:5E5,falsenorthing:0,scalefactor:.999933333,units:"foot"},26751:{latitudeoforigin:34.333333333333,centralmeridian:-92,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:36.233333333333,
standartparallel2:34.933333333333,units:"foot"},26752:{latitudeoforigin:32.666666666667,centralmeridian:-92,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:34.766666666667,standartparallel2:33.3,units:"foot"},26753:{latitudeoforigin:39.333333333333,centralmeridian:-105.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:39.716666666667,standartparallel2:40.783333333333,units:"foot"},26754:{latitudeoforigin:37.833333333333,centralmeridian:-105.5,falseeasting:2E6,falsenorthing:0,
scalefactor:1,standartparallel1:39.75,standartparallel2:38.45,units:"foot"},26755:{latitudeoforigin:36.666666666667,centralmeridian:-105.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:38.433333333333,standartparallel2:37.233333333333,units:"foot"},26756:{latitudeoforigin:40.833333333333,centralmeridian:-72.75,falseeasting:6E5,falsenorthing:0,scalefactor:1,standartparallel1:41.866666666667,standartparallel2:41.2,units:"foot"},26757:{latitudeoforigin:38,centralmeridian:-75.416666666667,
falseeasting:5E5,falsenorthing:0,scalefactor:.999995,units:"foot"},26758:{latitudeoforigin:24.333333333333,centralmeridian:-81,falseeasting:5E5,falsenorthing:0,scalefactor:.999941177,units:"foot"},26759:{latitudeoforigin:24.333333333333,centralmeridian:-82,falseeasting:5E5,falsenorthing:0,scalefactor:.999941177,units:"foot"},26760:{latitudeoforigin:29,centralmeridian:-84.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:30.75,standartparallel2:29.583333333333,units:"foot"},26766:{latitudeoforigin:30,
centralmeridian:-82.166666666667,falseeasting:5E5,falsenorthing:0,scalefactor:.9999,units:"foot"},26767:{latitudeoforigin:30,centralmeridian:-84.166666666667,falseeasting:5E5,falsenorthing:0,scalefactor:.9999,units:"foot"},26768:{latitudeoforigin:41.666666666667,centralmeridian:-112.166666666667,falseeasting:5E5,falsenorthing:0,scalefactor:.999947368,units:"foot"},26769:{latitudeoforigin:41.666666666667,centralmeridian:-114,falseeasting:5E5,falsenorthing:0,scalefactor:.999947368,units:"foot"},26770:{latitudeoforigin:41.666666666667,
centralmeridian:-115.75,falseeasting:5E5,falsenorthing:0,scalefactor:.999933333,units:"foot"},26771:{latitudeoforigin:36.666666666667,centralmeridian:-88.333333333333,falseeasting:5E5,falsenorthing:0,scalefactor:.999975,units:"foot"},26772:{latitudeoforigin:36.666666666667,centralmeridian:-90.166666666667,falseeasting:5E5,falsenorthing:0,scalefactor:.999941177,units:"foot"},26773:{latitudeoforigin:37.5,centralmeridian:-85.666666666667,falseeasting:5E5,falsenorthing:0,scalefactor:.999966667,units:"foot"},
26774:{latitudeoforigin:37.5,centralmeridian:-87.083333333333,falseeasting:5E5,falsenorthing:0,scalefactor:.999966667,units:"foot"},26775:{latitudeoforigin:41.5,centralmeridian:-93.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:43.266666666667,standartparallel2:42.066666666667,units:"foot"},26776:{latitudeoforigin:40,centralmeridian:-93.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:41.783333333333,standartparallel2:40.616666666667,units:"foot"},26777:{latitudeoforigin:38.333333333333,
centralmeridian:-98,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:39.783333333333,standartparallel2:38.716666666667,units:"foot"},26778:{latitudeoforigin:36.666666666667,centralmeridian:-98.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:38.566666666667,standartparallel2:37.266666666667,units:"foot"},26779:{latitudeoforigin:37.5,centralmeridian:-84.25,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:37.966666666667,standartparallel2:38.966666666667,
units:"foot"},26780:{latitudeoforigin:36.333333333333,centralmeridian:-85.75,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:36.733333333333,standartparallel2:37.933333333333,units:"foot"},26781:{latitudeoforigin:30.666666666667,centralmeridian:-92.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:31.166666666667,standartparallel2:32.666666666667,units:"foot"},26782:{latitudeoforigin:28.666666666667,centralmeridian:-91.333333333333,falseeasting:2E6,falsenorthing:0,
scalefactor:1,standartparallel1:29.3,standartparallel2:30.7,units:"foot"},26783:{latitudeoforigin:43.833333333333,centralmeridian:-68.5,falseeasting:5E5,falsenorthing:0,scalefactor:.9999,units:"foot"},26784:{latitudeoforigin:42.833333333333,centralmeridian:-70.166666666667,falseeasting:5E5,falsenorthing:0,scalefactor:.999966667,units:"foot"},26785:{latitudeoforigin:37.833333333333,centralmeridian:-77,falseeasting:8E5,falsenorthing:0,scalefactor:1,standartparallel1:38.3,standartparallel2:39.45,units:"foot"},
26786:{latitudeoforigin:41,centralmeridian:-71.5,falseeasting:6E5,falsenorthing:0,scalefactor:1,standartparallel1:41.716666666667,standartparallel2:42.683333333333,units:"foot"},26787:{latitudeoforigin:41,centralmeridian:-70.5,falseeasting:2E5,falsenorthing:0,scalefactor:1,standartparallel1:41.283333333333,standartparallel2:41.483333333333,units:"foot"},26791:{latitudeoforigin:46.5,centralmeridian:-93.1,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:47.033333333333,standartparallel2:48.633333333333,
units:"foot"},26792:{latitudeoforigin:45,centralmeridian:-94.25,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:45.616666666667,standartparallel2:47.05,units:"foot"},26793:{latitudeoforigin:43,centralmeridian:-94,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:43.783333333333,standartparallel2:45.216666666667,units:"foot"},26794:{latitudeoforigin:29.666666666667,centralmeridian:-88.833333333333,falseeasting:5E5,falsenorthing:0,scalefactor:.99996,units:"foot"},26795:{latitudeoforigin:30.5,
centralmeridian:-90.333333333333,falseeasting:5E5,falsenorthing:0,scalefactor:.999941177,units:"foot"},26796:{latitudeoforigin:35.833333333333,centralmeridian:-90.5,falseeasting:5E5,falsenorthing:0,scalefactor:.999933333,units:"foot"},26797:{latitudeoforigin:35.833333333333,centralmeridian:-92.5,falseeasting:5E5,falsenorthing:0,scalefactor:.999933333,units:"foot"},26798:{latitudeoforigin:36.166666666667,centralmeridian:-94.5,falseeasting:5E5,falsenorthing:0,scalefactor:.999941177,units:"foot"},26799:{latitudeoforigin:34.133333333333,
centralmeridian:-118.333333333333,falseeasting:4186692.58,falsenorthing:4160926.74,scalefactor:1,standartparallel1:34.416666666667,standartparallel2:33.866666666667,units:"foot"},3069:{latitudeoforigin:0,centralmeridian:-90,falseeasting:5E5,falsenorthing:-45E5,scalefactor:.9996,units:"metre"},3080:{latitudeoforigin:31.166666666667,centralmeridian:-100,falseeasting:3E6,falsenorthing:3E6,scalefactor:1,standartparallel1:27.416666666667,standartparallel2:34.916666666667,units:"foot"},32001:{latitudeoforigin:47,
centralmeridian:-109.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:48.716666666667,standartparallel2:47.85,units:"foot"},32002:{latitudeoforigin:45.833333333333,centralmeridian:-109.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:47.883333333333,standartparallel2:46.45,units:"foot"},32003:{latitudeoforigin:44,centralmeridian:-109.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:46.4,standartparallel2:44.866666666667,units:"foot"},32005:{latitudeoforigin:41.333333333333,
centralmeridian:-100,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:41.85,standartparallel2:42.816666666667,units:"foot"},32006:{latitudeoforigin:39.666666666667,centralmeridian:-99.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:40.283333333333,standartparallel2:41.716666666667,units:"foot"},32007:{latitudeoforigin:34.75,centralmeridian:-115.583333333333,falseeasting:5E5,falsenorthing:0,scalefactor:.9999,units:"foot"},32008:{latitudeoforigin:34.75,centralmeridian:-116.666666666667,
falseeasting:5E5,falsenorthing:0,scalefactor:.9999,units:"foot"},32009:{latitudeoforigin:34.75,centralmeridian:-118.583333333333,falseeasting:5E5,falsenorthing:0,scalefactor:.9999,units:"foot"},32010:{latitudeoforigin:42.5,centralmeridian:-71.666666666667,falseeasting:5E5,falsenorthing:0,scalefactor:.999966667,units:"foot"},32011:{latitudeoforigin:38.833333333333,centralmeridian:-74.666666666667,falseeasting:2E6,falsenorthing:0,scalefactor:.999975,units:"foot"},32012:{latitudeoforigin:31,centralmeridian:-104.333333333333,
falseeasting:5E5,falsenorthing:0,scalefactor:.999909091,units:"foot"},32013:{latitudeoforigin:31,centralmeridian:-106.25,falseeasting:5E5,falsenorthing:0,scalefactor:.9999,units:"foot"},32014:{latitudeoforigin:31,centralmeridian:-107.833333333333,falseeasting:5E5,falsenorthing:0,scalefactor:.999916667,units:"foot"},32015:{latitudeoforigin:40,centralmeridian:-74.333333333333,falseeasting:5E5,falsenorthing:0,scalefactor:.999966667,units:"foot"},32016:{latitudeoforigin:40,centralmeridian:-76.583333333333,
falseeasting:5E5,falsenorthing:0,scalefactor:.9999375,units:"foot"},32017:{latitudeoforigin:40,centralmeridian:-78.583333333333,falseeasting:5E5,falsenorthing:0,scalefactor:.9999375,units:"foot"},32019:{latitudeoforigin:33.75,centralmeridian:-79,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:34.333333333333,standartparallel2:36.166666666667,units:"foot"},32020:{latitudeoforigin:47,centralmeridian:-100.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:47.433333333333,
standartparallel2:48.733333333333,units:"foot"},32021:{latitudeoforigin:45.666666666667,centralmeridian:-100.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:46.183333333333,standartparallel2:47.483333333333,units:"foot"},32022:{latitudeoforigin:39.666666666667,centralmeridian:-82.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:40.433333333333,standartparallel2:41.7,units:"foot"},32023:{latitudeoforigin:38,centralmeridian:-82.5,falseeasting:2E6,falsenorthing:0,
scalefactor:1,standartparallel1:38.733333333333,standartparallel2:40.033333333333,units:"foot"},32024:{latitudeoforigin:35,centralmeridian:-98,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:35.566666666667,standartparallel2:36.766666666667,units:"foot"},32025:{latitudeoforigin:33.333333333333,centralmeridian:-98,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:33.933333333333,standartparallel2:35.233333333333,units:"foot"},32026:{latitudeoforigin:43.666666666667,
centralmeridian:-120.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:44.333333333333,standartparallel2:46,units:"foot"},32027:{latitudeoforigin:41.666666666667,centralmeridian:-120.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:42.333333333333,standartparallel2:44,units:"foot"},32028:{latitudeoforigin:40.166666666667,centralmeridian:-77.75,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:40.883333333333,standartparallel2:41.95,units:"foot"},32030:{latitudeoforigin:41.083333333333,
centralmeridian:-71.5,falseeasting:5E5,falsenorthing:0,scalefactor:.9999938,units:"foot"},32031:{latitudeoforigin:33,centralmeridian:-81,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:33.766666666667,standartparallel2:34.966666666667,units:"foot"},32033:{latitudeoforigin:31.833333333333,centralmeridian:-81,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:32.333333333333,standartparallel2:33.666666666667,units:"foot"},32034:{latitudeoforigin:43.833333333333,centralmeridian:-100,
falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:44.416666666667,standartparallel2:45.683333333333,units:"foot"},32035:{latitudeoforigin:42.333333333333,centralmeridian:-100.333333333333,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:42.833333333333,standartparallel2:44.4,units:"foot"},32037:{latitudeoforigin:34,centralmeridian:-101.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:34.65,standartparallel2:36.183333333333,units:"foot"},32038:{latitudeoforigin:31.666666666667,
centralmeridian:-97.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:32.133333333333,standartparallel2:33.966666666667,units:"foot"},32039:{latitudeoforigin:29.666666666667,centralmeridian:-100.333333333333,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:30.116666666667,standartparallel2:31.883333333333,units:"foot"},32040:{latitudeoforigin:27.833333333333,centralmeridian:-99,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:28.383333333333,standartparallel2:30.283333333333,
units:"foot"},32041:{latitudeoforigin:25.666666666667,centralmeridian:-98.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:26.166666666667,standartparallel2:27.833333333333,units:"foot"},32042:{latitudeoforigin:40.333333333333,centralmeridian:-111.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:40.716666666667,standartparallel2:41.783333333333,units:"foot"},32043:{latitudeoforigin:38.333333333333,centralmeridian:-111.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,
standartparallel1:39.016666666667,standartparallel2:40.65,units:"foot"},32044:{latitudeoforigin:36.666666666667,centralmeridian:-111.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:37.216666666667,standartparallel2:38.35,units:"foot"},32045:{latitudeoforigin:42.5,centralmeridian:-72.5,falseeasting:5E5,falsenorthing:0,scalefactor:.999964286,units:"foot"},32046:{latitudeoforigin:37.666666666667,centralmeridian:-78.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:38.033333333333,
standartparallel2:39.2,units:"foot"},32047:{latitudeoforigin:36.333333333333,centralmeridian:-78.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:36.766666666667,standartparallel2:37.966666666667,units:"foot"},32048:{latitudeoforigin:47,centralmeridian:-120.833333333333,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:47.5,standartparallel2:48.733333333333,units:"foot"},32049:{latitudeoforigin:45.333333333333,centralmeridian:-120.5,falseeasting:2E6,falsenorthing:0,
scalefactor:1,standartparallel1:45.833333333333,standartparallel2:47.333333333333,units:"foot"},32050:{latitudeoforigin:38.5,centralmeridian:-79.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:39,standartparallel2:40.25,units:"foot"},32051:{latitudeoforigin:37,centralmeridian:-81,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:37.483333333333,standartparallel2:38.883333333333,units:"foot"},32052:{latitudeoforigin:45.166666666667,centralmeridian:-90,falseeasting:2E6,
falsenorthing:0,scalefactor:1,standartparallel1:45.566666666667,standartparallel2:46.766666666667,units:"foot"},32053:{latitudeoforigin:43.833333333333,centralmeridian:-90,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:44.25,standartparallel2:45.5,units:"foot"},32054:{latitudeoforigin:42,centralmeridian:-90,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:42.733333333333,standartparallel2:44.066666666667,units:"foot"},32055:{latitudeoforigin:40.666666666667,centralmeridian:-105.166666666667,
falseeasting:5E5,falsenorthing:0,scalefactor:.999941177,units:"foot"},32056:{latitudeoforigin:40.666666666667,centralmeridian:-107.333333333333,falseeasting:5E5,falsenorthing:0,scalefactor:.999941177,units:"foot"},32057:{latitudeoforigin:40.666666666667,centralmeridian:-108.75,falseeasting:5E5,falsenorthing:0,scalefactor:.999941177,units:"foot"},32058:{latitudeoforigin:40.666666666667,centralmeridian:-110.083333333333,falseeasting:5E5,falsenorthing:0,scalefactor:.999941177,units:"foot"},32064:{latitudeoforigin:0,
centralmeridian:-99,falseeasting:1640416.67,falsenorthing:0,scalefactor:.9996,units:"foot"},32065:{latitudeoforigin:0,centralmeridian:-93,falseeasting:1640416.67,falsenorthing:0,scalefactor:.9996,units:"foot"},32066:{latitudeoforigin:0,centralmeridian:-87,falseeasting:1640416.67,falsenorthing:0,scalefactor:.9996,units:"foot"},32067:{latitudeoforigin:0,centralmeridian:-81,falseeasting:1640416.67,falsenorthing:0,scalefactor:.9996,units:"foot"},32081:{latitudeoforigin:0,centralmeridian:-53,falseeasting:304800,
falsenorthing:0,scalefactor:.9999,units:"metre"},32082:{latitudeoforigin:0,centralmeridian:-56,falseeasting:304800,falsenorthing:0,scalefactor:.9999,units:"metre"},32083:{latitudeoforigin:0,centralmeridian:-58.5,falseeasting:304800,falsenorthing:0,scalefactor:.9999,units:"metre"},32084:{latitudeoforigin:0,centralmeridian:-61.5,falseeasting:304800,falsenorthing:0,scalefactor:.9999,units:"metre"},32085:{latitudeoforigin:0,centralmeridian:-64.5,falseeasting:304800,falsenorthing:0,scalefactor:.9999,units:"metre"},
32086:{latitudeoforigin:0,centralmeridian:-67.5,falseeasting:304800,falsenorthing:0,scalefactor:.9999,units:"metre"},32098:{latitudeoforigin:44,centralmeridian:-68.5,falseeasting:0,falsenorthing:0,scalefactor:1,standartparallel1:60,standartparallel2:46,units:"metre"},32099:{latitudeoforigin:25.666666666667,centralmeridian:-91.333333333333,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:27.833333333333,standartparallel2:26.166666666667,units:"foot"},3370:{latitudeoforigin:0,centralmeridian:171,
falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},3371:{latitudeoforigin:0,centralmeridian:177,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},3771:{latitudeoforigin:0,centralmeridian:-111,falseeasting:0,falsenorthing:0,scalefactor:.9999,units:"metre"},3772:{latitudeoforigin:0,centralmeridian:-114,falseeasting:0,falsenorthing:0,scalefactor:.9999,units:"metre"},3773:{latitudeoforigin:0,centralmeridian:-117,falseeasting:0,falsenorthing:0,scalefactor:.9999,units:"metre"},
3795:{latitudeoforigin:22.35,centralmeridian:-81,falseeasting:5E5,falsenorthing:280296.016,scalefactor:1,standartparallel1:23,standartparallel2:21.7,units:"metre"},3796:{latitudeoforigin:20.716666666667,centralmeridian:-76.833333333333,falseeasting:5E5,falsenorthing:229126.939,scalefactor:1,standartparallel1:21.3,standartparallel2:20.133333333333,units:"metre"},3797:{latitudeoforigin:44,centralmeridian:-70,falseeasting:8E5,falsenorthing:0,scalefactor:1,standartparallel1:50,standartparallel2:46,units:"metre"},
3800:{latitudeoforigin:0,centralmeridian:-120,falseeasting:0,falsenorthing:0,scalefactor:.9999,units:"metre"},4399:{latitudeoforigin:0,centralmeridian:171,falseeasting:1640416.67,falsenorthing:0,scalefactor:.9996,units:"foot"},4400:{latitudeoforigin:0,centralmeridian:177,falseeasting:1640416.67,falsenorthing:0,scalefactor:.9996,units:"foot"},4401:{latitudeoforigin:0,centralmeridian:-177,falseeasting:1640416.67,falsenorthing:0,scalefactor:.9996,units:"foot"},4402:{latitudeoforigin:0,centralmeridian:-171,
falseeasting:1640416.67,falsenorthing:0,scalefactor:.9996,units:"foot"},4403:{latitudeoforigin:0,centralmeridian:-165,falseeasting:1640416.67,falsenorthing:0,scalefactor:.9996,units:"foot"},4404:{latitudeoforigin:0,centralmeridian:-159,falseeasting:1640416.67,falsenorthing:0,scalefactor:.9996,units:"foot"},4405:{latitudeoforigin:0,centralmeridian:-153,falseeasting:1640416.67,falsenorthing:0,scalefactor:.9996,units:"foot"},4406:{latitudeoforigin:0,centralmeridian:-147,falseeasting:1640416.67,falsenorthing:0,
scalefactor:.9996,units:"foot"},4407:{latitudeoforigin:0,centralmeridian:-141,falseeasting:1640416.67,falsenorthing:0,scalefactor:.9996,units:"foot"},4408:{latitudeoforigin:0,centralmeridian:-135,falseeasting:1640416.67,falsenorthing:0,scalefactor:.9996,units:"foot"},4409:{latitudeoforigin:0,centralmeridian:-129,falseeasting:1640416.67,falsenorthing:0,scalefactor:.9996,units:"foot"},4410:{latitudeoforigin:0,centralmeridian:-123,falseeasting:1640416.67,falsenorthing:0,scalefactor:.9996,units:"foot"},
4411:{latitudeoforigin:0,centralmeridian:-117,falseeasting:1640416.67,falsenorthing:0,scalefactor:.9996,units:"foot"},4412:{latitudeoforigin:0,centralmeridian:-111,falseeasting:1640416.67,falsenorthing:0,scalefactor:.9996,units:"foot"},4413:{latitudeoforigin:0,centralmeridian:-105,falseeasting:1640416.67,falsenorthing:0,scalefactor:.9996,units:"foot"},4418:{latitudeoforigin:0,centralmeridian:-75,falseeasting:1640416.67,falsenorthing:0,scalefactor:.9996,units:"foot"},4419:{latitudeoforigin:0,centralmeridian:-69,
falseeasting:1640416.67,falsenorthing:0,scalefactor:.9996,units:"foot"},4455:{latitudeoforigin:39.333333333333,centralmeridian:-77.75,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:40.966666666667,standartparallel2:39.933333333333,units:"foot"},4456:{latitudeoforigin:40.5,centralmeridian:-74,falseeasting:2E6,falsenorthing:1E5,scalefactor:1,standartparallel1:41.033333333333,standartparallel2:40.666666666667,units:"foot"},5623:{latitudeoforigin:41.5,centralmeridian:-83.666666666667,
falseeasting:5E5,falsenorthing:0,scalefactor:.999942857,units:"foot"},5624:{latitudeoforigin:41.5,centralmeridian:-85.75,falseeasting:5E5,falsenorthing:0,scalefactor:.999909091,units:"foot"},5625:{latitudeoforigin:41.5,centralmeridian:-88.75,falseeasting:5E5,falsenorthing:0,scalefactor:.999909091,units:"foot"},6201:{latitudeoforigin:43.316666666667,centralmeridian:-84.333333333333,falseeasting:2E6,falsenorthing:0,scalefactor:1.0000382,standartparallel1:44.183333333333,standartparallel2:45.7,units:"foot"},
6202:{latitudeoforigin:41.5,centralmeridian:-84.333333333333,falseeasting:2E6,falsenorthing:0,scalefactor:1.0000382,standartparallel1:42.1,standartparallel2:43.666666666667,units:"foot"},6966:{latitudeoforigin:44.783333333333,centralmeridian:-87,falseeasting:2E6,falsenorthing:0,scalefactor:1.0000382,standartparallel1:45.483333333333,standartparallel2:47.083333333333,units:"foot"},7991:{latitudeoforigin:0,centralmeridian:-79.5,falseeasting:304800,falsenorthing:0,scalefactor:.9999,units:"metre"}}}();
_geo.c.map.Fd.q4=function(){function b(a){this.QOb=_geo.c.map.Fd.pp.gb(a.initialcoordinatesystem);this.VRb=_geo.c.map.Fd.pp.gb(a.targetcoordinatesystem)}var a=new _geo.c.f.sa;_geo.c.ja(b,"geotoolkit.map.coordinatesystems.Transformer");b.prototype.transform=function(a,b){return a instanceof _geo.c.f.sa?this.hb(a,b):a instanceof _geo.c.f.Rect?this.yb(a,b):Array.isArray(a.x)&&Array.isArray(a.y)?this.ZDb(a,b):a};b.prototype.hb=function(a,b){b=this.$E().te(a.x,a.y,b);this.Vt().transform(b.x,b.y,b);return b};
b.prototype.yb=function(b,e){a.lb(b.ga(),b.ea());this.hb(a,a);var d=a.x,f=a.y;a.lb(b.ya(),b.xa());this.hb(a,a);null!=e?e.Tb(d,f,a.x,a.y):e=new _geo.c.f.Rect(d,f,a.x,a.y);return e};b.prototype.ZDb=function(b,e){var d=b.x,f=b.y;if(!Array.isArray(d)||!Array.isArray(f)||d.length!==f.length)return e;for(var h=[],l=[],k=0;k<d.length;++k)this.hb(a.lb(d[k],f[k]),a),h.push(a.x),l.push(a.y);e=e||{};e.x=h;e.y=l;return e};b.prototype.HR=function(a){this.QOb=_geo.c.map.Fd.pp.gb(a);return this};b.prototype.$E=
function(){return this.QOb};b.prototype.jva=function(a){this.VRb=_geo.c.map.Fd.pp.gb(a);return this};b.prototype.Vt=function(){return this.VRb};return b}();_geo.c.map.Fd.xIa=function(){function b(a){a=a||{};a.targetcoordinatesystem=_geo.c.map.Fd.he.Kp().it(_geo.c.map.Xu.$y);_geo.c.map.Fd.q4.call(this,a)}_geo.c.na(b,_geo.c.map.Fd.q4);_geo.c.ja(b,"geotoolkit.map.coordinatesystems.LatLonTransformer");b.prototype.transform=function(a,b){return this.$E().te(a.x,a.y,b)};return b}();
_geo.c.map.Xa.wwa=function(){function b(){}b.prototype.zd=_geo.c.Ua;b.prototype.MA=_geo.c.Ua;b.prototype.ce=_geo.c.Ua;return b}();
_geo.c.map.Xa.RJ=function(){function b(a){this.nr=a&&a.id||null;this.ev=a&&a.attributes||{};this.Xe=a&&a.geometry||null;this.lG=null}_geo.c.Rg(b,_geo.c.map.Xa.wwa);_geo.c.ja(b,"geotoolkit.map.features.AbstractFeature");b.prototype.zd=function(){return this.nr};b.prototype.Ae=function(a){this.nr=a;return this};b.prototype.ce=function(a){return a&&null!=this.lG?this.lG:this.Xe};b.prototype.Qu=function(a){this.lG=a;return this};b.prototype.fub=function(){return this.pnc||this.ce(!0)};b.prototype.WFc=
function(a){this.pnc=a;return this};b.prototype.e7=function(){return this.ROb=this.ROb||{}};b.prototype.MA=function(){return this.ev};b.prototype.gy=_geo.c.Ua;return b}();_geo.c.map.Xa.sa=function(){function b(a){_geo.c.map.Xa.RJ.call(this,a)}var a=new _geo.c.f.sa;_geo.c.na(b,_geo.c.map.Xa.RJ);_geo.c.ja(b,"geotoolkit.map.features.Point");b.prototype.gy=function(b){this.lG={};a.lb(this.Xe.x,this.Xe.y);b.h3(a,a);this.lG.x=a.ga();this.lG.y=a.ea();return this};return b}();
_geo.c.map.Xa.mK=function(){function b(a){_geo.c.map.Xa.RJ.call(this,a)}var a=new _geo.c.f.sa;_geo.c.na(b,_geo.c.map.Xa.RJ);_geo.c.ja(b,"geotoolkit.map.features.MultiPoint");b.prototype.gy=function(b){this.lG=[];for(var e=this.Xe,d=this.lG,f=0;f<e.length;f++){var h=e[f].x,l=e[f].y;a.lb(h,l);b.h3(a,a);d.push({x:a.ga(),y:a.ea()})}return this};return b}();
_geo.c.map.Xa.Rs=function(){function b(a){_geo.c.map.Xa.RJ.call(this,a)}var a=new _geo.c.f.sa;_geo.c.na(b,_geo.c.map.Xa.RJ);_geo.c.ja(b,"geotoolkit.map.features.LineString");b.prototype.gy=function(b){this.lG={};for(var e=this.Xe.x,d=this.Xe.y,f=[],h=[],l=0;l<e.length;++l)a.lb(e[l],d[l]),b.h3(a,a),f.push(a.ga()),h.push(a.ea());this.lG.x=f;this.lG.y=h;return this};return b}();
_geo.c.map.Xa.lK=function(){function b(a){_geo.c.map.Xa.RJ.call(this,a)}var a=new _geo.c.f.sa;_geo.c.na(b,_geo.c.map.Xa.RJ);_geo.c.ja(b,"geotoolkit.map.features.MultiLineString");b.prototype.gy=function(b){this.lG=[];for(var e=this.Xe,d=this.lG,f=0;f<e.length;f++){for(var h=e[f].x,l=e[f].y,k=[],m=[],q=0;q<h.length;++q)a.lb(h[q],l[q]),b.h3(a,a),k.push(a.ga()),m.push(a.ea());d.push({x:k,y:m})}return this};return b}();
_geo.c.map.Xa.If=function(){function b(a){a=a||{};_geo.c.map.Xa.RJ.call(this,a)}var a=new _geo.c.f.sa;_geo.c.na(b,_geo.c.map.Xa.RJ);_geo.c.ja(b,"geotoolkit.map.features.Polygon");b.prototype.gy=function(b){this.lG={};for(var e=this.Xe.x,d=this.Xe.y,f=[],h=[],l=0;l<e.length;++l)a.lb(e[l],d[l]),b.h3(a,a),f.push(a.ga()),h.push(a.ea());this.lG.x=f;this.lG.y=h;return this};return b}();
_geo.c.map.Xa.CM=function(){function b(a){_geo.c.map.Xa.RJ.call(this,a)}var a=new _geo.c.f.sa;_geo.c.na(b,_geo.c.map.Xa.RJ);_geo.c.ja(b,"geotoolkit.map.features.MultiPolygon");b.prototype.gy=function(b){this.lG=[];for(var e=this.Xe,d=this.lG,f=0;f<e.length;f++){for(var h=e[f].x,l=e[f].y,k=[],m=[],q=0;q<h.length;++q)a.lb(h[q],l[q]),b.h3(a,a),k.push(a.ga()),m.push(a.ea());d.push({x:k,y:m})}return this};return b}();
_geo.c.map.Xa.ZD=function(){function b(a,b){for(var f=[],g=0;g<b;g++)f[g]=[];var l=0;a.forEach(function(a){f[l].push(a);l=(l+1)%b});return f}function a(a){this.su=[];this.loa=!1;this.Xoa=-1;_geo.c.map.Xa.sa.call(this,a);this.rr=a&&a.node||null;this.cw=a&&a.parent||null;this.ooc=a&&a.VBc||0;this.bmc=a&&a.Knb||g}var g=_geo.c.f.Iterator.Hm([]);_geo.c.na(a,_geo.c.map.Xa.sa);_geo.c.ja(a,"geotoolkit.map.features.Aggregation");a.prototype.WBa=function(){return this.bmc};a.prototype.GR=function(a){var b;
if(this.n7a()===a)return this;if(a){var f,g=0;f=this;if(null!=f.getParent()){do f=f.getParent(),f.GR(!0),g++;while(null!=f.getParent());this.Xoa=f.Xoa}b=f.Nk().Brb();f=f.Nk().r7();-1===this.Xoa&&this.Hsc(b);g!==this.Xoa&&0===this.su.length&&this.Msc(b,f,g)}else for(b=0;b<this.su.length;b++)this.su[b].GR(!1);this.loa=a;null!=this.Nk()&&this.Nk().GR(a);return this};a.prototype.n7a=function(){return this.loa};a.prototype.Nk=function(){return this.rr};a.prototype.fk=function(){return this.su};a.prototype.getParent=
function(){return this.cw};a.prototype.Nn=function(){return null==this.getParent()?0:this.getParent().Nn()+1};a.prototype.Pzc=function(){return this.Nn()===this.Xoa&&this.n7a()};a.prototype.Msc=function(a,d,f){var g=this.ooc*a-Math.floor(a/2),l=this.ce(!0),k=2*Math.PI/Math.pow(a,f+1);d*=f+1;f=b(this.WBa(),a);for(var m=0;m<a;m++){var q=g+m;this.su.push(new _geo.c.map.Xa.ZD({Knb:_geo.c.f.Iterator.Hm(f[m]),VBc:q,parent:this,id:f[m].length,geometry:{x:l.x,y:l.y,offset:{x:Math.cos(k*q)*d,y:Math.sin(k*
q)*d}},attributes:{}}))}};a.prototype.Hsc=function(a){var b=this.Xoa=0,f=this.Nk().Stb()*a;for(this.WBa().forEach(function(){b++});b>f;)this.Xoa++,b=Math.floor(b/a)};return a}();_geo.c.map.Xa.Xp.lIa=function(){function b(){}b.prototype.Db=_geo.c.Ua;return b}();_geo.c.map.Xa.Xp.Jdb=function(){function b(a){this.ZJa=a}_geo.c.Rg(b,_geo.c.map.Xa.Xp.lIa);_geo.c.ja(b,"geotoolkit.map.features.strategies.AnnotationByAttribute");b.prototype.Db=function(a,b){var e=a.MA();return e?e[this.ZJa]:null};return b}();
_geo.c.map.Xa.Xp.aWa=function(){function b(){}_geo.c.Rg(b,_geo.c.map.Xa.Xp.lIa);_geo.c.ja(b,"geotoolkit.map.features.strategies.AnnotationById");b.prototype.Db=function(a,b){return a.zd()};return b}();_geo.c.map.Xa.Xp.DXa=function(){function b(){}b.prototype.AL=_geo.c.Ua;return b}();
_geo.c.map.Xa.Xp.WV=function(){function b(a){this.ZJa=a}_geo.c.Rg(b,_geo.c.map.Xa.Xp.DXa);_geo.c.ja(b,"geotoolkit.map.features.strategies.IdByAttribute");b.prototype.AL=function(a){return a[this.ZJa]};b.prototype.R1b=function(){_geo.c.warn("geotoolkit.map.features.strategies.IdByAttribute.getPropertyName() is deprecated since 2.6");return this.ZJa};b.prototype.k1=function(){return this.ZJa};return b}();
_geo.c.map.Xa.zba.qZa=function(){function b(a,b,d,f){this.hnc="string"===typeof a?a:null;this.Yoc="string"===typeof b?b:"<br/>";this.Qkb="number"===typeof d?d:5;this.Spc=!0===f}function a(a,b){if(null==a)return b.zd();var d=b.MA();return d&&d.hasOwnProperty(a)?d[a]:null}_geo.c.ja(b,"geotoolkit.map.features.formatters.SingleField");b.prototype.format=function(b,e){function d(b){b=a(h,b);l&&-1!==f.indexOf(b)||f.push(b)}var f=[],h=this.hnc,l=this.Spc;b=b||[];for(var k=0;k<b.length;++k)if(b[k]instanceof
_geo.c.map.Xa.ZD){var m=_geo.c.f.Iterator.ye(b[k].WBa());if(m.length>this.Qkb+1&&!b[k].Pzc()){for(var q=0;q<this.Qkb;++q)d(m[q]);f.push("and "+(m.length-this.Qkb)+" more\u2026")}else m.forEach(d)}else d(b[k]);return e+f.join(this.Yoc)};return b}();
_geo.c.map.Xa.zba.ehb=function(){function b(a,b){this.inc=a;this.Ep=!1!==b}_geo.c.ja(b,"geotoolkit.map.features.formatters.Table");b.prototype.format=function(a,b){if(!a||0===a.length)return b;var e,d,f,h=this.inc;if(null==h){h={};for(e=0;e<a.length;++e)for(d in f=a[e].MA(),f)f.hasOwnProperty(d)&&!h[d]&&(h[d]=!0);h=Object.keys(h)}b+="<table>";if(this.Ep)for(e=0;e<h.length;++e){var l="<tr><td>"+h[e]+":</td>";for(d=0;d<a.length;++d)f=a[d].MA(),l+="<td>"+(null!=f?f[h[e]]:null)+"</td>";b+=l+"</tr>"}else{b+=
"<tr>";for(e=0;e<h.length;++e)b+="<th>"+h[e]+"</th>";b+="</tr>";for(d=0;d<a.length;++d){b+="<tr>";for(e=0;e<h.length;++e)f=a[d].MA(),b+="<td>"+(null!=f?f[h[e]]:null)+"</td>";b+="</tr>"}}return b+"</table>"};b.gb=function(a,b){a=a||{};var e=Object.keys(a);b=!1!==b;return function(d,f){if(0===d.length)return f;f+="<table>";var h,l,k;if(b)for(l=0;l<e.length;++l){var m="<tr><td>"+e[l]+":</td>";for(k=0;k<d.length;++k)h=a[e[l]](d[k]),m+="<td>"+h+"</td>";f+=m+"</tr>"}else{f+="<tr>";for(l=0;l<e.length;++l)f+=
"<th>"+e[l]+"</th>";f+="</tr>";for(k=0;k<d.length;++k){f+="<tr>";for(l=0;l<e.length;++l)h=a[e[l]](d[k]),f+="<td>"+h+"</td>";f+="</tr>"}}return f+"</table>"}};return b}();_geo.c.map.Xa.filters.LH=function(){function b(){}b.prototype.$B=_geo.c.Ua;b.prototype.reset=_geo.c.Ua;return b}();
_geo.c.map.Xa.filters.Kdb=function(){function b(a){this.ql=a instanceof _geo.c.V.$.Text?a:new _geo.c.V.$.Text(a)}function a(a,b,d,f){var h=_geo.c.map.f.bK.EQ(a);b.apply(a,d);a=d.yj(f);return h.GA(a)}_geo.c.Rg(b,_geo.c.map.Xa.filters.LH);_geo.c.ja(b,"geotoolkit.map.features.filters.AnnotationFit");b.xea=_geo.c.f.Iterator.Hm([]);b.prototype.$B=function(g,e,d){var f=d.pa.annotations;if(!f)return b.xea;var h=f.strategy;if(!h)return b.xea;var l=this.ql;return new _geo.c.f.oxa(g,function(b){var f=h.Db(b,
d);if(!f)return!1;var g=d.ZI(b);if(!g)return!1;l.Ec(f);b=b.ce(!0);if(!Array.isArray(b))return a(b,g,l,e);for(var f=!1,p=0;p<b.length;++p){var u=b[p];u.xl=u.xl||{};!1!==u.xl.JN&&(a(u,g,l,e)?(f=!0,u.xl.JN=!0):u.xl.JN=!1)}return f})};b.prototype.reset=function(){return this};return b}();
_geo.c.map.Xa.filters.Tdb=function(){function b(){}_geo.c.Rg(b,_geo.c.map.Xa.filters.LH);_geo.c.ja(b,"geotoolkit.map.features.filters.BiggestGeometry");b.xea=_geo.c.f.Iterator.Hm([]);b.prototype.$B=function(a,g,e){g=e.pa.annotations;if(!g)return b.xea;var d=g.strategy;return d?new _geo.c.f.oxa(a,function(a){var b=d.Db(a,e);if(!b)return!1;a=a.ce(!0);if(Array.isArray(a)){var b=_geo.c.map.f.bK.EQ(a[0]),g,k=0,m;for(m=1;m<a.length;++m)g=a[m],g=_geo.c.map.f.bK.EQ(g),g.ba()*g.da()>b.ba()*b.da()&&(b=g,k=
m);for(m=0;m<a.length;++m)g=a[m],g.xl=g.xl||{},!1!==g.xl.JN&&(g.xl.JN=m===k,m!==k&&(g.xl.s4b=!0))}return!0}):b.xea};b.prototype.reset=function(){return this};return b}();
_geo.c.map.Xa.filters.ceb=function(){function b(a){this.I0a=a}_geo.c.Rg(b,_geo.c.map.Xa.filters.LH);_geo.c.ja(b,"geotoolkit.map.features.filters.ByType");b.prototype.$B=function(a,b,e){return new _geo.c.f.oxa(a,function(a){if(Array.isArray(this.I0a)){for(var b=0;b<this.I0a.length;++b)if(_geo.c.$l(a,this.I0a[b]))return!0;return!1}return _geo.c.$l(a,this.I0a)}.bind(this))};b.prototype.reset=function(){return this};return b}();
_geo.c.map.Xa.filters.iXa=function(){function b(){}_geo.c.Rg(b,_geo.c.map.Xa.filters.LH);_geo.c.ja(b,"geotoolkit.map.features.filters.EvenOddGeometry");b.xea=_geo.c.f.Iterator.Hm([]);b.prototype.$B=function(a,g,e){g=e.pa.annotations;if(!g)return b.xea;var d=g.strategy;return d?new _geo.c.f.oxa(a,function(a){var b=d.Db(a,e);if(!b)return!1;a=a.ce(!0);if(Array.isArray(a)){for(var b=!1,g=0;g<a.length;++g)if(Array.isArray(a[g].x)&&(!a[g].xl||!1!==a[g].xl.JN)){for(var k=a[g].x[0],m=a[g].y[0],q=!1,p=0;p<
a.length;++p)if(g!==p&&Array.isArray(a[p].x))for(var u=a[p],t=1;t<u.x.length;++t)u.y[t]>m!==u.y[t-1]>m&&k<u.x[t]+(u.x[t-1]-u.x[t])*(m-u.y[t])/(u.y[t-1]-u.y[t])&&(q=!q);a[g].xl=a.xl||{};q?(a[g].xl.JN=!1,a[g].xl.s4b=!0):b=a[g].xl.JN=!0}return b}return!0}):b.xea};b.prototype.reset=function(){return this};return b}();
_geo.c.map.Xa.filters.HIa=function(){function b(a,b){this.ql=a instanceof _geo.c.V.$.Text?a:new _geo.c.V.$.Text(a);this.GOb=null!=b?b:[];this.rN=[];this.zga=0}function a(a,b){return g(b)-g(a)}function g(a){a=a.ce(!0);Array.isArray(a)||(a=[a]);for(var b=_geo.c.map.f.bK.EQ(a[0]),d=b.ba()*b.da(),e=1;e<a.length;++e)b=_geo.c.map.f.bK.EQ(a[e]),d=Math.max(d,b.ba()*b.da());return d}var e=new _geo.c.f.Fc,d=_geo.c.f.Iterator.Hm([]),f=new _geo.c.f.Rect;_geo.c.Rg(b,_geo.c.map.Xa.filters.LH);_geo.c.ja(b,"geotoolkit.map.features.filters.NoAnnotationOverlap");
b.prototype.$B=function(b,g,k){var m=k.pa.annotations;if(!m)return d;var q=m.strategy;if(!q)return d;g.$a().hk(e.gd(1,1),e);return _geo.c.f.Iterator.Hm(_geo.c.f.Iterator.ye(b).sort(a).filter(function(a){for(var b=0;b<this.GOb.length;++b)if(a instanceof this.GOb[b])return!0;b=q.Db(a,k);if(!b)return!1;var d=k.Lra(a),h=d.ZI();if(!h)return!1;var m=a.ce(!0),v=a.e7(),d=d.qm();if(!Array.isArray(m))return h.apply(m,d,g),_geo.c.map.f.AC.Sqa(a,g.zk(),d,b,e),f.Tb(d.LA()-v.wla,d.my()-v.vla,d.LA()+v.wla,d.my()+
v.vla),!this.Wd(f);for(var w=!1,x=0;x<m.length;++x){var y=m[x];y.xl=y.xl||{};!1!==y.xl.JN&&(h.apply(y,d,g),_geo.c.map.f.AC.Sqa(a,g.zk(),d,b,e),f.Tb(d.LA()-v.wla,d.my()-v.vla,d.LA()+v.wla,d.my()+v.vla),this.Wd(f)?y.xl.JN=!1:(w=!0,y.xl.JN=!0))}return w}.bind(this)))};b.prototype.reset=function(){this.rN=[];this.zga=0;return this};b.prototype.Wd=function(a){var b,d=a.ua();b=0;for(var e=this.rN.length-1,f;b<=e;)if(f=b+e>>1,this.rN[f].ua()>d)e=f-1;else if(this.rN[f].ua()<d)b=f+1;else{b=f;break}f=b;e=a.ya();
for(b=f;b<this.rN.length&&!(this.rN[b].ua()>e);++b)if(this.rN[b].Wd(a))return!0;for(b=f-1;0<=b&&!(this.rN[b].ua()+this.zga<d);--b)if(this.rN[b].Wd(a))return!0;this.rN.splice(f,0,a.clone());this.zga=Math.max(this.zga,a.ba());return!1};return b}();
_geo.c.map.Xa.filters.Bhb=function(){function b(a,b){this.sI=a;this.pa={nooverlap:!1};this.bb(b);this.rN=[];this.Zmc=_geo.c.f.Iterator.Hm([])}_geo.c.Rg(b,_geo.c.map.Xa.filters.LH);_geo.c.ja(b,"geotoolkit.map.features.filters.VisibilityArea");b.prototype.bb=function(a){_geo.c.Ac(a,this.pa);return this};b.prototype.xb=function(){return _geo.c.Ac(this.pa,{})};b.prototype.$B=function(a,b,e){b=b.$a();var d=e.Wb();this.sI.Ic(0,0);var f=this.sI.T0(b);e=f&&!f.Jd();if(!e)return this.Zmc;var h=this.pa.nooverlap,
l=f.ga(),k=f.ea();return new _geo.c.f.oxa(a,function(a){if(!(a instanceof _geo.c.map.Xa.sa))return!1;a=a.ce(!0);f.zb(a.x+l);f.Eb(a.y+k);if(!d.Wd(f))return!1;if(!h)return!0;for(a=0;a<this.rN.length;a++)if(f.Wd(this.rN[a]))return!1;this.rN.push(new _geo.c.f.Rect(f));return!0}.bind(this))};b.prototype.reset=function(){this.rN=[];return this};return b}();_geo.c.map.Xa.Wm.vma=function(){function b(){}b.prototype.apply=_geo.c.Ua;return b}();
_geo.c.map.Xa.Wm.xwa=function(){function b(){}b.prototype.apply=_geo.c.Ua;return b}();
_geo.c.map.Xa.Wm.ub=function(){function b(a,b,d,f){this.x=a;this.y=b;this.size=d;this.Mh=f;this.Tyc();this.max=this.Lh+d*Math.SQRT2}function a(b){this.kq=b||a.b4.Vfb}_geo.c.Rg(a,_geo.c.map.Xa.Wm.xwa);_geo.c.ja(a,"geotoolkit.map.features.adapters.Center");a.b4={Cfc:"Centroid",$Hb:"Incenter",QFb:"CentroidOrIncenter",Vfb:"Mixed"};b.prototype.Tyc=function(){for(var a=!1,b=window.Infinity,d=1,f=this.Mh.x.length;d<f;d++)this.Mh.y[d]>this.y!==this.Mh.y[d-1]>this.y&&this.x<this.Mh.x[d]+(this.Mh.x[d-1]-this.Mh.x[d])*
(this.y-this.Mh.y[d])/(this.Mh.y[d-1]-this.Mh.y[d])&&(a=!a),b=Math.min(b,this.bDa(this.x,this.y,this.Mh.x[d-1],this.Mh.y[d-1],this.Mh.x[d],this.Mh.y[d]));this.Lh=(a?1:-1)*Math.sqrt(b)};b.prototype.split=function(){var a=this.size/2;return[new b(this.x-a,this.y-a,a,this.Mh),new b(this.x+a,this.y-a,a,this.Mh),new b(this.x-a,this.y+a,a,this.Mh),new b(this.x+a,this.y+a,a,this.Mh)]};b.prototype.bDa=function(a,b,d,f,h,l){var k=h-d,m=l-f,q=d,p=f;if(0!==k||0!==m)d=((a-d)*k+(b-f)*m)/(k*k+m*m),1<d?(q=h,p=l):
0<d&&(q+=d*k,p+=d*m);k=a-q;m=b-p;return k*k+m*m};b.swc=function(a){for(var e=0,d=0,f=0,h=1,l=a.x.length;h<l;h++)var k=a.x[h]*a.y[h-1]-a.x[h-1]*a.y[h],d=d+(a.x[h]+a.x[h-1])*k,f=f+(a.y[h]+a.y[h-1])*k,e=e+3*k;return new b(d/e,f/e,0,a)};b.s$a=function(a,b){for(var d=0,f=a.length-1,h;d<=f;)if(h=d+f>>1,a[h].max>b.max)f=h-1;else if(a[h].max<b.max)d=h+1;else{d=h;break}a.splice(d,0,b)};a.prototype.apply=function(g,e,d){if(!g.xl||!g.xl.anchor)switch(g.xl=g.xl||{},g.x.length){case 0:g.xl.anchor={x:0,y:0};break;
case 1:g.xl.anchor={x:g.x[0],y:g.y[0]};break;case 2:case 3:g.xl.anchor={x:(g.x[0]+g.x[1])/2,y:(g.y[0]+g.y[1])/2};break;default:d=b.swc(g);var f=[],h=b.s$a.bind(null,f),l=_geo.c.map.f.bK.EQ(g),k=Math.min(l.da(),l.ba())/100,m;this.kq===a.b4.$Hb||this.kq===a.b4.QFb&&0>d.Lh?(m=Math.max(l.da(),l.ba())/2,h(new b(l.rd(),l.td(),m,g))):this.kq===a.b4.Vfb&&(m=Math.min(l.da(),l.ba())/10+Math.max(0,-d.Lh),h(new b(d.x,d.y,m,g)));for(;0<f.length;)l=f.pop(),l.Lh>d.Lh&&(d=l),l.max-d.Lh>k&&l.split().forEach(h);g.xl.anchor=
{x:d.x,y:d.y}}e.Ic(g.xl.anchor.x,g.xl.anchor.y)};return a}();
_geo.c.map.Xa.Wm.M3=function(){function b(a){this.iN=5;this.jN=0;this.bb(a)}var a=new _geo.c.f.Fc;_geo.c.Rg(b,_geo.c.map.Xa.Wm.xwa);_geo.c.ja(b,"geotoolkit.map.features.adapters.Edge");b.prototype.bb=function(a){if(!a||!a.offset)return this;a.offset.hasOwnProperty("x")&&(this.iN=a.offset.x);a.offset.hasOwnProperty("y")&&(this.jN=a.offset.y);return this};b.prototype.apply=function(b,e,d){var f=this.iN,h=this.jN,l=b.x[0]>b.x[b.x.length-1]?0:b.x.length-1;0!==f||0!==h?(d=d instanceof _geo.c.f.Fa?d:d.$a(),
a.gd(f,h),d.hk(a,a),e.Ic(b.x[l]+_geo.c.f.Math.sign(f)*a.ba(),b.y[l]+_geo.c.f.Math.sign(h)*a.da())):e.Ic(b.x[l],b.y[l])};return b}();
_geo.c.map.Xa.Wm.sa=function(){function b(a){this.iN=a&&a.offset&&a.offset.x||0;this.jN=a&&a.offset&&a.offset.y||0}var a=new _geo.c.f.Fc;_geo.c.Rg(b,_geo.c.map.Xa.Wm.vma);_geo.c.Rg(b,_geo.c.map.Xa.Wm.xwa);_geo.c.ja(b,"geotoolkit.map.features.adapters.Point");b.prototype.bb=function(a){if(!a||!a.offset)return this;a.offset.hasOwnProperty("x")&&(this.iN=a.offset.x);a.offset.hasOwnProperty("y")&&(this.jN=a.offset.y);return this};b.prototype.apply=function(b,e,d){if(d){var f=this.iN+(b.offset?b.offset.x:
0),h=this.jN+(b.offset?b.offset.y:0);0!==f||0!==h?(a.gd(f,h),d=d instanceof _geo.c.f.Fa?d:d.$a(),d.hk(a,a),e.Ic(b.x+_geo.c.f.Math.sign(f)*a.ba(),b.y+_geo.c.f.Math.sign(h)*a.da())):e.Ic(b.x,b.y)}else e.Ic(b.x,b.y)};return b}();_geo.c.map.Xa.Wm.Rs=function(){function b(){}_geo.c.Rg(b,_geo.c.map.Xa.Wm.vma);_geo.c.ja(b,"geotoolkit.map.features.adapters.LineString");b.prototype.apply=function(a,b){b.hl(a.x,a.y)};return b}();
_geo.c.map.Xa.Wm.If=function(){function b(){}function a(a,b){var e=a.x,g=a.y,k=Math.min(e.length,g.length);if(0<k){b.moveTo(e[0],g[0]);for(var m=1;m<k;++m)b.lineTo(e[m],g[m]);b.close()}}var g=null,e=new _geo.c.f.Fc;_geo.c.Rg(b,_geo.c.map.Xa.Wm.vma);_geo.c.ja(b,"geotoolkit.map.features.adapters.Polygon");b.prototype.apply=function(b,f,h){f.hl(b.x,b.y);if(null==b.clip)f.Py(null);else{null==g?g=new _geo.c.attributes.yC(new _geo.c.Sa.yf,!0):g.ce().clear();var l=0,k=g.ce();if(b.clip[0]instanceof _geo.c.f.Rect){l=
h instanceof _geo.c.f.Fa?h:h.$a();h=b.clip[0];l.hk(e.gd(1,1),e);var l=h.x-e.ba(),m=h.ya()+e.ba(),q=h.y-e.da();h=h.xa()+e.da();k.moveTo(l,q);k.lineTo(m,q);k.lineTo(m,h);k.lineTo(l,h);k.lineTo(l,q);k.close();l=1}for(;l<b.clip.length;++l)a(b.clip[l],k);f.Py(g)}};return b}();
_geo.c.map.Xa.Wm.Dk=function(){function b(){}_geo.c.Rg(b,_geo.c.map.Xa.Wm.vma);_geo.c.ja(b,"geotoolkit.map.features.adapters.Path");b.prototype.apply=function(a,b){b.clear();this.gpb(a,b)};b.prototype.gpb=function(a,b){var e,d=a.x,f=a.y;b.moveTo(d[0],f[0]);for(e=1;e<d.length;++e)b.lineTo(d[e],f[e]);if(null!=a.clip){for(e=a.clip[0]instanceof _geo.c.f.Rect?1:0;e<a.clip.length;++e)this.gpb(a.clip[e],b);(e=b.Bb())&&e.dZ(!0)}return b};return b}();
_geo.c.map.Xa.ft.LZ=function(){function b(){_geo.c.f.Gd.call(this);this.Bm=[]}_geo.c.na(b,_geo.c.f.Gd);_geo.c.ja(b,"geotoolkit.map.features.converters.BaseConverter");b.prototype.rda=function(a){for(var b=0;b<a.length;++b)this.Bm.push(a[b]);return null};b.prototype.py=function(a){function b(a){return Array.isArray(a.x)?e.Wd(_geo.c.map.f.bK.EQ(a)):e.contains(a.x,a.y)}var e=a.bbox,d=a.filter;return this.Bm.filter(function(a){var e=a.ce(!0);return Array.isArray(e)?e.some(b)&&(d?d(a):!0):b(e)&&(d?d(a):
!0)})};b.prototype.nda=function(a){var b;a instanceof _geo.c.f.Iterator?a.forEach(function(a){b=this.Bm.indexOf(a);~b&&this.Bm.splice(b,1)}.bind(this)):(b=this.Bm.indexOf(a),~b&&this.Bm.splice(b,1));return this};b.prototype.clear=function(){this.Bm=[];return this};return b}();
_geo.c.map.Xa.ft.EWa=function(){function b(a){_geo.c.f.Gd.call(this);this.aI=[];if(Array.isArray(a))for(var b=0;b<a.length;++b)this.u4a(a[b]);else this.u4a(a)}_geo.c.na(b,_geo.c.f.Gd);_geo.c.ja(b,"geotoolkit.map.features.converters.CompositeConverter");b.prototype.u4a=function(a){a instanceof _geo.c.map.Xa.ft.LZ&&(this.wjb||(this.wjb=this.Lta.bind(this)),this.aI.push(a),a.tb(_geo.c.map.rc.XD.aa.x9,this.wjb));return this};b.prototype.E8b=function(a){var b=this.aI.indexOf(a);~b&&(this.aI.splice(b,1),
a.pb(_geo.c.map.rc.XD.aa.x9,this.wjb));return this};b.prototype.py=function(a){for(var b=new _geo.c.f.Oea,e,d=this.aI.length-1;0<=d;--d)e=this.aI[d].py(a),null!=e&&b.concat(e);return b};b.prototype.CAc=function(a){null==this.ujb&&(this.ujb=function(a,b,d){for(a=this.aI.length-1;0<=a&&null!=d;--a)d=this.aI[a].rda(d);this.Pa(_geo.c.map.rc.XD.aa.x9,this)}.bind(this),this.vjb=function(a,b,d){for(a=this.aI.length-1;0<=a;--a)this.aI[a].nda(d);this.Pa(_geo.c.map.rc.XD.aa.x9,this)}.bind(this),this.qOb=function(a,
b,d){if(b instanceof _geo.c.map.Ta.cwa)this.vjb(a,b,d);else{for(a=this.aI.length-1;0<=a;--a)this.aI[a].clear();this.Pa(_geo.c.map.rc.XD.aa.x9,this)}}.bind(this));a.tb(_geo.c.map.Ta.aa.lu,this.ujb);a.tb(_geo.c.map.Ta.aa.YO,this.vjb);a.tb(_geo.c.map.Ta.aa.RV,this.qOb);return this};b.prototype.qHc=function(a){a.pb(_geo.c.map.Ta.aa.lu,this.ujb);a.pb(_geo.c.map.Ta.aa.YO,this.vjb);a.pb(_geo.c.map.Ta.aa.RV,this.qOb);return this};b.prototype.Lta=function(a){this.Pa(a,this)};return b}();
_geo.c.map.Xa.ft.dz=function(){function b(){_geo.c.map.Xa.ft.LZ.call(this);var b=new a(this.Bm,function(a){return a.hi.Wd(b.hi)});this.Jya=b}function a(a,b,d){_geo.c.f.F3.call(this,a,function(a){return a.hi.Wd(this.hi)&&(this.filter?this.filter(a.pra):!0)}.bind(this));this.hi=b;this.scale=d;this.filter=null}function g(a){var b=a.ce(!0);this.pra=a;if(Array.isArray(b))for(this.OSa=[],this.cFa=[],this.hi=null,a=0;a<b.length;++a){var d=_geo.c.map.f.bK.EQ(b[a]);this.cFa.push(this.YVb(b[a]));this.OSa.push({x:[b[a].x[0]],
y:[b[a].y[0]],xl:{A6a:d}});this.hi=null!=this.hi?this.hi.zi(d):d.clone()}else this.hi=_geo.c.map.f.bK.EQ(b),this.OSa={x:[b.x[0]],y:[b.y[0]],xl:{A6a:this.hi}},this.cFa=this.YVb(b)}function e(a,b,d){var e,g=-window.Infinity,q=-1,p,u=a.x[d]-a.x[b],t=a.y[d]-a.y[b];if(0!==u||0!==t)for(p=b+1;p<d;++p)e=Math.abs((a.x[p]-a.x[b])*t-(a.y[p]-a.y[b])*u),e>g&&(g=e,q=p);else for(p=b+1;p<d;++p)u=a.x[p]-a.x[b],t=a.y[p]-a.y[b],e=u*u+t*t,e>g&&(g=e,q=p);return{id:q,Lh:g}}function d(a){return Array.isArray(a)?a.every(d):
Array.isArray(a.x)}g.prototype.YVb=function(a){var b=e(a,0,a.x.length-1);return{Mh:a,$cb:{value:b.id,scale:b.Lh}}};g.prototype.tda=function(a,b,d){for(var g=0,m=a.Mh.x.length-1,q,p=1,u=a.$cb,t=[],r=[];u;)u.scale<d||1===m-g?(b.x[p]=a.Mh.x[m],b.y[p++]=a.Mh.y[m],g=m,u=t.pop(),m=r.pop()):(u.left||(q=e(a.Mh,g,u.value),u.left={value:q.id,scale:q.Lh}),u.right||(q=e(a.Mh,u.value,m),u.right={value:q.id,scale:q.Lh}),t.push(u.right),r.push(m),m=u.value,u=u.left);b.x.length=p;b.y.length=p;4>=p&&4<=a.Mh.x.length&&
(u=a.$cb,d=a.Mh.x.length-1,u.left||(q=e(a.Mh,0,u.value),u.left={value:q.id,scale:q.Lh}),u.right||(q=e(a.Mh,u.value,d),u.right={value:q.id,scale:q.Lh}),b.x[0]=a.Mh.x[0],b.y[0]=a.Mh.y[0],u.left.scale>u.right.scale?(b.x[1]=a.Mh.x[u.left.value],b.y[1]=a.Mh.y[u.left.value],b.x[2]=a.Mh.x[u.value],b.y[2]=a.Mh.y[u.value]):(b.x[1]=a.Mh.x[u.value],b.y[1]=a.Mh.y[u.value],b.x[2]=a.Mh.x[u.right.value],b.y[2]=a.Mh.y[u.right.value]),b.x[3]=a.Mh.x[d],b.y[3]=a.Mh.y[d],b.x.length=4,b.y.length=4)};g.prototype.getFeature=
function(a){if(Array.isArray(this.cFa))for(var b=0;b<this.cFa.length;++b)this.tda(this.cFa[b],this.OSa[b],a);else this.tda(this.cFa,this.OSa,a);this.pra.WFc(this.OSa);return this.pra};_geo.c.na(a,_geo.c.f.F3);a.prototype.next=function(){var a=_geo.c.f.F3.prototype.next.call(this);return null!=a?a.getFeature(this.scale):null};_geo.c.na(b,_geo.c.map.Xa.ft.LZ);_geo.c.ja(b,"geotoolkit.map.features.converters.RDP");b.prototype.rda=function(a){for(var b=[],e=0;e<a.length;++e){var k=a[e].ce(!0);d(k)?this.Bm.push(new g(a[e])):
b.push(a[e])}return b};b.prototype.py=function(a){var b=a.scale;this.Jya.hi=a.bbox;this.Jya.filter=a.filter;this.Jya.scale=1/(8*b*b);this.Jya.reset();return this.Jya};b.prototype.nda=function(a){if(a instanceof _geo.c.f.Iterator)a.forEach(function(a){for(var b=0;b<this.Bm.length;++b)if(this.Bm[b].pra===a){this.Bm.splice(b,1);break}}.bind(this));else for(var b=0;b<this.Bm;++b)if(this.Bm[b].pra===a){this.Bm.splice(b,1);break}return this};b.prototype.clear=function(){_geo.c.map.Xa.ft.LZ.prototype.clear.call(this);
var b=new a(this.Bm,function(a){return a.hi.Wd(b.hi)});this.Jya=b;return this};return b}();
_geo.c.map.Xa.ft.Fdb=function(){function b(a){_geo.c.map.Xa.ft.LZ.call(this);this.elb=1;this.fh=2;this.TM=!0;this.A3a=0;this.Whb=3;this.Eg=30;this.yd={options:{},response:null};this.rX=null;this.wSb=function(){this.yd.response=this.o7a(this.yd.options);this.yd.timeout=null;this.Pa(_geo.c.map.rc.XD.aa.x9,this)}.bind(this);this.bb(a)}function a(a,b,d,e,g,q){this.Xa=Array.isArray(a)?a:[a];a=this.Xa[0].ce(!0);this.zn=null!=d?d:a[0]||a;this.hi=null!=e?e:new _geo.c.f.Rect(this.zn.x,this.zn.y,this.zn.x,
this.zn.y);this.parent=null!=g?g:null;this.size=null!=q?q:0;this.options=b;this.right=this.left=null;this.vXb=!1}function g(a,b){this.elements=[a,b];this.iterator=new _geo.c.f.Oea(a.Xa,b.Xa);this.weight=a.Xa.length+b.Xa.length;this.zn=d(a.zn,a.Xa.length,b.zn,b.Xa.length);this.hi=a.hi.clone().zi(b.hi);this.size=Math.max(this.hi.da(),this.hi.ba())}function e(a,b){for(var d=0,e=a.length-1,g;d<=e;)if(g=d+e>>1,a[g].size>b.size)e=g-1;else if(a[g].size<b.size)d=g+1;else if(a[g].zn.x>b.zn.x)e=g-1;else if(a[g].zn.x<
b.zn.x)d=g+1;else if(a[g].zn.y>b.zn.y)e=g-1;else if(a[g].zn.y<b.zn.y)d=g+1;else{d=g;break}a.splice(d,0,b)}function d(a,b,d,e){return{x:(a.x*b+d.x*e)/(b+e),y:(a.y*b+d.y*e)/(b+e)}}g.prototype.GR=function(a){for(var b=0;b<this.elements.length;b++)this.elements[b].GR(a)};g.prototype.Stb=function(){return this.elements[0].Stb()};g.prototype.Brb=function(){return this.elements[0].Brb()};g.prototype.r7=function(){return this.elements[0].r7()};g.prototype.iOa=function(a){if(_geo.c.$l(a,g)){for(var b=0;b<
a.elements.length;++b)this.iterator.concat(a.elements[b].Xa),this.elements.push(a.elements[b]);this.zn=d(a.zn,a.weight,this.zn,this.weight);this.weight+=a.weight}else this.elements.push(a),this.iterator.concat(a.Xa),this.zn=d(a.zn,a.Xa.length,this.zn,this.weight),this.weight+=a.Xa.length;this.hi.zi(a.hi);this.size=Math.max(this.hi.da(),this.hi.ba());return this};g.prototype.ndc=function(){return new _geo.c.map.Xa.ZD({geometry:this.zn,id:this.weight.toString(),attributes:{},Knb:this.iterator,node:this})};
g.zi=function(a,b){return _geo.c.$l(a,g)?a.iOa(b):_geo.c.$l(b,g)?b.iOa(a):new g(a,b)};a.prototype.GR=function(a){this.vXb=a};a.prototype.Stb=function(){return this.options.mBc};a.prototype.Brb=function(){return this.options.Aqc};a.prototype.r7=function(){return this.options.Nj};a.prototype.jt=function(a,b,d,k,m){if(!k)return this.Xa.filter(function(b){var d=b.ce(!0);return(a?a.contains(d[0]||d):!0)&&(m?m(b):!0)});var q=[this],p;k=b*b;for(var u=[],t=[],r={};0<q.length;)p=q.pop(),p.vXb||a&&!p.hi.Wd(a)||
(p.size<=b?(p.Ph=Math.floor(p.zn.x/b),p.Rp=Math.floor(p.zn.y/b),r[p.Ph]=r[p.Ph]||{},r[p.Ph][p.Rp]=r[p.Ph][p.Rp]?g.zi(r[p.Ph][p.Rp],p):p):(q.push(p.left),q.push(p.right)));var n,v,q=Object.keys(r);for(n=0;n<q.length;++n)for(p=Object.keys(r[q[n]]),v=0;v<p.length;++v){var w=r[q[n]][p[v]];w.Ph=+q[n];w.Rp=+p[v];e(t,w)}for(;0<t.length;)this.fEb(t.pop(),r,b,k,t);q=Object.keys(r);for(n=0;n<q.length;++n)for(p=Object.keys(r[q[n]]),v=0;v<p.length;++v)r[q[n]][p[v]]&&u.push(r[q[n]][p[v]]);2<d&&(u=this.Jqc(u,k,
d,r));b=u.map(function(a){return a.ndc()});return m?b.filter(m):b};a.prototype.G8b=function(a,b){if(a){var d=a.indexOf(b);-1!==d&&a.splice(d,1)}};a.prototype.fEb=function(a,b,d,e,m){var q=this.hsc(a,e,b);if(null!=q){var p=g.zi(a,q);b[a.Ph][a.Rp]=null;b[q.Ph][q.Rp]=null;p.Ph=Math.floor(p.zn.x/d);p.Rp=Math.floor(p.zn.y/d);this.G8b(m,q);b[p.Ph][p.Rp]?(this.G8b(m,b[p.Ph][p.Rp]),b[p.Ph][p.Rp]=g.zi(b[p.Ph][p.Rp],p),b[p.Ph][p.Rp].Ph=p.Ph,b[p.Ph][p.Rp].Rp=p.Rp):b[p.Ph][p.Rp]=p;this.fEb(b[p.Ph][p.Rp],b,d,
e,m);return!0}return!1};a.prototype.hsc=function(a,b,d){for(var e=null,g=window.Infinity,q=a.Ph-1;q<=a.Ph+1;++q)if(d[q])for(var p=a.Rp-1;p<=a.Rp+1;++p)if(d[q][p]&&d[q][p]!==a){var u=a.zn.x-d[q][p].zn.x,t=a.zn.y-d[q][p].zn.y,u=u*u+t*t;u<b&&u<g&&(g=u,e=d[q][p])}return e};a.prototype.addElement=function(b){for(var e=b.ce(!0),e=e[0]||e,g=this.Gsc(e);null!=g.parent&&g.parent.size<g.VGc(e);)g=g.parent;var k=new a(g.Xa.slice(),this.options,g.zn,g.hi.clone(),g,g.size),m=new a(b,this.options,e,null,g,0);null!=
g.left&&(k.left=g.left,k.right=g.right,k.left.parent=k,k.right.parent=k);g.left=k;g.right=m;do g.xPa(e),g.zn=d(g.zn,g.Xa.length,e,1),g.size=Math.max(g.hi.da(),g.hi.ba()),g.Xa.push(b),g=g.parent;while(null!=g)};a.prototype.ndc=function(){return 1===this.Xa.length?this.Xa[0]:new _geo.c.map.Xa.ZD({geometry:this.zn,id:this.Xa.length.toString(),attributes:{},Knb:_geo.c.f.Iterator.Hm(this.Xa),node:this})};a.prototype.Jqc=function(a,b,d,e){function m(a){for(var d=[a];0<d.length;)a=d.pop(),null!=a.left?(d.push(a.left),
d.push(a.right)):(a.Ph=Math.floor(a.zn.x/b),a.Rp=Math.floor(a.zn.y/b),q.push(a))}var q=[];a.forEach(function(a){if(_geo.c.$l(a,g)){if(a.weight<d){for(var b=0;b<a.elements.length;++b)m(a.elements[b]);e[a.Ph][a.Rp]=null}}else a.Xa.length<d&&(e[a.Ph][a.Rp]=null,m(a))});a=[];for(var p=b*b;0<q.length;){var u=q.pop(),t=this.fEb(u,e,b,p);t?(q.push.apply(q,a),a.length=0):a.push(u)}p=Object.keys(e);for(u=0;u<p.length;++u)for(var t=Object.keys(e[p[u]]),r=0;r<t.length;++r)e[p[u]][t[r]]&&a.push(e[p[u]][t[r]]);
return a};a.prototype.VGc=function(a){var b=Math.min(this.hi.x,a.x),d=Math.max(this.hi.ya(),a.x),e=Math.min(this.hi.y,a.y);a=Math.max(this.hi.xa(),a.y);return Math.max(d-b,a-e)};a.prototype.xPa=function(a){a.x<this.hi.ua()?(this.hi.rb(this.hi.ya()-a.x),this.hi.zb(a.x)):a.x>this.hi.ya()&&this.hi.rb(a.x-this.hi.ua());a.y<this.hi.ta()?(this.hi.Hb(this.hi.xa()-a.y),this.hi.Eb(a.y)):a.y>this.hi.xa()&&this.hi.Hb(a.y-this.hi.ta())};a.prototype.Gsc=function(a){var b=[this],d,e=window.Infinity,g=null;for(this.Lh=
this.Xnb(a);0<b.length;)d=b.pop(),d.Lh>=e||(null!=d.left?(d.left.Lh=d.left.Xnb(a),d.right.Lh=d.right.Xnb(a),d.left.Lh<d.right.Lh?(b.push(d.right),b.push(d.left)):(b.push(d.left),b.push(d.right))):(e=d.Lh,g=d));return g};a.prototype.Xnb=function(a){var b=Math.max(this.hi.x-a.x,a.x-this.hi.ya(),0);a=Math.max(this.hi.y-a.y,a.y-this.hi.xa(),0);return b*b+a*a};_geo.c.na(b,_geo.c.map.Xa.ft.LZ);_geo.c.ja(b,"geotoolkit.map.features.converters.Aggregator");b.prototype.rda=function(b){var d=[],e=!1;b.forEach(function(b){b instanceof
_geo.c.map.Xa.sa?(null==this.rX?this.rX=new a(b,{mBc:this.fh,Nj:this.Eg,Aqc:this.Whb}):this.rX.addElement(b),e=!0):d.push(b)}.bind(this));e&&null!=this.yd.options.bbox&&(this.yd.response=this.o7a(this.yd.options));return d};b.prototype.py=function(a){null==this.yd.response?(this.yd.response=this.o7a(a),this.yd.options=a):a.bbox&&a.bbox.Ij(this.yd.options.bbox)&&_geo.c.f.Math.lh(a.scale,this.yd.options.scale)||(this.yd.options=a,0>=this.A3a?this.wSb():(null!=this.yd.timeout&&(0,window.clearTimeout)(this.yd.timeout),
this.yd.timeout=(0,window.setTimeout)(this.wSb,this.A3a)));a=a.filter;return null!=a&&null!=this.yd.response?this.yd.response.filter(a):this.yd.response};b.prototype.nda=function(a){null==this.Ylb&&(this.Ylb=function(a){if(null!=this.rX&&a instanceof _geo.c.map.Xa.sa){for(var b=this.rX;null!=b.left;)b=-1<b.left.Xa.indexOf(a)?b.left:b.right;if(1===b.Xa.length&&b.Xa[0]===a){var e=b.parent;if(null==e)this.rX=null;else{var f=e.left===b?e.right:e.left,g=e.parent;if(null===g)this.rX.left=null,this.rX.right=
null,f.parent=null,b.parent=null,this.rX=f;else{g.left===e?g.left=f:g.right=f;f.parent=g;b.parent=null;b=g;do b.hi=b.left.hi.clone().zi(b.right.hi),b.zn=d(b.left.zn,b.left.Xa.length,b.right.zn,b.right.Xa.length),b.size=Math.max(b.hi.da(),b.hi.ba()),b.Xa.splice(b.Xa.indexOf(a),1),b=b.parent;while(null!=b)}}}}}.bind(this));a instanceof _geo.c.f.Iterator?a.forEach(this.Ylb):this.Ylb(a);null!=this.yd.options&&(this.yd.response=this.o7a(this.yd.options));return this};b.prototype.xb=function(){return{mindistance:this.elb,
min:this.fh,enabled:this.TM,timeout:this.A3a,amountAggregations:this.Whb,radius:this.Eg}};b.prototype.bb=function(a){if(!a)return this;a=_geo.c.toLowerCase(a);a.hasOwnProperty("mindistance")&&(this.elb=a.mindistance);a.hasOwnProperty("min")&&(this.fh=a.min);a.hasOwnProperty("enabled")&&(this.TM=a.enabled);a.hasOwnProperty("timeout")&&(this.A3a=a.timeout);a.hasOwnProperty("amountaggregations")&&(this.Whb=a.amountaggregations);a.hasOwnProperty("radius")&&(this.Eg=a.radius);this.yd.response=null;return this};
b.prototype.o7a=function(a){var b=a.bbox,d=a.scale;a=a.filter;d=this.elb/d;b=b?b.clone().de(.1*b.ba(),.1*b.da()):null;return null==this.rX?null:this.rX.jt(b,d,this.fh,this.TM,a)};b.prototype.clear=function(){_geo.c.map.Xa.ft.LZ.prototype.clear.call(this);null!=this.yd.timeout&&(0,window.clearTimeout)(this.yd.timeout);this.yd={options:{},response:null};this.rX=null;return this};return b}();
_geo.c.map.Ta.bd.QJ=function(){function b(){this.pya=[];this.oga={}}_geo.c.ja(b,"geotoolkit.map.sources.connectors.AbstractConnector");b.prototype.send=_geo.c.Ua;b.prototype.abort=function(a){var b;if(null==a){for(a=0;a<this.pya.length;a++)this.L0(this.pya[a]);this.pya=[];b=Object.keys(this.oga)}else if(this.oga[a])b=[a];else return this;for(a=0;a<b.length;a++)this.L0(this.oga[b[a]]),delete this.oga[b[a]];return this};b.prototype.L0=function(a){return this};b.prototype.q4a=function(a,b){null!=a?this.oga[a]=
b:this.pya.push(b);return this};b.prototype.Awc=function(a){return this.oga[a]};b.prototype.xTa=function(a,b){if(null!=a)return this.oga[a]&&delete this.oga[a],this;var e=this.pya.indexOf(b);0<=e&&this.pya.splice(e,1);return this};return b}();
_geo.c.map.Ta.bd.VV=function(){function b(){_geo.c.map.Ta.bd.QJ.call(this);this.Qoa=[];this.sT=[];this.I5={}}function a(a,b){var f=a[1].priority,g=b[1].priority;return f===g?0:g-f}var g=6;_geo.c.na(b,_geo.c.map.Ta.bd.QJ);_geo.c.ja(b,"geotoolkit.map.sources.connectors.HttpRequest");b.prototype.send=function(b,d,f){if(b){d=d||{};var h,l=d.key;this.I5[l]&&(h=this.sT.indexOf(this.I5[l]),this.sT.splice(h,1));if(this.Qoa.length<g){var k=this;this.CCc(b,d,function(a,b,d){d=k.Qoa.indexOf(d);0<=d&&k.Qoa.splice(d,
1);0<k.sT.length&&(d=k.sT.shift(),k.I5[d[1].key]&&delete k.I5[d[1].key],k.send(d[0],d[1],d[2]));f(a,b)})}else{b=[b,d,f];if(null==d.priority)d.priority=-window.Infinity,this.sT.push(b);else{h=_geo.c.f.Math.findIndex(b,this.sT,0,this.sT.length-1,a);if(0<=h)for(h++;h<this.sT.length;h++){if(0!==a(this.sT[h],b)){h--;break}}else h=~h;this.sT.splice(h,0,b)}null!=l&&(this.I5[l]=b)}}else f(Error(this.getClassName()+": No url provided"))};b.prototype.CCc=function(a,b,f){var g=new _geo.c.window.XMLHttpRequest;
g.open("GET",a,!0);b.responseType&&(g.responseType=b.responseType);var l=this,k=b.key;delete this.I5[k];g.onload=function(){l.xTa(k,g);return 200<=g.status&&400>g.status||0===g.status?f(null,g.response,g):f(Error(l.getClassName()+": "+g.statusText+"("+a+")"),null,g)};g.onerror=function(){l.xTa(k,g);return f(Error(l.getClassName()+": "+g.statusText+"("+a+")"),null,g)};this.q4a(k,g);g.send();this.Qoa.push(g)};b.prototype.abort=function(a){if(null!=a){var b;(b=this.Awc(a))?(_geo.c.map.Ta.bd.QJ.prototype.abort.call(this,
a),b=this.Qoa.indexOf(b),this.Qoa.splice(b,1)):this.I5[a]&&(b=this.sT.indexOf(this.I5[a]),this.sT.splice(b,1),delete this.I5[a])}else _geo.c.map.Ta.bd.QJ.prototype.abort.call(this),this.Qoa=[],this.sT=[],this.I5={};return this};b.prototype.L0=function(a){a.abort();return this};return b}();
_geo.c.map.Ta.bd.ema=function(){function b(){_geo.c.map.Ta.bd.QJ.call(this)}_geo.c.na(b,_geo.c.map.Ta.bd.QJ);_geo.c.ja(b,"geotoolkit.map.sources.connectors.DOMImage");b.prototype.send=function(a,b,e){if(a){var d;b&&b.dst?(d=b.dst,d.url=a):d=new _geo.c.V.$.Image({url:a,lazyloading:!0,crossorigin:"anonymous"});var f=this,h={pd:d},l=b&&b.key;h.onload=function(){d.pb(_geo.c.V.$.Image.aa.Hr,h.onload);f.xTa(l,h);e(null,d)};d.tb(_geo.c.V.$.Image.aa.Hr,h.onload);this.q4a(l,h);d.AY()}else e(Error("geotoolkit.map.sources.connectors.DOMImage: No url provided"))};
b.prototype.L0=function(a){a.pd.pb(_geo.c.V.$.Image.aa.Hr,a.onload);return this};return b}();
_geo.c.map.Ta.bd.vgb=function(){function b(){_geo.c.map.Ta.bd.ema.call(this);this.KQb=new _geo.c.map.Ta.bd.VV}var a=_geo.c.window.URL||_geo.c.window.webkitURL;_geo.c.na(b,_geo.c.map.Ta.bd.ema);_geo.c.ja(b,"geotoolkit.map.sources.connectors.PreloadedImage");b.prototype.send=function(b,e,d){if(b){var f;f=e&&e.dst?e.dst:new _geo.c.V.$.Image({lazyloading:!0,crossorigin:"anonymous"});var h={pd:f},l=this,k=e&&e.key;h.onload=function(){f.pb(_geo.c.V.$.Image.aa.Hr,h.onload);l.xTa(k,h);d(null,f)};this.KQb.send(b,
{responseType:"blob",key:k,priority:e&&e.priority},function(b,e){b?d(b):(f.url=a.createObjectURL(e),f.tb(_geo.c.V.$.Image.aa.Hr,h.onload),l.q4a(k,h),f.AY())})}else d(Error("geotoolkit.map.sources.connectors.PreloadedImage: No url provided"))};b.prototype.abort=function(a){this.KQb.abort(a);_geo.c.map.Ta.bd.ema.prototype.abort.call(this,a);return this};return b}();
_geo.c.map.Ta.bd.Ygb=function(){function b(a){_geo.c.map.Ta.bd.QJ.call(this);this.wa=a&&a.data||null}_geo.c.na(b,_geo.c.map.Ta.bd.QJ);_geo.c.ja(b,"geotoolkit.map.sources.connectors.Stub");b.prototype.send=function(a,b,e){return e(null,this.wa)};b.prototype.abort=function(a){return this};return b}();
_geo.c.map.Ta.bd.WebSocket=function(){function b(){_geo.c.map.Ta.bd.QJ.call(this)}_geo.c.na(b,_geo.c.map.Ta.bd.QJ);_geo.c.ja(b,"geotoolkit.map.sources.connectors.WebSocket");b.prototype.send=function(a,b,e){if(a){var d=new _geo.c.window.WebSocket(a),f=b&&b.key;d.onerror=function(a){e(a)};d.onclose=function(a){this.xTa(f,d);e(a)}.bind(this);d.onmessage=function(a){e(null,a.data)};this.q4a(f,d)}else e(Error(this.getClassName()+": No url provided"))};b.prototype.L0=function(a){a.close();return this};
return b}();_geo.c.map.Ta.bd.ygb=function(){function b(a){_geo.c.map.Ta.bd.QJ.call(this);this.tu=a&&a.connector||new _geo.c.map.Ta.bd.VV;this.Nr=a&&a.callback||null}_geo.c.na(b,_geo.c.map.Ta.bd.QJ);_geo.c.ja(b,"geotoolkit.map.sources.connectors.Proxy");b.prototype.send=function(a,b,e){var d=this;this.tu.send(a,b,function(a,b){"function"===typeof d.Nr&&(b=d.Nr(a,b));e(a,b)})};b.prototype.abort=function(a){this.tu.abort(a);return this};return b}();
_geo.c.map.Ta.bd.Sla=function(){function b(a){_geo.c.map.Ta.bd.QJ.call(this);this.tu=a&&a.connector||new _geo.c.map.Ta.bd.VV;this.Xmb=new _geo.c.map.Ta.bd.VV}var a={};_geo.c.na(b,_geo.c.map.Ta.bd.QJ);_geo.c.ja(b,"geotoolkit.map.sources.connectors.ArcGISToken");b.prototype.send=function(b,e,d){if(!b)return this.tu.send(b,e,d);var f=b.split(/(\/FeatureServer|\/MapServer|\/StreamServer|\/ImageServer|\?)/,2).join("");a[f]&&(b+=(0<=b.indexOf("?")?"&":"?")+"token="+a[f]);var h=this;this.tu.send(b,e,function(l,
k){if(l||"string"!==typeof k)return d(l,k);try{k=JSON.parse(k)}catch(q){return d(null,k)}if(!k.error||k.error.code!==_geo.c.pDb.kIb&&k.error.code!==_geo.c.pDb.mMb)return d(null,k);if(!e.token)return d(Error(h.getClassName()+": Authorization token should be specified"));var m=b.indexOf("/rest/");if(0>m)return d(Error(h.getClassName()+": Can't find info url"));m=b.substr(0,m)+"/rest/info?f=json";h.Xmb.send(m,e,function(k,l){if(k)return d(k);if("string"===typeof l)try{l=JSON.parse(l)}catch(m){return d(m,
l)}if(!l.authInfo||!l.authInfo.isTokenBasedSecurity)return d(Error(h.getClassName()+": Not a token based security"));if(!l.authInfo.tokenServicesUrl)return d(Error(h.getClassName()+": Can't find a token service url"));var u=l.authInfo.tokenServicesUrl+"?f=json&serverUrl="+f+"&token="+e.token;h.Xmb.send(u,e,function(k,l){if(k)return d(k);if("string"===typeof l)try{l=JSON.parse(l)}catch(m){return d(m,l)}if(!l.token)return d(null,l);a[f]=l.token;h.send(b,e,d);return null});return null});return null});
return null};b.prototype.abort=function(a){this.Xmb.abort(a);this.tu.abort(a);return this};return b}();
_geo.c.map.Ta.Ok.kM=function(){function b(a){this.tu=a&&a.connector||new _geo.c.map.Ta.bd.VV;this.La=a&&a.settings||{};this.l0a=!1;this.cAa=null;this.TK={};for(var b=_geo.c.map.f.AC.Rxb(a),e=0;e<b.length;++e)this.T2(b[e],a[b[e]])}_geo.c.ja(b,"geotoolkit.map.sources.loaders.AbstractLoader");b.prototype.es=function(a){null!=a&&(this.La=a);return this};b.prototype.Mf=function(){if(null==this.cAa){var a=this;this.l0a=!1;this.cAa=new _geo.c.f.Promise(function(b,e){var d=a.hC();null==d?b(a):(d=_geo.c.map.f.AC.MBa(d,
a.TK),a.tu.send(d,a.gca(),function(d,h){if(d)_geo.c.warn(d),e(d);else try{a.parse(h,function(d){a.l0a=!0;b(d)})}catch(l){_geo.c.warn(l),e(l)}}))})}return this.cAa};b.prototype.bta=function(){return this.l0a};b.prototype.clear=function(){this.l0a=!1;this.tu.abort();null!=this.cAa&&(this.cAa.abort(),this.cAa=null);return this};b.prototype.parse=_geo.c.Ua;b.prototype.hC=_geo.c.Ua;b.prototype.gca=function(){return null};b.prototype.T2=function(a,b){"string"===typeof b&&(b=(0,window.encodeURI)(b));this.TK[a.toLowerCase()]=
b;return this};b.prototype.Uqa=function(a){if(null==a)return this;for(var b in a.TK)a.TK.hasOwnProperty(b)&&(this.TK[b]=a.TK[b]);return this};return b}();
_geo.c.map.Ta.Ok.Mv=function(){function b(a){a=a||{};a.connector=a.connector||new _geo.c.map.Ta.bd.Sla;_geo.c.map.Ta.Ok.kM.call(this,a)}function a(a){return"esriFieldTypeOID"===a.type}_geo.c.na(b,_geo.c.map.Ta.Ok.kM);_geo.c.ja(b,"geotoolkit.map.sources.loaders.ArcGISFeature");b.prototype.parse=function(a,b){"string"===typeof a&&(a=JSON.parse(a));if(null!=a.error)throw _geo.c.map.f.Ex.warn(a.error),Error("ArcGISFeature server returned error!");var d=a.drawingInfo||{},f=a.spatialReference||a.sourceSpatialReference;
this.La.m$a=this.La.m$a&&(!a.advancedQueryCapabilities||a.advancedQueryCapabilities.supportsPagination);this.La.bBc=a.maxRecordCount;this.La.RTa||!a.minScale&&!a.maxScale||(this.La.RTa=[0<a.minScale?1/a.minScale:null,0<a.maxScale?1/a.maxScale:null]);Array.isArray(a.layers)?(this.La.rc=this.ayb(a.layers,a.type),this.La.alpha=1,this.Pua(a.fullExtent,f)):(this.La.id=this.nec(a.fields,a.displayField),this.La.tv=this.RXb(a),this.La.hM=_geo.c.map.f.Ex.k7b(d.labelingInfo),this.La.jf=_geo.c.map.f.Ex.parse(a,
this.La.url,this.La.hM),this.La.rc=[],this.La.alpha=0<d.transparency?(100-d.transparency)/100:1,this.La.ita=a.id,this.La.lAc=a.name,this.La.mAc=a.type,this.Pua(a.extent,f));this.La.Lvb=this.ptb(a.initialExtent,f);b(this)};b.prototype.hC=function(){return this.La.url?this.La.url+"?f=json":null};b.prototype.gca=function(){return{token:this.La.zla}};b.prototype.Pua=function(a,b){var d=this.La.Nl;if(null==a)this.La.Tf=d.Vt().Uq();else{this.ECb(a.spatialReference||b);var f=new _geo.c.f.sa((0,window.parseFloat)(a.xmin),
(0,window.parseFloat)(a.ymin)),h=new _geo.c.f.sa((0,window.parseFloat)(a.xmax),(0,window.parseFloat)(a.ymax));d.transform(f,f);d.transform(h,h);this.La.Tf=new _geo.c.f.Rect(f.x,f.y,h.x,h.y)}return this};b.prototype.ptb=function(a,b){if(!a)return this.La.Tf;b=a.spatialReference||b;var d=b.wkid||b.wkt||b,f=this.La.Nl.$E();if(f.WI()===d)d=this.La.Nl;else{d=_geo.c.map.Fd.pp.gb(d);if(!d)return this.La.Tf;d=new _geo.c.map.Fd.q4({initialcoordinatesystem:d,targetcoordinatesystem:this.La.Nl.Vt()})}var f=new _geo.c.f.sa((0,window.parseFloat)(a.xmin),
(0,window.parseFloat)(a.ymin)),h=new _geo.c.f.sa((0,window.parseFloat)(a.xmax),(0,window.parseFloat)(a.ymax));d.transform(f,f);d.transform(h,h);return new _geo.c.f.Rect(f.x,f.y,h.x,h.y)};b.prototype.ECb=function(a){a=a.wkid||a.wkt||a;var b=this.La.Nl.$E();if(b.WI()===a)return this;b=_geo.c.map.Fd.pp.gb(a);if(!b)throw Error("ArcGISFeature: coordinate system ("+a+") is not supported, use geotoolkit.map.coordinatesystems.Registry to register it manually.");this.La.nia.jva(b);this.La.Nl.HR(b);return this};
b.prototype.ayb=function(a,b){for(var d="Group Layer"===b?this.La.url.substr(0,this.La.url.lastIndexOf("/"))+"/":this.La.url+"/",f=0;f<a.length;++f){var h=a[f],l=a[h.parentLayerId];null!=l&&(0<l.minScale&&(h.minScale=0<h.minScale?Math.min(h.minScale,l.minScale):l.minScale),0<l.maxScale&&(h.maxScale=0<h.maxScale?Math.max(h.maxScale,l.maxScale):l.maxScale));h.url=d+h.id}return a.reverse()};b.prototype.nec=function(b,e){var d=this.La.id instanceof _geo.c.map.Xa.Xp.WV?this.La.id.k1():this.La.id;if(Array.isArray(b)&&
0<b.length&&b.every(function(a){return a.name!==d}))if("string"===typeof e)d=e;else var f=b.filter(a),d=0<f.length?f[0].name:b[0].name;return this.La.id instanceof _geo.c.map.Xa.Xp.WV&&this.La.id.k1()===d?this.La.id:new _geo.c.map.Xa.Xp.WV(d)};b.prototype.RXb=function(a){if(!Array.isArray(a.fields))return null;var b=null,d=a.fields.map(function(a){"esriFieldTypeOID"===a.type&&(b=a.name);return a.name});this.La.FLc=b;if("*"===this.La.tv)return d;var f=a.drawingInfo&&a.drawingInfo.renderer||{};a=[this.La.id.k1(),
a.displayField,f.field,f.field1,f.field2,f.field3];var h=[];Array.isArray(this.La.tv)&&(a=a.concat(this.La.tv));if(Array.isArray(f.visualVariables))for(var l=0;l<f.visualVariables.length;++l)a.push(f.visualVariables[l].field);for(f=0;f<a.length;++f)l=a[f],null!=l&&-1<d.indexOf(l)&&-1===h.indexOf(l)&&h.push(l);return 0<h.length?h:d};return b}();
_geo.c.map.Ta.Ok.Xy=function(){function b(a){a=a||{};a.connector=a.connector||new _geo.c.map.Ta.bd.Sla;_geo.c.map.Ta.Ok.kM.call(this,a)}_geo.c.na(b,_geo.c.map.Ta.Ok.kM);_geo.c.ja(b,"geotoolkit.map.sources.loaders.ArcGISImage");b.prototype.parse=function(a,b){"string"===typeof a&&(a=JSON.parse(a));if(null!=a.error)throw _geo.c.map.f.Ex.warn(a.error),Error("ArcGISImage server returned error!");var e=a.spatialReference||a.sourceSpatialReference;this.La.BH=this.La.BH||[];if(Array.isArray(a.layers)){if(0===
this.La.BH.length)for(var d=0;d<a.layers.length;++d){var f=a.layers[d];!0!==f.defaultVisibility||f.subLayerIds||this.La.BH.push(f.id)}this.La.rc=this.ayb(a.layers,a.type);this.La.rc=a.layers;this.Pua(a.fullExtent,e)}else this.La.rc=null,this.Pua(a.extent,e);this.La.Lvb=this.ptb(a.initialExtent,e);b(this)};b.prototype.clear=function(){this.La.rc=[];_geo.c.map.Ta.Ok.kM.prototype.clear.call(this)};b.prototype.hC=function(){return this.La.url?this.La.url+"?f=pjson":null};b.prototype.gca=function(){return{token:this.La.zla}};
b.prototype.Pua=function(a,b){this.ECb(a.spatialReference||b);var e=this.La.Nl,d=new _geo.c.f.sa((0,window.parseFloat)(a.xmin),(0,window.parseFloat)(a.ymin)),f=new _geo.c.f.sa((0,window.parseFloat)(a.xmax),(0,window.parseFloat)(a.ymax));e.transform(d,d);e.transform(f,f);this.La.Tf=new _geo.c.f.Rect(d.x,d.y,f.x,f.y);return this};b.prototype.ptb=function(a,b){if(!a)return this.La.Tf;b=a.spatialReference||b;var e=b.wkid||b.wkt||b,d=this.La.Nl.$E();if(d.WI()===e)e=this.La.Nl;else{e=_geo.c.map.Fd.pp.gb(e);
if(!e)return this.La.Tf;e=new _geo.c.map.Fd.q4({initialcoordinatesystem:e,targetcoordinatesystem:this.La.Nl.Vt()})}var d=new _geo.c.f.sa((0,window.parseFloat)(a.xmin),(0,window.parseFloat)(a.ymin)),f=new _geo.c.f.sa((0,window.parseFloat)(a.xmax),(0,window.parseFloat)(a.ymax));e.transform(d,d);e.transform(f,f);return new _geo.c.f.Rect(d.x,d.y,f.x,f.y)};b.prototype.ECb=function(a){a=a.wkid||a.wkt||a;var b=this.La.Nl.$E();if(b.WI()===a)return this;b=_geo.c.map.Fd.pp.gb(a);if(!b)throw Error("ArcGISImage: coordinate system ("+
a+") is not supported, use geotoolkit.map.coordinatesystems.Registry to register it manually.");this.La.nia.jva(b);this.La.Nl.HR(b);return this};b.prototype.ZL=function(a){this.La.url?this.La.c2?this.La.c2.data?a(null,this.La.c2.data):this.La.c2.error?a(this.La.c2.error):this.La.c2.W4a.push(a):(this.La.c2={W4a:[a]},a=this.La.url.endsWith("/")?"":"/",a=this.La.url+a+"legend?f=json",a=_geo.c.map.f.AC.MBa(a,this.TK),this.tu.send(a,null,function(a,b){if(a)this.o$a(a,b);else{if("string"===typeof b)try{b=
JSON.parse(b)}catch(f){this.o$a(f,b);return}var d=_geo.c.map.f.Ex.RCc(b,this.La.url);d?this.o$a(null,d):this.o$a(Error(b&&b.error||"Wrong Legend received"))}}.bind(this))):a(Error("Cannot load ArcGIS legend: no server provided"))};b.prototype.o$a=function(a,b){this.La.c2.error=a;this.La.c2.data=b;for(var e=0;e<this.La.c2.W4a.length;++e)this.La.c2.W4a[e](a,b);this.La.c2.W4a=[]};b.prototype.ayb=function(a,b){for(var e="Group Layer"===b?this.La.url.substr(0,this.La.url.lastIndexOf("/"))+"/":this.La.url+
"/",d=0;d<a.length;++d){var f=a[d],h=a[f.parentLayerId];null!=h&&(0<h.minScale&&(f.minScale=0<f.minScale?Math.min(f.minScale,h.minScale):h.minScale),0<h.maxScale&&(f.maxScale=0<f.maxScale?Math.max(f.maxScale,h.maxScale):h.maxScale));f.url=e+f.id}return a};return b}();
_geo.c.map.Ta.Ok.Ldb=function(){function b(a){_geo.c.map.Ta.Ok.Xy.call(this,a)}_geo.c.na(b,_geo.c.map.Ta.Ok.Xy);_geo.c.ja(b,"geotoolkit.map.sources.loaders.ArcGISTile");b.prototype.parse=function(a,b){"string"===typeof a&&(a=JSON.parse(a));if(null!=a.error)throw _geo.c.map.f.Ex.warn(a.error),Error("ArcGISTile server returned error!");var e=a.spatialReference||a.sourceSpatialReference;this.Pua(Array.isArray(a.layers)?a.fullExtent:a.extent,e);e=(e=a.tileInfo)?e.lods:null;if(Array.isArray(e)&&0<e.length){for(var d=
window.Infinity,f=-window.Infinity,h=0;h<e.length;++h){var l=e[h].level;null!=l&&(d=Math.min(d,l),f=Math.max(f,l))}this.La.IY=d;this.La.IU=f}this.La.v6a=function(a,b,d){return"/tile/"+a+"/"+b+"/"+d};b(this)};return b}();
_geo.c.map.Ta.Ok.Pw=function(){function b(a){_geo.c.map.Ta.Ok.kM.call(this,a)}function a(a){return a.map(function(a){return'BoundingBox[CRS="EPSG:'+a+'"]'}).join(", ")}_geo.c.na(b,_geo.c.map.Ta.Ok.kM);_geo.c.ja(b,"geotoolkit.map.sources.loaders.WMS");b.prototype.parse=function(b,e){"string"===typeof b&&(b=_geo.c.map.f.jz.parse(b));var d=b.querySelectorAll("GetMap > Format");this.JHc(d);for(var f=b.querySelectorAll('Layer[queryable="1"] > Name'),d=[],h=0;h<f.length;++h){var l=f[h].firstChild?f[h].firstChild.nodeValue:
null;if(null!=l)if(0===this.La.BH.length){this.La.BH.push(l);d=[f[h].parentNode];break}else 0<=this.La.BH.indexOf(l)&&d.push(f[h].parentNode)}for(var f=this.La.Nl.Vt(),l=[f.WI()],h=null,l=a(l),k=0;k<d.length;++k){var m=d[k].querySelector(l);if(null!=m){var q=+m.getAttribute("minx"),p=+m.getAttribute("miny"),u=+m.getAttribute("maxx"),m=+m.getAttribute("maxy");h?(h.Y8(q,p),h.Y8(u,m)):h=new _geo.c.f.Rect(q,p,u,m)}}this.La.Tf=null!=h?h.Nd(f.Uq()):f.Uq();e(this)};b.prototype.hC=function(){return this.La.url?
this.La.url+"?service=WMS&version="+this.La.version+"&request=GetCapabilities":null};b.prototype.JHc=function(a){var b=this.La.format;if(null!=b)for(var d=0;d<a.length;++d)if(a[d].firstChild&&a[d].firstChild.nodeValue===b)return this;if(0<a.length&&a[0].firstChild)this.La.format=a[0].firstChild.nodeValue;else throw Error("No formats available");return this};return b}();
_geo.c.map.Ta.Ok.WH=function(){function b(a){_geo.c.map.Ta.Ok.kM.call(this,a)}function a(a,b){g=g||new _geo.c.f.sa;var e="number"===typeof a?[a,b]:a.textContent.split(" ");return g.lb(+e[0],+e[1])}var g,e;_geo.c.na(b,_geo.c.map.Ta.Ok.kM);_geo.c.ja(b,"geotoolkit.map.sources.loaders.WFS");b.prototype.parse=function(a,b){"string"===typeof a&&(a=_geo.c.map.f.jz.parse(a));if(a.querySelector("ExceptionReport"))throw Error("Wrong GetCapabilities info!");e=e||new _geo.c.f.Rect;for(var g=null,l=this.Dvc(a.querySelectorAll("FeatureTypeList > FeatureType")),
k=0;k<l.length;++k)g=this.pHc(l[k],g);if(null!=g){var l=this.La.Nl.Vt(),k=g.pi(),m=g.Do();l.transform(k.x,k.y,k);l.transform(m.x,m.y,m);this.La.Tf=g.Tb(k.x,k.y,m.x,m.y)}else this.La.Tf=this.La.Nl.Vt().Uq();b(this)};b.prototype.hC=function(){return this.La.url?this.La.url+"?service=WFS&version="+this.La.version+"&request=GetCapabilities":null};b.prototype.pHc=function(b,f){var g=b.querySelector("DefaultSRS, DefaultCRS"),l=this.La.Nl.$E();g&&g.textContent&&(g=g.textContent.match(/\d+$/),null!=g&&l.WI()!==
+g[0]&&((l=_geo.c.map.Fd.he.Kp().it(g[0]))?(this.La.Nl.HR(l),this.La.nia.jva(l)):_geo.c.warn("WFS: coordinate system ("+g[0]+") is not supported, use geotoolkit.map.coordinatesystems.Registry to register it manually.")));if(g=b.querySelector("LatLongBoundingBox"))return l=a(+g.getAttribute("minx"),+g.getAttribute("miny")),f=f?f.Y8(l.x,l.y):e.Tb(l.x,l.y,l.x,l.y),l=a(+g.getAttribute("maxx"),+g.getAttribute("maxy")),f.Y8(l.x,l.y),f;if(g=b.querySelector("WGS84BoundingBox")||b.querySelector("BoundingBox"))l=
a(g.querySelector("LowerCorner")),f=f?f.Y8(l.x,l.y):e.Tb(l.x,l.y,l.x,l.y),l=a(g.querySelector("UpperCorner")),f.Y8(l.x,l.y);return f};b.prototype.Dvc=function(a){for(var b=[],e=null,g=0;g<a.length;++g){var k=a[g].querySelector("Name");k&&(e=null===e?g:e,(Array.isArray(this.La.Bva)&&0<=this.La.Bva.indexOf(k.textContent)||this.La.Bva===k.textContent)&&b.push(a[g]))}0===b.length&&null!==e&&(this.La.Bva=a[e].querySelector("Name").textContent,b.push(a[e]));return b};return b}();
_geo.c.map.Ta.Ok.fA=function(){function b(a){_geo.c.map.Ta.Ok.kM.call(this,a)}var a="{quadkey}",g="{tileId}",e="{zoom}",d="{subdomain}",f="{culture}";_geo.c.na(b,_geo.c.map.Ta.Ok.kM);_geo.c.ja(b,"geotoolkit.map.sources.loaders.Bing");b.prototype.parse=function(b,l){"string"===typeof b&&(b=JSON.parse(b));if(200!==b.statusCode){var k=b.errorDetails;_geo.c.warn("BingMap server returned error ("+b.statusCode+"): "+(Array.isArray(k)&&0<k.length?k.join("\n"):b.statusDescription));throw Error("BingMap server returned error!");
}var k=this.v8a(b),m=k.imageUrl.replace(f,this.La.zpb),q=m.indexOf(d),p=m.indexOf(a),u=m.indexOf(g),t=m.indexOf(e),p=Math.min.apply(null,[p,u,t,m.length].filter(function(a){return-1!==a})),r=m.substr(0,p),n=_geo.c.map.f.AC.B_b(m.substr(p),[a,g,e]);this.La.url=0>q?r:k.imageUrlSubdomains.map(function(a){return r.replace(d,a)});"number"===typeof k.imageWidth&&(this.La.Su=k.imageWidth);"number"===typeof k.imageHeight&&(this.La.Ru=k.imageHeight);"number"===typeof k.zoomMax&&(this.La.IU=k.zoomMax);"number"===
typeof k.zoomMin&&(this.La.IY=k.zoomMin);if("number"===typeof k.tilesX&&"number"===typeof k.tilesY){m=k.tilesX;q=k.tilesY;this.La.lPc=m;this.La.mPc=q;this.La.CY={};for(p=this.La.IU;p>=this.La.IY;--p)this.La.CY[p]={wJ:m-1,jO:q-1,scale:1<<p},m=Math.ceil(m/2),q=Math.ceil(q/2);m=_geo.c.map.Fd.he.Kp().it(_geo.c.map.Xu.x4);u=m.Uq();q=m.transform(this.La.hBa.x,this.La.hBa.y);p=u.ba()/this.La.CY[this.La.IU].scale;u=u.da()/this.La.CY[this.La.IU].scale;p=k.tilesX*p/2;k=k.tilesY*u/2;k=new _geo.c.f.Rect(q.x-
p,q.y-k,q.x+p,q.y+k);this.La.Nl.Vt()!==m&&(m=m.G7(this.La.Nl.Vt()),m.yb(k,k));this.La.Tf=k}else this.La.Tf=this.La.Nl.Vt().Uq();this.La.v6a=function(b,d,f){for(var h="",k=0;k<n.length;++k)switch(n[k]){case a:h+=this.Fxc(b,d,f);break;case g:h+=this.pyc(b,d,f);break;case e:h+=b;break;default:h+=n[k]}return h}.bind(this);l(this)};b.prototype.hC=function(){var a="http://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+this.La.GDa+"?c="+this.La.zpb;null!=this.La.key&&(a+="&key="+this.La.key);if(null!=this.La.hBa)a+=
"&centerPoint="+this.La.hBa.y+","+this.La.hBa.x;else if(this.La.GDa===_geo.c.map.Ta.fA.z9.qFb||this.La.GDa===_geo.c.map.Ta.fA.z9.sFb||this.La.GDa===_geo.c.map.Ta.fA.z9.rFb)throw Error("Bing Maps Birdseye imagery requires centerPoint parameter!");return a};b.prototype.v8a=function(a){if(!Array.isArray(a.resourceSets))return null;for(var b=0;b<a.resourceSets.length;++b){var d=a.resourceSets[b];if(d&&Array.isArray(d.resources))for(var e=0;e<d.resources.length;++e){var f=d.resources[e];if(f&&f.imageUrl)return f}}return null};
b.prototype.Fxc=function(a,b,d){var e="";for(a=1<<a-1;0<a;a>>=1){var f=0;0!==(d&a)&&f++;0!==(b&a)&&(f+=2);e+=f}return e};b.prototype.pyc=function(a,b,d){a=this.La.CY&&this.La.CY[a]?this.La.CY[a].wJ+1:1<<a;return a*b+d};return b}();
_geo.c.map.Ta.Ok.wp=function(){function b(a){_geo.c.map.Ta.Ok.Mv.call(this,a)}_geo.c.na(b,_geo.c.map.Ta.Ok.Mv);_geo.c.ja(b,"geotoolkit.map.sources.loaders.Stream");b.prototype.parse=function(a,b){"string"===typeof a&&(a=JSON.parse(a));if(null!=a.error)throw _geo.c.map.f.Ex.warn(a.error),Error("ArcGIS Stream server returned error!");var e=a.drawingInfo,d=a.spatialReference||a.sourceSpatialReference;this.La.id=this.nec(a.fields,a.displayField);this.La.tv=this.RXb(a);this.La.hM=_geo.c.map.f.Ex.k7b(e.labelingInfo);
this.La.jf=_geo.c.map.f.Ex.parse(a,this.La.url,this.La.hM);this.La.alpha=0<e.transparency?(100-e.transparency)/100:1;this.Pua(a.extent,d);e=a.streamUrls;this.La.Fcc=[];for(var d=this.La.Nl.$E().WI(),f=0;f<e.length;++f)for(var h=e[f],l=null!=h.token?"token="+h.token+"&":"",h=h.urls,k=0;k<h.length;++k)this.La.Fcc.push(h[k]+"/subscribe?"+l+"outSR="+d);b(this)};return b}();
_geo.c.map.Ta.Ok.LC=function(){function b(a){_geo.c.map.Ta.Ok.kM.call(this,a)}_geo.c.na(b,_geo.c.map.Ta.Ok.kM);_geo.c.ja(b,"geotoolkit.map.sources.loaders.VectorTile");b.prototype.parse=function(a,b){"string"===typeof a&&(a=JSON.parse(a));this.La.Tf=this.La.Nl.Vt().Uq();if(null!=a.tiles&&0<a.tiles.length){var e=_geo.c.map.f.AC.B_b(a.tiles[0],["{x}","{y}","{z}"]);this.La.v6a=function(a,b,d){for(var g="",m=0;m<e.length;++m)switch(e[m]){case "{x}":g+=d;break;case "{y}":g+=b;break;case "{z}":g+=a;break;
default:g+=e[m]}return g}}if(a.tileMap){var d=_geo.c.map.f.AC.MBa(this.La.url+a.tileMap,this.TK);this.tu.send(d,null,function(a,b){if(!a){if("string"===typeof b)try{b=JSON.parse(b)}catch(d){return}this.La.jdc=b.index}}.bind(this))}this.La.Pcc||a.defaultStyles?(d=this.La.Pcc||this.La.url+a.defaultStyles,d=_geo.c.map.f.AC.MBa(d,this.TK),this.tu.send(d,null,function(a,d){if(a)_geo.c.warn(a);else{if("string"===typeof d)try{d=JSON.parse(d)}catch(e){_geo.c.warn(e);b(this);return}this.La.rc=[];this.La.gg=
_geo.c.map.f.Qfb.I$a(d);b(this)}}.bind(this))):b(this)};b.prototype.hC=function(){return this.La.url?this.La.url+"?f=json":null};b.s7b=function(a){if("string"===typeof a)try{a=JSON.parse(a)}catch(b){return null}a=a.sources;if(!a)return null;for(var g in a){var e=a[g];if(null!=e&&"string"===typeof e.type&&"vector"===e.type.toLowerCase()&&"string"===typeof e.url)return e.url}return null};return b}();
_geo.c.map.Ta.cg.iu=function(){function b(a){a=a||{};_geo.c.f.Gd.call(this);this.La=a.settings||{};this.tu=a.connector||new _geo.c.map.Ta.bd.VV;this.TK={};for(var b=_geo.c.map.f.AC.Rxb(a),e=0;e<b.length;++e)this.T2(b[e],a[b[e]]);this.yp=0}_geo.c.na(b,_geo.c.f.Gd);_geo.c.ja(b,"geotoolkit.map.sources.formats.AbstractFormat");b.prototype.es=function(a){null!=a&&(this.La=a);return this};b.prototype.WN=function(a,b){b=b||this.La.url;if(null==b)return null;var e;Array.isArray(b)?(e=b[this.yp],this.yp=(this.yp+
1)%b.length):e=b;return _geo.c.map.f.AC.MBa(a?e+a:e,this.TK)};b.prototype.Mf=function(a){var b=function(a,b){a?_geo.c.warn(a):this.Ey()||this.parse(b)}.bind(this);if(Array.isArray(this.La.url))for(var e=0;e<this.La.url.length;++e)this.tu.send(this.WN(),a,b);else this.tu.send(this.WN(),a,b);return this};b.prototype.parse=_geo.c.Ua;b.prototype.Ra=function(){null!=this.tu&&this.tu.abort();_geo.c.f.Gd.prototype.Ra.call(this)};b.prototype.abort=function(a){null!=this.tu&&this.tu.abort(a);return this};
b.prototype.T2=function(a,b){"string"===typeof b&&(b=(0,window.encodeURI)(b));this.TK[a.toLowerCase()]=b;return this};b.prototype.Uqa=function(a){if(null==a)return this;for(var b in a.TK)a.TK.hasOwnProperty(b)&&(this.TK[b]=a.TK[b]);return this};return b}();
_geo.c.map.Ta.cg.Xy=function(){function b(a){a=a||{};a.connector=a.connector||new _geo.c.map.Ta.bd.Sla({connector:new _geo.c.map.Ta.bd.ema});_geo.c.map.Ta.cg.iu.call(this,a);this.Rjb=a.geometryconnector||new _geo.c.map.Ta.bd.VV}function a(a){for(var b="&layers=show:"+a[0],d=1;d<a.length;d++)b+=","+a[d];return b}_geo.c.na(b,_geo.c.map.Ta.cg.iu);_geo.c.ja(b,"geotoolkit.map.sources.formats.ArcGISImage");b.prototype.Mf=function(b){var e=b.left,d=b.right,f=b.top,h=b.bottom,l=b.width,k=b.height,m=this.La.url;
if(!m)return this;var q=m.endsWith("/")?"":"/",p=a(this.La.BH),u="export",t=new _geo.c.V.$.Image({lazyloading:!0,ax:(e+d)/2,ay:(f+h)/2,width:d-e,height:h-f,ispointingup:!0,alignment:_geo.c.f.Ca.ub,crossorigin:"anonymous"});if((m+q).endsWith("ImageServer/"))u="exportImage",p="";else if(0===this.La.BH.length)return this.Pa(_geo.c.V.$.Image.aa.Hr,t,null),this;m=this.La.Nl.Vt().WI();e=q+u+("?bbox="+e+"%2C"+f+"%2C"+d+"%2C"+h+"&size="+l+"%2C"+k)+p+"&transparent=true&imageSR="+m+"&bboxSR="+m+"&f=image";
this.tu.send(this.WN(e),{token:this.La.zla,dst:t,key:b.key},function(a,b){a?_geo.c.warn(a):this.Ey()||this.Pa(_geo.c.V.$.Image.aa.Hr,b,b.url)}.bind(this));return this};b.prototype.vO=function(a){if(!this.La.url)return this;var b=a.geometry,d=this.La.url.endsWith("/")?"":"/",f=null!=a.layer?a.layer+"/":"",h=this.La.Nl.Vt(),l=h.Uq(),h=h.WI(),k;if(b instanceof _geo.c.f.sa)k="esriGeometryPoint",b=b.ga()+","+b.ea();else if(b instanceof _geo.c.f.Rect)k="esriGeometryEnvelope",b=b.ua()+","+b.ta()+","+b.ya()+
","+b.xa();else if(b instanceof _geo.c.f.If){var m=b.dg(),q=b.Yg();k="esriGeometryPolygon";for(var b=(0,window.encodeURI)('{"rings":[['),p=0;p<m.length;p++)var u=l.ua()+(m[p]+l.ba()-l.ua())%l.ba(),b=b+("["+u+","+q[p]+"]"),b=b+(p+1!==m.length?",":(0,window.encodeURI)("]]}"))}else return this;this.Rjb.send(this.WN(d+f+"query?geometryType="+k+"&geometry="+b+"&inSR="+h+"&outFields=*&f=json"),{key:a.key},function(b,d){if("string"===typeof d)try{d=JSON.parse(d)}catch(e){d={}}this.Pa(_geo.c.map.Ta.aa.b_,
this,{layer:a.layer,data:d})}.bind(this));return this};b.prototype.Qaa=function(a){this.Rjb.abort(a);return this};b.prototype.Q1=function(a){if(!this.La.url)return this;var b=a.left,d=a.right,f=a.top,h=a.bottom,l=a.width,k=a.height,m=this.La.url.endsWith("/")?"":"/",q=this.La.Nl.Vt(),p=q.Uq(),q=q.WI(),u,t,r=a.geometry;if(r instanceof _geo.c.f.sa)u="esriGeometryPoint",t=r.ga()+","+r.ea();else if(r instanceof _geo.c.f.Rect)u="esriGeometryPolygon",t='{"rings":[['+("["+r.ua()+","+r.ta()+"],"),t+="["+
r.ya()+","+r.ta()+"],",t+="["+r.ya()+","+r.xa()+"],",t+="["+r.ua()+","+r.xa()+"],",t+="["+r.ua()+","+r.ta()+"]",t+="]]}";else if(r instanceof _geo.c.f.If){var n=r.dg(),r=r.Yg();u="esriGeometryPolygon";t='{"rings":[[';for(var v=0;v<n.length;v++){var w=p.ua()+(n[v]+p.ba()-p.ua())%p.ba();t+="["+w+","+r[v]+"]";t+=v+1!==n.length?",":"]]}"}}else return this;p=m+"identify?f=json&geometryType="+u+"&geometry="+t;(this.La.url+m).endsWith("ImageServer/")?p=p+("&inSR="+q)+("&pixelSize={x:"+Math.abs(d-b)/l+",y:"+
Math.abs(f-h)/k+"}"):(p+="&mapExtent="+b+","+f+","+d+","+h,p+="&imageDisplay="+l+","+k,p+="&sr="+q,null!=a.layers&&(p+="&layers="+a.layers),p+="&tolerance=0");p=(0,window.encodeURI)(p);this.Rjb.send(this.WN(p),{key:a.key},function(a,b){if("string"===typeof b)try{b=JSON.parse(b),b.results&&!b.features&&(b.features=b.results)}catch(d){b={}}this.Pa(_geo.c.map.Ta.aa.b_,this,{layer:-1,data:b})}.bind(this));return this};return b}();
_geo.c.map.Ta.cg.Mv=function(){function b(a){a=a||{};a.connector=a.connector||new _geo.c.map.Ta.bd.Sla;_geo.c.map.Ta.cg.iu.call(this,a);this.Zna=[];this.upa=null;this.QQb=this.IDc.bind(this)}function a(a){return Array.isArray(a)&&0<a.length?"&outFields="+a.join("%2C"):""}var g=200,e=new _geo.c.f.sa;_geo.c.na(b,_geo.c.map.Ta.cg.iu);_geo.c.ja(b,"geotoolkit.map.sources.formats.ArcGISFeature");b.prototype.Mf=function(b){function f(a,e){if(a)_geo.c.warn(a);else{if("string"===typeof e)try{e=JSON.parse(e)}catch(g){_geo.c.warn(g);
return}var h=!1;if(null!=e.error)if(504===e.error.code)h=!0;else{_geo.c.map.f.Ex.warn(e.error);return}if(!0===e.exceededTransferLimit||h){if(!u.La.m$a||h){var h=(b.left+b.right)/2,k=(b.top+b.bottom)/2;u.Mf({left:b.left,top:b.top,right:h,bottom:k,key:b.key});u.Mf({left:b.left,top:k,right:h,bottom:b.bottom,key:b.key});u.Mf({left:h,top:b.top,right:b.right,bottom:k,key:b.key});u.Mf({left:h,top:k,right:b.right,bottom:b.bottom,key:b.key});return}t+=u.La.bBc;u.tu.send(u.WN(p+"&resultOffset="+t),{token:u.La.zla,
key:b.key},f)}Array.isArray(e.features)&&0<e.features.length&&(u.Zna.push.apply(u.Zna,e.features),null==u.upa&&(u.upa=(0,window.setTimeout)(u.QQb,0)))}}var g=this.La.nia;g.hb(e.lb(b.left,b.top),e);var l=e.ga(),k=e.ea();g.hb(e.lb(b.right,b.bottom),e);var g=e.ga(),m=e.ea(),q=a(this.La.tv),p="/query?geometryType=esriGeometryEnvelope&geometry="+(0,window.encodeURIComponent)(l+","+k+","+g+","+m)+"&spatialRel=esriSpatialRelIntersects"+q+"&returnExceededLimitFeatures=false&resultType=standard&returnDistinctValues=false&f=json",
u=this,t=0;this.tu.send(this.WN(p),{token:this.La.zla,key:b.key},f);return this};b.prototype.IDc=function(){this.upa=null;if(!this.Ey()){for(var a=[],b=this.La.Nl,e=Date.now(),l=this.La.id.k1();0<this.Zna.length&&!(Date.now()>=e+g);){var k=this.Zna.shift(),m=k.geometry,q=k.attributes,k=k.symbol,k=_geo.c.map.f.Ex.ada(k)||_geo.c.map.f.Ex.bja(q,this.La.jf);if(null==k||null==m)_geo.c.warn("ArcGISFeature: feature "+(null==k?"style":"geometry")+" is not defined");else{var p=m[this.La.jf.type[2]]||m,p=_geo.c.map.f.Ex.$ca(p,
b);if(1<p.length)m=this.La.jf.type[1];else if(1===p.length)m=this.La.jf.type[0],p=p[0];else continue;q=new m({id:q[l],geometry:p,attributes:q});q.Cx=k;a.push(q)}}this.Pa(_geo.c.map.Ta.aa.lu,this,a);0<this.Zna.length&&(this.upa=(0,window.setTimeout)(this.QQb,0))}};b.prototype.abort=function(a){_geo.c.map.Ta.cg.iu.prototype.abort.call(this,a);null!=this.upa&&((0,window.clearTimeout)(this.upa),this.upa=null);0<this.Zna.length&&(this.Zna=[])};return b}();
_geo.c.map.Ta.cg.dE=function(){function b(a){_geo.c.map.Ta.cg.iu.call(this,a)}_geo.c.na(b,_geo.c.map.Ta.cg.iu);_geo.c.ja(b,"geotoolkit.map.sources.formats.GeoJSON");b.prototype.parse=function(a){"string"===typeof a&&(a=JSON.parse(a));var b=this.La.Nl;a=_geo.c.map.f.dE.parse(a,this.La.id,b.transform.bind(b));this.Pa(_geo.c.map.Ta.aa.lu,this,a);return this};return b}();
_geo.c.map.Ta.cg.Pw=function(){function b(a){a=a||{};a.connector=a.connector||new _geo.c.map.Ta.bd.ema;_geo.c.map.Ta.cg.iu.call(this,a)}function a(a){for(var b="&layers="+a[0],d=1;d<a.length;++d)b+=","+a[d];return b}_geo.c.na(b,_geo.c.map.Ta.cg.iu);_geo.c.ja(b,"geotoolkit.map.sources.formats.WMS");b.prototype.Mf=function(b){var e=b.left,d=b.right,f=b.top,h=b.bottom,l=b.width,k=b.height,m=this.La.Nl.Vt().WI(),q=new _geo.c.V.$.Image({lazyloading:!0,ax:(e+d)/2,ay:(f+h)/2,width:d-e,height:h-f,ispointingup:!0,
alignment:_geo.c.f.Ca.ub,crossorigin:"anonymous"});if(0===this.La.BH.length)return this.Pa(_geo.c.V.$.Image.aa.Hr,q,null),this;var p=a(this.La.BH),l="?service=WMS&request=GetMap&version="+this.La.version+p+"&styles=&crs=EPSG:"+m+"&bbox="+e+"%2C"+f+"%2C"+d+"%2C"+h+"&width="+l+"&height="+k+"&format="+this.La.format+"&transparent="+this.La.bEb;this.tu.send(this.WN(l),{dst:q,key:b.key},function(a,b){a?_geo.c.warn(a):this.Ey()||(b.Ld(_geo.c.f.Ca.ub),b.Ic((e+d)/2,(f+h)/2),b.xF(!0),b.gd(d-e,h-f),this.Pa(_geo.c.V.$.Image.aa.Hr,
b,b.url))}.bind(this));return this};return b}();_geo.c.map.Ta.cg.mS=function(){function b(a){_geo.c.map.Ta.cg.iu.call(this,a)}_geo.c.na(b,_geo.c.map.Ta.cg.iu);_geo.c.ja(b,"geotoolkit.map.sources.formats.KML");b.prototype.parse=function(a){"string"===typeof a&&(a=_geo.c.map.f.jz.parse(a));var b=this.La.Nl,e=function(){this.Pa(_geo.c.map.Ta.aa.lu,this,null)}.bind(this);a=_geo.c.map.f.mS.parse(a,this.La.id,b.transform.bind(b),e);this.Pa(_geo.c.map.Ta.aa.lu,this,a);return this};return b}();
_geo.c.map.Ta.cg.WH=function(){function b(a){this.ak=a&&a.format||"json";this.mN=a&&a.parser||new _geo.c.map.Ta.cg.dE;this.fNb=function(a,b,f){this.Pa(_geo.c.map.Ta.aa.lu,this,f)}.bind(this);this.mN.tb(_geo.c.map.Ta.aa.lu,this.fNb);a=a||{};a.format=null;_geo.c.map.Ta.cg.iu.call(this,a)}var a=new _geo.c.f.sa;_geo.c.na(b,_geo.c.map.Ta.cg.iu);_geo.c.ja(b,"geotoolkit.map.sources.formats.WFS");b.prototype.es=function(a){null!=a&&(this.La=a,this.mN.es(a));return this};b.prototype.Mf=function(b){var e=this.La.nia;
e.hb(a.lb(b.left,b.top),a);var d=a.ga(),f=a.ea();e.hb(a.lb(b.right,b.bottom),a);var h=a.ga(),l=a.ea(),k;k=this.La.Bva;k=Array.isArray(k)?"typeNames=("+k.join(")(")+")":"1.1.0">=this.La.version?"typeName="+k:"typeNames=("+k+")";e="1.1.0"<=this.La.version&&4326===e.Vt().WI()?f+","+d+","+l+","+h:d+","+f+","+h+","+l;e="?service=WFS&request=GetFeature&outputFormat="+this.ak+"&"+k+"&bbox="+e+"&version="+this.La.version;this.tu.send(this.WN(e),{key:b.key},function(a,b){a?_geo.c.warn(a):this.Ey()||this.mN.parse(b)}.bind(this));
return this};b.prototype.Ra=function(){this.mN.pb(_geo.c.map.Ta.aa.lu,this.fNb);this.mN.Ra();_geo.c.map.Ta.cg.iu.prototype.Ra.call(this)};return b}();
_geo.c.map.Ta.cg.lk=function(){function b(a){a=a||{};a.connector=a.connector||new _geo.c.map.Ta.bd.vgb;this.MP=a.formatterfunction;a.formatterfunction=null;_geo.c.map.Ta.cg.iu.call(this,a)}_geo.c.na(b,_geo.c.map.Ta.cg.iu);_geo.c.ja(b,"geotoolkit.map.sources.formats.Tile");b.prototype.Mf=function(a){var b=a.z,e=a.x,d=a.y,f=this.MP||this.La.v6a,b=f?f(b,d,e):null;this.tu.send(this.WN(b),{dst:a.dst,key:a.key,priority:a.priority},function(a,b){a?_geo.c.warn(a):this.Ey()||this.Pa(_geo.c.V.$.Image.aa.Hr,
b,b.url)}.bind(this));return this};b.prototype.bsa=function(){return this.MP};b.prototype.Qua=function(a){this.MP=a;return this};return b}();
_geo.c.map.Ta.cg.VJ=function(){function b(a){_geo.c.map.Ta.cg.iu.call(this,a)}function a(b){return Array.isArray(b)?b.map(a):b.toUpperCase()}function g(a,b){if(Array.isArray(b))for(var d=0;d<b.length;++d){if(0<=a.indexOf(b[d].toUpperCase()))return b[d]}else if(0<=a.indexOf(b))return b;return null}var e=new _geo.c.f.sa,d=",";_geo.c.na(b,_geo.c.map.Ta.cg.iu);_geo.c.ja(b,"geotoolkit.map.sources.formats.CSV");b.FFc=function(a){d=a};b.prototype.parse=function(b){"string"===typeof b&&(b=_geo.c.data.tWa.aWb(b,
this.La.Euc||d));if(2>b.length)return this;var h=a(b[0]),l=h.length,k=g(h,a(this.La.MEb)),m=g(h,a(this.La.NEb));if(null==k||null==m)return this;for(var q=[],p=1,u=b[p];p<b.length;u=b[++p])if(u.length===l){for(var t={},r={},n=0;n<l;++n)t[b[0][n]]=u[n],h[n]===k?null!=u[n]&&(r.x=_geo.c.map.Fd.$y.mdc(u[n])):h[n]===m&&null!=u[n]&&(r.y=_geo.c.map.Fd.$y.mdc(u[n]));this.La.Nl.Vt().transform(r.x,r.y,e);r.x=e.x;r.y=e.y;u=_geo.c.map.f.Ex.bja(t,this.La.jf);t=new _geo.c.map.Xa.sa({id:this.La.id.AL(t),attributes:t,
geometry:r});null!=u&&(t.Cx=u);q.push(t)}this.Pa(_geo.c.map.Ta.aa.lu,this,q);return this};return b}();_geo.c.map.Ta.cg.UV=function(){function b(a){_geo.c.map.Ta.cg.iu.call(this,a)}_geo.c.na(b,_geo.c.map.Ta.cg.iu);_geo.c.ja(b,"geotoolkit.map.sources.formats.GeoRSS");b.prototype.parse=function(a){"string"===typeof a&&(a=_geo.c.map.f.jz.parse(a));var b=this.La.Nl;a=_geo.c.map.f.UV.parse(a,this.La.id,b.transform.bind(b));this.Pa(_geo.c.map.Ta.aa.lu,this,a);return this};return b}();
_geo.c.map.Ta.cg.wp=function(){function b(a){a=a||{};a.connector=a.connector||new _geo.c.map.Ta.bd.Sla({connector:new _geo.c.map.Ta.bd.WebSocket});_geo.c.map.Ta.cg.iu.call(this,a)}_geo.c.na(b,_geo.c.map.Ta.cg.iu);_geo.c.ja(b,"geotoolkit.map.sources.formats.Stream");b.prototype.parse=function(a){"string"===typeof a&&(a=JSON.parse(a));var b=this.La.Nl,e=this.La.id.k1(),d=a.attributes;a=a.geometry;if(null!=this.La.jf){if(a)if(a=a[this.La.jf.type[2]]||a,a=_geo.c.map.f.Ex.$ca(a,b),1<a.length)b=this.La.jf.type[1];
else if(1===a.length)b=this.La.jf.type[0],a=a[0];else return this;else b=_geo.c.map.Xa.sa,a={x:window.NaN,y:window.NaN};e=new b({id:d[e],geometry:a,attributes:d});d=_geo.c.map.f.Ex.bja(d,this.La.jf);null!=d&&(e.Cx=d);this.Pa(_geo.c.map.Ta.aa.lu,this,[e])}return this};b.prototype.WN=function(a,b){return _geo.c.map.Ta.cg.iu.prototype.WN.call(this,a,b||this.La.Fcc)};return b}();
_geo.c.map.Ta.cg.LC=function(){function b(a){a=a||{};a.connector=a.connector||new _geo.c.map.Ta.bd.VV;this.La=this.La||{};this.La.gg={};_geo.c.map.Ta.cg.lk.call(this,a)}_geo.c.na(b,_geo.c.map.Ta.cg.lk);_geo.c.ja(b,"geotoolkit.map.sources.formats.VectorTile");b.prototype.Mf=function(a){var b=a.z,e=a.x,d=a.y,f=this.La.v6a||this.MP,f=f?f(b,d,e):null,h=a.dst,l=this;this.tu.send(this.WN(f),{responseType:"arraybuffer",key:a.key},function(a,f){if(a)_geo.c.warn(a);else if(!this.Ey()){var q=l.La.Nl,q=_geo.c.map.f.Qfb.parse(f,
e,d,b,l.La.id,q.transform.bind(q),l.La.gg,l.La.rc);0<q.names.length&&(h.Qda=q,this.Pa(_geo.c.map.Ta.aa.lu,this,h))}}.bind(this));return this};return b}();
_geo.c.map.Ta.cg.T3=function(){function b(a){a=a||{};a.connector=a.connector||new _geo.c.map.Ta.bd.VV;_geo.c.map.Ta.cg.iu.call(this,a);this.Nr=null}var a,g;_geo.c.na(b,_geo.c.map.Ta.cg.iu);_geo.c.ja(b,"geotoolkit.map.sources.formats.Lerc");b.prototype.Mf=function(a){var b=this.La.url;if(!b)return this;var f=this.vpc||1,g=b.endsWith("/")?"":"/",b=(b+g).endsWith("ImageServer/")?"exportImage":"export",l=this.La.Nl.Vt().WI(),k,m,q,p,u,t;if(1<f){t=f/a.width*(a.right-a.left);t=Math.round(this.La.Tf.width/
t)||1;var r=this.La.Tf.width/t,f=f/a.height*(a.bottom-a.top),f=Math.round(this.La.Tf.height/f)||1,n=this.La.Tf.height/f;k=Math.floor((a.left-this.La.Tf.x)/r);var v=Math.ceil((a.right-this.La.Tf.x)/r),w=Math.floor((a.top-this.La.Tf.y)/n),x=Math.ceil((a.bottom-this.La.Tf.y)/n);m=this.La.Tf.x+k*r;q=this.La.Tf.x+(v+1)*r;p=this.La.Tf.y+w*n;u=this.La.Tf.y+(x+1)*n;k="?bbox="+m+"%2C"+p+"%2C"+q+"%2C"+u+"&size="+(v-k+1)+"%2C"+(x-w+1);g=g+b+k+"&transparent=true&imageSR="+l+"&bboxSR="+l+"&f=image&format=lerc&renderingRule=%7B%22rasterFunction%22%3A%22Resample%22%2C%22rasterFunctionArguments%22%3A%7B%22ResamplingType%22%3A10%2C%22InputCellSize%22%3A%7B%22x%22%3A"+
1/t+"%2C%22y%22%3A"+1/f+"%7D%7D%7D";this.tu.send(this.WN(g),{responseType:"arraybuffer",key:a.key},function(a,b){if(a)_geo.c.warn(a);else if(!this.Ey()){b=this.PCc(b,m,u,r,n);for(var d=0;d<b.length;++d){var e=_geo.c.map.f.Ex.bja(b[d].MA(),this.La.jf);null!=e&&(b[d].Cx=e)}this.Pa(_geo.c.map.Ta.aa.lu,this,b)}}.bind(this))}else m=a.left,q=a.right,p=a.top,u=a.bottom,t=a.width,f=a.height,k="?bbox="+m+"%2C"+p+"%2C"+q+"%2C"+u+"&size="+t+"%2C"+f,this.tu.send(this.WN(g+b+k+"&transparent=true&imageSR="+l+"&bboxSR="+
l+"&f=image&format=lerc"),{responseType:"arraybuffer",key:a.key},function(a,b){if(a)_geo.c.warn(a);else if(!this.Ey()){var d=this.NCc(b),d=new _geo.c.V.$.Image({url:d,alignment:_geo.c.f.Ca.ub,ax:(m+q)/2,ay:(p+u)/2,ispointingup:!0,width:q-m,height:p-u});d.tb(_geo.c.V.$.Image.aa.Hr,this.mc())}}.bind(this));return this};b.prototype.PCc=function(a,b,f,g,l){var k=_geo.c.map.f.T3.decode(a);a=k.width;var m=k.height,q=k.nj,k=k.br,p=[];f-=l/2;for(var u=0,t=0;t<m;f-=l,t++)for(var r=b+g/2,n=0;n<a;r+=g,n++)k&&
!k[u]||p.push(new _geo.c.map.Xa.sa({attributes:{Magnitude:q[0]&&q[0][u],Direction:q[1]&&q[1][u]},geometry:{x:r,y:f}})),u++;return p};b.prototype.NCc=function(b){var d=_geo.c.map.f.T3.decode(b),f=d.width,g=d.height;b=d.nj;var l=d.br;a=null!=a?a.gd(f,g):new _geo.c.Sa.canvas.Fr(f,g,!0);var k=a.pk().getImageData(0,0,f,g),m=k.data,q,p,f=f*g,g=b.length;if(1===g)if(g=d.Cr[0].minValue,d=d.Cr[0].maxValue,p=255/(d-g),l)for(q=0;q<f;q++)l[q]?(d=this.Kc((b[0][q]-g)*p),m[4*q]=d.Mp(),m[4*q+1]=d.Lp(),m[4*q+2]=d.Jp(),
m[4*q+3]=d.Ip()):(m[4*q]=0,m[4*q+1]=0,m[4*q+2]=0,m[4*q+3]=0);else for(q=0;q<f;q++)d=this.Kc((b[0][q]-g)*p),m[4*q]=d.Mp(),m[4*q+1]=d.Lp(),m[4*q+2]=d.Jp(),m[4*q+3]=d.Ip();else if(3<=g)if(g=Math.min.apply(null,d.Cr.map(function(a){return a.minValue})),d=Math.max.apply(null,d.Cr.map(function(a){return a.maxValue})),p=255/(d-g),l)for(q=0;q<f;q++)l[q]?(m[4*q]=(b[0][q]-g)*p,m[4*q+1]=(b[1][q]-g)*p,m[4*q+2]=(b[2][q]-g)*p,m[4*q+3]=255):(m[4*q]=0,m[4*q+1]=0,m[4*q+2]=0,m[4*q+3]=0);else for(q=0;q<f;q++)m[4*q]=
(b[0][q]-g)*p,m[4*q+1]=(b[1][q]-g)*p,m[4*q+2]=(b[2][q]-g)*p,m[4*q+3]=255;a.pk().putImageData(k,0,0);return a.Lk().toDataURL()};b.prototype.mc=function(){if(null==this.Nr){var a=this;this.Nr=function(b,f,g){f.pb(_geo.c.V.$.Image.aa.Hr,a.Nr);a.Pa(_geo.c.V.$.Image.aa.Hr,f,g)}}return this.Nr};b.prototype.Kc=function(a){this.sA=this.sA||{};a=Math.round(a);if(!this.sA[a]){var b=this.Xd||g;null==b&&(b=g=new _geo.c.f.er({values:[0,1],colors:["black","white"]}));this.sA[a]=b.Kc(a/255)}return this.sA[a]};b.prototype.T2=
function(a,b){a=a.toLowerCase();"colorprovider"===a&&b instanceof _geo.c.f.Te?this.Xd=b:"symboltilesize"===a?this.vpc=b:_geo.c.map.Ta.cg.iu.prototype.T2.call(this,a,b);return this};return b}();
_geo.c.map.Ta.lj.WR=function(){function b(a,b){_geo.c.f.Gd.call(this);this.ak=a;this.La=b;null!=a&&this.pJ(a)}_geo.c.na(b,_geo.c.f.Gd);_geo.c.ja(b,"geotoolkit.map.sources.managers.AbstractManager");b.prototype.Ra=function(){this.clear();null!=this.ak&&this.ak.Ra();_geo.c.f.Gd.prototype.Ra.call(this)};b.prototype.pJ=_geo.c.Ua;b.prototype.Mf=_geo.c.Ua;b.prototype.clear=function(){this.abort();return this};b.prototype.abort=function(){this.ak.abort();return this};return b}();
_geo.c.map.Ta.lj.ci=function(){function b(a,b){_geo.c.map.Ta.lj.WR.call(this,a,b);this.DN=null;this.K$={};this.xp={};this.dAa=null;this.ZKa=this.jha=!1;this.ew=window.Infinity}var a=new _geo.c.f.Rect,g=new _geo.c.f.Rect;_geo.c.na(b,_geo.c.map.Ta.lj.WR);_geo.c.ja(b,"geotoolkit.map.sources.managers.Vector");b.prototype.Mf=function(b,d){if(!this.La.url)return this;var f=this.La.Tf,g=this.La.mode,l=this.La.vab,k,m;if(null!=b){if(!b.Wd(f))return this;b=a.Tb(b).Nd(f)}else g=_geo.c.map.Xa.Uea.gea,b=f;var q=
d?d.Za():_geo.c.f.Fa.XV,p=q.Rb();switch(g){case _geo.c.map.Xa.Uea.gea:return this.w7a(0,0)?this.jha=!1:(this.jha=!0,this.ZKa=!1,this.ak.abort(),this.lTa(f,q),this.kbb(0,0,!0)),this;case _geo.c.map.Xa.Uea.nFb:if(null!=this.dAa&&this.dAa.Ij(b)&&_geo.c.f.Math.lh(this.ew,p))return this;this.jha=!0;this.ZKa=!1;this.ak.abort();this.dAa=this.dAa?this.dAa.Tb(b):b.clone();this.ew=p;this.I9b(function(){this.lTa(this.dAa,q)});return this;case _geo.c.map.Xa.Uea.lk:g=new _geo.c.f.Fc(256,256);q.hk(g,g);k=g.ba();
m=g.da();_geo.c.f.Math.lh(this.ew,p)||(this.ZKa=this.jha=!0,this.ak.abort(),this.xp={},this.ew=p);break;case _geo.c.map.Xa.Uea.cK:this.jha=!1;this.ZKa=!0;k=f.ba()/l;m=f.da()/l;break;default:return this}var u=Math.floor((b.ua()-f.ua())/k),t=Math.ceil((b.ya()-f.ua())/k),r=Math.floor((b.ta()-f.ta())/m),n=Math.ceil((b.xa()-f.ta())/m);this.I9b(function(){for(var b=a.rb(k).Hb(m),d=u;d<t;d++)for(var e=r;e<n;e++)this.w7a(d,e)||(this.lTa(b.zb(f.ua()+d*k).Eb(f.ta()+e*m),q),this.kbb(d,e,!0))});return this};
b.prototype.pJ=function(){var a=this.crb.bind(this),b=function(b,d,g){b===_geo.c.map.Ta.aa.lu&&null!=g&&(this.jha&&(this.K$={},this.jha=!1,this.Pa(_geo.c.map.Ta.aa.RV,this)),this.ZKa&&(g=g.filter(a)));this.Pa(b,this,g)}.bind(this);this.ak.tb(_geo.c.map.Ta.aa.lu,b);this.ak.tb(_geo.c.map.Ta.aa.YO,b);this.ak.tb(_geo.c.map.Ta.aa.RV,b);return this};b.prototype.w7a=function(a,b){return this.xp[a]&&this.xp[a][b]};b.prototype.kbb=function(a,b,f){this.xp[a]=this.xp[a]||{};this.xp[a][b]=f;return this};b.prototype.lTa=
function(a,b){b.yb(a,g);this.ak.Mf({left:a.ua(),top:a.ta(),right:a.ya(),bottom:a.xa(),width:g.ba(),height:g.da()})};b.prototype.crb=function(a){var b=_geo.c.map.f.AC.Pcb(a.ce());return null==this.K$[b]?(this.K$[b]=a,!0):_geo.c.map.f.AC.drb(a,this.K$[b])?!1:(Array.isArray(this.K$[b])?this.K$[b].push(a):this.K$[b]=[this.K$[b],a],!0)};b.prototype.sQa=function(){return this.ak};b.prototype.I9b=function(a){null!=this.DN&&(0,window.clearTimeout)(this.DN);this.DN=(0,window.setTimeout)(function(){a.call(this);
this.DN=null}.bind(this),this.La.timeout)};b.prototype.abort=function(){null!=this.DN&&((0,window.clearTimeout)(this.DN),this.DN=null);return _geo.c.map.Ta.lj.WR.prototype.abort.call(this)};b.prototype.clear=function(){_geo.c.map.Ta.lj.WR.prototype.clear.call(this);this.xp={};this.K$={};this.ew=window.Infinity;this.jha=!1;return this};return b}();
_geo.c.map.Ta.lj.Image=function(){function b(a,b,e){a=a.yb(b);b=Math.floor(a.ua());var g=Math.ceil(a.ya());b<e.ua()?(g+=e.ua()-b,g=Math.min(g,e.ya()),b=e.ua()):g>e.ya()&&(b+=e.ya()-g,b=Math.max(b,e.ua()),g=e.ya());var k=Math.floor(a.ta()),m=Math.ceil(a.xa());k<e.ta()?(m+=e.ta()-k,m=Math.min(m,e.xa()),k=e.ta()):m>e.xa()&&(k+=e.xa()-m,k=Math.max(k,e.ta()),m=e.xa());return a.Tb(b,k,g,m)}function a(a,b){var e=1E-5;return b.ua()>=a.ua()-e&&b.ya()<=a.ya()+e&&b.ta()>=a.ta()-e&&b.xa()<=a.xa()+e}function g(a,
b){_geo.c.map.Ta.lj.WR.call(this,a,b);this.xu=[]}var e=.001;_geo.c.na(g,_geo.c.map.Ta.lj.WR);_geo.c.ja(g,"geotoolkit.map.sources.managers.Image");g.prototype.Mf=function(a,e){this.La.MGa||(a=e.Wb(!0));var g=e.Za(),l=g.Rb(),l=this.ai(a,l);if(!l)return this;null!=this.DN&&((0,window.clearTimeout)(this.DN),this.DN=null);this.DN=(0,window.setTimeout)(function(){for(var a=g.yb(this.La.MGa?this.La.Tf:this.La.Nl.Vt().Uq()),d=0;d<this.xu.length;++d){var e=this.xu[d];if(!this.xu[d].pab){var f=b(g,e.eb,a);
g.xe(f,e.eb);var l=Math.round(f.ba()),f=Math.round(f.da());this.ak.Mf({left:e.eb.ga(),top:e.eb.ta(),right:e.eb.ya(),bottom:e.eb.xa(),width:Math.max(l,1),height:Math.max(f,1)});e.pab=!0}}this.DN=null}.bind(this),this.La.timeout);return this};g.prototype.ai=function(b,e){var g=this.La.Nl.Vt().Uq(),l=[];if(g.GA(b))this.La.MGa&&b.Nd(this.La.Tf),b.Jd()||l.push(b);else{var k=b.clone().Nd(g);this.La.MGa&&k.Nd(this.La.Tf);k.Jd()||l.push(k);k=b.ga()>g.ga()?g.ba():-g.ba();k=g.clone().Nd(b.translate(-k,0));
this.La.MGa&&k.Nd(this.La.Tf);k.Jd()||l.push(k)}var m,k=this.La.de*b.ba(),q=this.La.de*b.da(),p=this.La.MGa?this.La.Tf:g;if(!_geo.c.f.Math.lh(this.ew,e)||0===l.length){this.ew=e;this.xu=[];for(g=0;g<l.length;++g)this.xu.push({eb:l[g].de(k,q).Nd(p),pab:!1});return!0}for(var u=[],t=!1,g=0;g<l.length;g++){for(m=0;m<this.xu.length&&!a(this.xu[m].eb,l[g]);m++);m===this.xu.length?(u.push({eb:l[g].de(k,q).Nd(p),pab:!1}),t=!0):(this.xu[m].pab||(l[g].de(k,q).Nd(p),t=t||this.xu[m].eb.GA(l[g]),this.xu[m].eb.zi(l[g])),
0>u.indexOf(this.xu[m])&&u.push(this.xu[m]))}this.xu=u;return t};g.prototype.pJ=function(){this.ak.tb(_geo.c.V.$.Image.aa.Hr,function(a,b){for(var g=!0,l=0;l<this.xu.length;++l)this.xu[l].eb.Ij(b.ha(),e)?this.xu[l].u4b=b:this.xu[l].u4b||(g=!1);g&&(g=this.xu.map(function(a){return a.u4b}),this.Pa(a,this,g))}.bind(this));return this};g.prototype.abort=function(){null!=this.DN&&((0,window.clearTimeout)(this.DN),this.DN=null);return _geo.c.map.Ta.lj.WR.prototype.abort.call(this)};g.prototype.clear=function(){_geo.c.map.Ta.lj.WR.prototype.clear.call(this);
this.xu=[];this.rn=[];this.ew=null;return this};return g}();
_geo.c.map.Ta.lj.lk=function(){function b(a,b){_geo.c.map.Ta.lj.WR.call(this,a,b);this.fy={};this.Rna=0;this.Lt={};this.iL=this.gL=-1;this.EA={}}function a(a,b,f){return Math.round(Math.log(a/b/f)/Math.LN2)}function g(a){a=Math.sin(a*Math.PI/180);a=Math.log((1+a)/(1-a))/2;return Math.max(Math.min(a,Math.PI),-Math.PI)/2}_geo.c.na(b,_geo.c.map.Ta.lj.WR);_geo.c.ja(b,"geotoolkit.map.sources.managers.Tile");b.prototype.Mf=function(a,b){var f=b.Za();if(null==this.La.Tf||a.Jd()||!this.La.Tf.Wd(a)||!f)return this;
var f=this.Mqa(a.clone().Nd(this.La.Tf),f),g=f.z;this.wEb(g,f.Usa,f.Jyb);this.znb(f.Usa.RL,f.Usa.mO,f.Usa.wJ,f.Usa.jO);this.iL=g;var l=this.gL;-1===l?this.gL=g:l!==g&&(l=this.jrb(),l>=this.La.IY&&(this.gL=l));l=Date.now();this.oab(g,f.Jyb,l);this.oab(g,f.Usa,l);return this};b.prototype.pJ=function(){this.ak.tb(_geo.c.V.$.Image.aa.Hr,function(a,b){this.EA[b.Mg+"x"+b.NE]=null;this.Lt[b.Mg][b.NE]=b;this.iL===b.Mg&&this.QRa()&&this.Pa(_geo.c.map.Ta.aa.BS,this,null)}.bind(this));this.ak.tb(_geo.c.V.$.Image.aa.nfb,
function(a,b){this.EA[b.Mg+"x"+b.NE]="N/A";this.Rna--}.bind(this));return this};b.prototype.Mqa=function(b,d){function f(a,b,d,e){var f=Math.floor((a.ua()-p.ua())/b);b=Math.ceil((a.ya()-p.ua())/b)-1;var g=Math.floor((a.ta()-p.ta())/d);a=Math.ceil((a.xa()-p.ta())/d)-1;return{RL:Math.max(f,0),wJ:Math.min(b,e.ba()-1),mO:Math.max(g,0),jO:Math.min(a,e.da()-1)}}var h=d.yb(b),l=this.La.Nl.Vt(),k=l.te(b.ua(),b.ta()),m=l.te(b.ya(),b.xa()),q=(g(m.y)-g(k.y))/Math.PI,k=m.x-k.x,k=(0>k?k+360:k)/360,q=a(h.da(),
this.La.Ru,q),k=a(h.ba(),this.La.Su,k),q=Math.min(q,k),q=_geo.c.f.Math.Du(q,this.La.IY,this.La.IU),p=d.yb(l.Uq()),l=this.aJ(q),k=p.ba()/l.ba(),m=p.da()/l.da(),u=this.aJ(),t=p.ba()/u.ba(),r=p.da()/u.da(),n=d.yb(this.La.Tf);return{z:q,Jyb:f(h,k,m,l),$Hc:f(h,t,r,u),Usa:f(h.de(h.ba()/10,h.da()/10).Nd(n),k,m,l)}};b.prototype.jrb=function(){if(this.QRa())return this.iL;if(this.gL>this.iL)return this.gL;var a=this.iL,b;for(b in this.fy)if(this.fy[b]){var f=this.fy[b].Ph,g=this.fy[b].Rp,l;for(l=this.iL;l>
this.La.IY&&(!this.Lt[l]||!this.Lt[l][f+"x"+g]);l--)f=Math.floor(f/2),g=Math.floor(g/2);a=Math.min(a,l)}return a};b.prototype.oab=function(a,b,f){this.Lt[a]=this.Lt[a]||{};for(var g=Math.floor((b.RL+b.wJ)/2),l=Math.floor((b.mO+b.jO)/2),k=0,m=(b.wJ-b.RL+1)*(b.jO-b.mO+1),q=1,p=0,u=1,t=0;k<m;)g>=b.RL&&g<=b.wJ&&l>=b.mO&&l<=b.jO&&(this.tka(a,g,l,f),k++),g+=q,l+=p,++t===u&&(t=0,0===q?(q=-p,p=0,u++):(p=q,q=0))};b.prototype.tka=function(a,b,f,g){var l=b+"x"+f,k=a+"x"+l,m=this.Lt[a][l]||this.EA[k];null!=m?
m.timestamp=g:(m=this.J1b(),m.yp=b,m.nga=f,m.Mg=a,m.NE=l,m.loaded=!1,m.timestamp=g,this.EA[k]=m,this.ak.Mf({z:a,x:b,y:f,dst:m,key:k,priority:g}))};b.prototype.znb=function(a,b,f,g){for(var l=Object.keys(this.EA),k=0===a||this.aJ().ba()-1===f,m=0;m<l.length;m++){var q=this.EA[l[m]];q&&!this.Bja(q,k,a,b,f,g)&&(this.ak.abort(l[m]),this.EA[l[m]]=null,q instanceof _geo.c.V.$.Image&&(q.Ra(),this.Rna--))}return this};b.prototype.Bja=function(a,b,f,g,l,k){if(a.Mg!==this.iL)return!1;if(!b)return a.yp>=f&&
a.yp<=l&&a.nga>=g&&a.nga<=k;for(b=Math.max(a.yp-1,0);b<=a.yp+1;b++)for(f=Math.max(a.nga-1,0);f<=a.nga+1;f++)if(this.fy[b+"x"+f])return!0;return!1};b.prototype.B5a=function(){return new _geo.c.V.$.Image({lazyloading:!0,crossorigin:"anonymous"})};b.prototype.J1b=function(){if(this.Rna>this.La.O$a&&0<this.La.O$a){for(var a=null,b=window.Infinity,f=this.La.IY;f<this.La.IU;++f)if(this.Lt[f]&&(f!==this.gL||f===this.iL))for(var g in this.Lt[f]){var l=this.Lt[f][g];l&&b>l.timestamp&&(f!==this.iL||!this.fy[g])&&
(a=l,b=a.timestamp)}if(null!=a)return this.Lt[a.Mg][a.NE]=null,a}this.Rna++;return this.B5a()};b.prototype.QRa=function(){for(var a in this.fy)if(this.fy[a]&&(!this.Lt[this.iL]||!this.Lt[this.iL][a]))return!1;return!0};b.prototype.wEb=function(a,b,f){var g,l;if(this.iL===a){if(0!==f.RL&&f.wJ!==this.aJ().ba()-1)for(l in this.fy)this.fy[l]&&(b=this.fy[l].Ph,g=this.fy[l].Rp,b<f.RL||b>f.wJ||g<f.mO||g>f.jO)&&(this.fy[b+"x"+g]=null);for(b=f.RL;b<=f.wJ;b++)for(g=f.mO;g<=f.jO;g++)this.fy[b+"x"+g]=this.fy[b+
"x"+g]||{Ph:b,Rp:g}}else if(a<this.iL){f={};for(l in this.fy)if(this.fy[l]){b=this.fy[l].Ph;g=this.fy[l].Rp;for(var k=a;k<this.iL;++k)b=Math.floor(b/2),g=Math.floor(g/2);k=b+"x"+g;f[k]||(f[k]={Ph:b,Rp:g})}this.fy=f}else for(this.fy={},b=f.RL;b<=f.wJ;b++)for(g=f.mO;g<=f.jO;g++)this.fy[b+"x"+g]={Ph:b,Rp:g}};b.prototype.clear=function(){_geo.c.map.Ta.lj.WR.prototype.clear.call(this);for(var a in this.Lt)for(var b in this.Lt[a])this.Lt[a][b]instanceof _geo.c.V.$.Image&&this.Lt[a][b].Ra();this.fy={};this.Rna=
0;this.Lt={};this.gL=-1;return this};b.prototype.abort=function(){_geo.c.map.Ta.lj.WR.prototype.abort.call(this);for(var a in this.EA)this.EA[a]instanceof _geo.c.V.$.Image&&(this.EA[a].Ra(),this.Rna--);this.EA={};return this};b.prototype.ry=function(){return this.Lt[this.gL]||{}};b.prototype.aJ=function(a){null==a&&(a=this.gL);a=0<a?1<<a:1;var b=this.La.Nl.$E().Uq();if(!b||b.ba()===b.da())return new _geo.c.f.Fc(a,a);if(b.ba()>b.da())return b=Math.round(b.ba()/b.da()),new _geo.c.f.Fc(a*b,a);b=Math.round(b.da()/
b.ba());return new _geo.c.f.Fc(a,a*b)};b.prototype.O1=function(){return-1===this.iL?this.La.IY:this.iL};b.prototype.bsa=function(){return this.ak instanceof _geo.c.map.Ta.cg.lk?this.ak.bsa():null};b.prototype.Qua=function(a){this.ak instanceof _geo.c.map.Ta.cg.lk&&this.ak.Qua(a);return this};return b}();
_geo.c.map.Ta.lj.fA=function(){function b(a,b){_geo.c.map.Ta.lj.lk.call(this,a,b)}_geo.c.na(b,_geo.c.map.Ta.lj.lk);_geo.c.ja(b,"geotoolkit.map.sources.managers.Bing");b.prototype.Mqa=function(a,b){function e(a,b,d,e){var f=Math.floor((a.ua()-k.ua())/b);b=Math.ceil((a.ya()-k.ua())/b)-1;var g=Math.floor((a.ta()-k.ta())/d);a=Math.ceil((a.xa()-k.ta())/d)-1;return{RL:Math.max(f,0),wJ:Math.min(b,e.wJ),mO:Math.max(g,0),jO:Math.min(a,e.jO)}}var d=_geo.c.map.Ta.lj.lk.prototype.Mqa.call(this,a,b);if(null==
this.La.CY)return d;var f=this.La.CY[d.z],h=this.La.Nl.Vt(),l=b.yb(a),k=b.yb(this.La.Tf),m=b.yb(h.Uq()),h=k.ba()/(f.wJ+1),q=k.da()/(f.jO+1),p=this.La.CY[this.gL]||f,u=m.ba()/p.scale,m=m.da()/p.scale;return{z:d.z,Jyb:e(l,h,q,f),$Hc:e(l,u,m,p),Usa:e(l.de(l.ba()/10,l.da()/10).Nd(k),h,q,f)}};b.prototype.aJ=function(a){null==a&&(a=this.gL);if(0<=a&&this.La.CY&&this.La.CY[this.La.IU]){var b=this.La.CY[this.La.IU];a=1<<this.La.IU-a;return new _geo.c.f.Fc((b.wJ+1)/a,(b.jO+1)/a)}return _geo.c.map.Ta.lj.lk.prototype.aJ.call(this,
a)};return b}();
_geo.c.map.Ta.lj.LC=function(){function b(a,b){_geo.c.map.Ta.lj.lk.call(this,a,b)}_geo.c.na(b,_geo.c.map.Ta.lj.lk);_geo.c.ja(b,"geotoolkit.map.sources.managers.VectorTile");b.prototype.pJ=function(){this.ak.tb(_geo.c.map.Ta.aa.lu,function(a,b,e){this.EA[e.Mg+"x"+e.NE]=null;this.Lt[e.Mg][e.NE]=e;if(e.Ica){for(a=0;a<e.Ica.length;a++)b=e.Ica[a],this.EA[b.Mg+"x"+b.NE]=null,this.Lt[b.Mg][b.NE]=b,b.Qda=e.Qda;e.Ica=null}this.fy&&!this.QRa()||this.Pa(_geo.c.map.Ta.aa.BS,this,null)}.bind(this));return this};
b.prototype.B5a=function(){return{}};b.prototype.ry=function(a,b){var e=new _geo.c.f.Oea,d=this.Lt[this.gL];if(!d)return e;var f=1<<this.gL,h=0,l=0,k=f-1,m=f-1;if(null!=a)var q=this.La.Nl.Vt().Uq(),p=q.ba()/f,f=q.da()/f,h=Math.max(h,Math.floor((a.ua()-q.ua())/p)),l=Math.max(l,Math.floor((q.xa()-a.xa())/f)),k=Math.min(k,Math.ceil((a.ya()-q.ua())/p)-1),m=Math.min(m,Math.ceil((q.xa()-a.ta())/f)-1);var q=[],p=[],u;for(u in d)if(d[u]&&d[u].yp>=h&&d[u].yp<=k&&d[u].nga>=l&&d[u].nga<=m&&(f=d[u].Qda,0<f.names.length&&
-1===q.indexOf(f))){var t=f.names;if(0===p.length)p=t.slice();else{var r=p.indexOf(t[0]);-1===r&&(p.unshift(t[0]),r=0);for(var n=1;n<t.length;++n){var v=p.indexOf(t[n]);-1===v?p.splice(++r,0,t[n]):v>r&&(r=v)}}f.Ph=0;q.push(f)}for(d=0;d<p.length;++d)if(h=p[d],l=this.La.gg&&this.La.gg[h],!l||this.gL>=l.exb&&this.gL<=l.Vwb)for(l=0;l<q.length;++l)k=q[l].rc[h],null!=k&&0<k.length&&e.concat(k);"function"===typeof b&&(e=new _geo.c.f.oxa(e,b));return e};b.prototype.clear=function(){for(var a in this.Lt)for(var b in this.Lt[a])this.Lt[a][b]=
null;this.Lt={};_geo.c.map.Ta.lj.lk.prototype.clear.call(this);return this};b.prototype.abort=function(){for(var a in this.EA)null!=this.EA[a]&&this.Rna--;this.EA={};_geo.c.map.Ta.lj.lk.prototype.abort.call(this);return this};b.prototype.aJ=function(a){null==a&&(a=this.gL);a=0<a?1<<a:1;return new _geo.c.f.Fc(a,a)};b.prototype.tka=function(a,b,e,d){var f=b+"x"+e,h=a+"x"+f,l=this.Lt[a][f]||this.EA[h];if(null!=l)l.timestamp=d;else{if(Array.isArray(this.La.jdc)&&0<a)for(var k=1<<a-1,m=l=0,q=0,p=this.La.jdc;0<
k;){var u=0<(k&b)?1:0,t=0<(k&e)?1:0,r=(t<<1)+u,m=(m<<1)+u,q=(q<<1)+t;l++;if(!Array.isArray(p[r])&&(m!==b||q!==e||l!==a)){k=m+"x"+q;p=l+"x"+k;u=this.J1b();u.yp=b;u.nga=e;u.Mg=a;u.NE=f;u.timestamp=d;if(this.Lt[l][k]){u.Qda=this.Lt[l][k].Qda;this.Lt[a][f]=u;return}this.EA[p]||_geo.c.map.Ta.lj.lk.prototype.tka.call(this,l,m,q,d);this.EA[p].Ica=this.EA[p].Ica||[];this.EA[p].Ica.push(u);this.EA[h]=u;return}p=p[r];k>>=1}_geo.c.map.Ta.lj.lk.prototype.tka.call(this,a,b,e,d)}};b.prototype.Bja=function(a,b,
e,d,f,h){if(_geo.c.map.Ta.lj.lk.prototype.Bja.call(this,a,b,e,d,f,h))return!0;if(!a.Ica)return!1;for(var l=0;l<a.Ica.length;l++)if(_geo.c.map.Ta.lj.lk.prototype.Bja.call(this,a.Ica[l],b,e,d,f,h))return!0;return!1};return b}();
_geo.c.map.Ta.lj.Xy=function(){function b(a,b){_geo.c.map.Ta.lj.Image.call(this,a,b);this.Xe=null;this.VS={}}_geo.c.na(b,_geo.c.map.Ta.lj.Image);_geo.c.ja(b,"geotoolkit.map.sources.managers.ArcGISImage");b.prototype.vO=function(a){var b,e=[],d=[],f=this.La.SDb||this.La.BH;if(this.b5b(a))for(b=0;b<f.length;++b){var h=f[b];this.VS.hasOwnProperty(h)?d.push.apply(d,this.VS[h]):e.push(h)}else e=f,this.Xe=a,this.VS={},this.ak.Qaa();for(b=0;b<e.length;++b)this.ak.vO({geometry:a,layer:e[b]}),this.VS[e[b]]=
null;return 0===e.length||0<d.length?d:null};b.prototype.Q1=function(a,b){if(this.b5b(a)){var e=[],d;for(d in this.VS)this.VS.hasOwnProperty(d)&&e.push.apply(e,this.VS[d]);return e}this.VS={};this.Xe=a;e=this.La.SDb||this.La.BH;d=b.Wb();var f=b.Za(),f=f.yb(d).round();this.ak.Q1({geometry:a,left:d.ua(),right:d.ya(),top:d.ta(),bottom:d.xa(),width:f.ba(),height:f.da(),layers:"all:"+e.join(",")});return null};b.prototype.b5b=function(a){if(a===this.Xe)return!0;if(a instanceof _geo.c.f.Rect&&this.Xe instanceof
_geo.c.f.Rect)return a.Ij(this.Xe);if(a instanceof _geo.c.f.sa&&this.Xe instanceof _geo.c.f.sa)return a.MI(this.Xe);if(a instanceof _geo.c.f.If&&this.Xe instanceof _geo.c.f.If){if(a.cc()!==this.Xe.cc())return!1;var b=a.cc(),e=a.dg();a=a.Yg();for(var d=this.Xe.dg(),f=this.Xe.Yg(),h=0;h<b;h++)if(e[h]!==d[h]||a[h]!==f[h])return!1;return!0}return!1};b.prototype.pJ=function(){_geo.c.map.Ta.lj.Image.prototype.pJ.call(this);this.ak.tb(_geo.c.map.Ta.aa.b_,function(a,b,e){a=e.layer;b=e.data;if(Array.isArray(b.features)&&
0<b.features.length)this.VS[a]=_geo.c.map.f.Ex.VCc(b,a);else{this.VS[a]=[];for(var d in this.VS)if(!this.VS[d]||0<this.VS[d].length)return}this.Pa(_geo.c.map.Ta.aa.b_,this,e)}.bind(this));return this};b.prototype.Qaa=function(){this.ak.Qaa();return this};return b}();_geo.c.map.Ta.aa={lu:"FeatureAdded",YO:"FeatureRemoved",RV:"FeaturesCleared",Hr:"ImageLoaded",FXa:"ImageCleared",BS:"TilesUpdated",b_:"InfoUpdated"};
_geo.c.map.Ta.HZ=function(){function b(a){_geo.c.f.Gd.call(this);a=a||{};this.hQb=a.ondataloaded;this.l2a=a.ondatafailed;var b=_geo.c.map.Fd.pp.gb(a.system||_geo.c.map.Xu.x4),e=_geo.c.map.Fd.pp.gb(_geo.c.map.Xu.x4);this.La=this.La||{};this.La.Nl=e.G7(b);this.La.nia=b.G7(e);this.gNa=this.GE=this.Um=this.La.url=null;b=a.format;null!=b&&(b.es(this.La),this.sja(b));this.Vyc(a.loader);a=a.url||a.server;null!=a&&this.NR(a)}_geo.c.na(b,_geo.c.f.Gd);_geo.c.ja(b,"geotoolkit.map.sources.AbstractSource");b.prototype.Mf=
function(a,b){if(null==this.Um||a.Jd())return this;if(null==this.GE||this.GE.bta())this.WK={hi:a,Z7:b},this.Um.Mf(a,b);else if(null==this.WK)this.WK={hi:a,Z7:b,scale:b.Za().Rb()},this.ota();else{var e=b.Za().Rb();_geo.c.f.Math.lh(e,this.WK.scale)&&b===this.WK.Z7?this.WK.hi.zi(a):(this.WK.hi=a,this.WK.scale=e,this.WK.Z7=b)}return this};b.prototype.NR=function(a){if(this.La.url===a)return this;this.La.url=a||null;this.gNa=null;this.clear();return this};b.prototype.bta=function(){return null==this.GE||
this.GE.bta()};b.prototype.I1=function(){return this.La.url};b.prototype.ota=function(){null==this.gNa&&(this.gNa=null==this.GE?_geo.c.f.Promise.resolve(this):this.GE.Mf().then(this.Ixb.bind(this),this.zCc.bind(this)));return this.gNa};b.prototype.va=function(){return this.La.Tf};b.prototype.ND=function(a){a=_geo.c.map.Fd.pp.gb(a);var b=this.La.Nl.Vt();a!==b&&a&&(this.La.Nl.jva(a),this.La.nia.HR(a),null==this.GE&&a&&(this.La.Tf=a.Uq()));return this};b.prototype.VG=function(){return this.La.Nl.Vt()};
b.prototype.HR=function(a){a=_geo.c.map.Fd.pp.gb(a);var b=this.La.Nl.$E();a!==b&&(this.La.Nl.HR(a),this.La.nia.jva(a));return this};b.prototype.$E=function(){return this.La.Nl.$E()};b.prototype.$ub=function(){return this.La.Nl};b.prototype.w3b=function(){return this.La.nia};b.prototype.sja=_geo.c.Ua;b.prototype.Vyc=function(a){null!=a?(a.es(this.La),this.GE=a):this.La.Tf=this.VG().Uq();return this};b.prototype.Ixb=function(){"function"===typeof this.hQb&&this.hQb();this.Pa(_geo.c.V.Node.aa.gr,this,
this.La.Tf);null!=this.WK&&_geo.c.f.Math.lh(this.WK.scale,this.WK.Z7.Za().Rb())&&this.Mf(this.WK.hi,this.WK.Z7);return this};b.prototype.zCc=function(a){"function"===typeof this.l2a&&this.l2a(a);return this};b.prototype.B6=function(a,b){if(this.hasOwnProperty(a)&&"function"===typeof this[a])this[a](b);return this};b.prototype.clear=function(){null!=this.GE&&this.GE.clear();this.update();return this};b.prototype.update=function(){null!=this.Um&&(this.Um.clear(),null!=this.WK&&this.Mf(this.WK.hi,this.WK.Z7));
return this};b.prototype.Ra=function(){this.l2a=this.l2a=null;null!=this.GE&&this.GE.clear();null!=this.Um&&this.Um.Ra();_geo.c.f.Gd.prototype.Ra.call(this)};return b}();_geo.c.map.Xa.Uea={gea:"All",nFb:"Bbox",lk:"Tile",cK:"Grid"};
_geo.c.map.Ta.ci=function(){function b(a){a=a||{};a.format=a.format||new _geo.c.map.Ta.cg.dE;var b=_geo.c.Ja(a,{idfield:"name",requestresolution:10,mode:_geo.c.map.Xa.Uea.gea,timeout:50},!0);this.Bm=new _geo.c.f.Oea;this.La=this.La||{};this.La.id=new _geo.c.map.Xa.Xp.WV(b.idfield);this.La.vab=b.requestresolution;this.La.mode=b.mode;this.La.timeout=b.timeout;_geo.c.map.Ta.HZ.call(this,a)}function a(a){var b,f;if(Array.isArray(a.x)){b=[];f=[];for(var h=0;h<a.x.length;++h)g.lb(a.x[h],a.y[h]),this.transform(g,
g),b[h]=g.x,f[h]=g.y}else g.lb(a.x,a.y),g=this.transform(g,g),b=g.x,f=g.y;return{x:b,y:f}}var g=new _geo.c.f.sa;_geo.c.na(b,_geo.c.map.Ta.HZ);_geo.c.ja(b,"geotoolkit.map.sources.Vector");b.prototype.sja=function(a){this.Um=new _geo.c.map.Ta.lj.ci(a,this.La);this.Um.tb(_geo.c.map.Ta.aa.lu,function(a,b,e){this.w4a(e,!1)}.bind(this));this.Um.tb(_geo.c.map.Ta.aa.RV,function(a,b){this.$aa()}.bind(this));return this};b.prototype.EEa=function(a,b){this.Mf(a,b);return this};b.prototype.w4a=function(b,d){if(!1!==
d){var f=this.$ub(),g=a.bind(f);b.forEach(function(a){var b=a.ce(),d;if(Array.isArray(b)){d=[];for(var e=0;e<b.length;++e)d.push(g(b[e]))}else d=g(b);a.Qu(d)})}this.Bm.concat(b);this.Pa(_geo.c.map.Ta.aa.lu,this,b);return this};b.prototype.REa=function(a){for(this.Bm.reset();this.Bm.$g();)if(this.Bm.next()===a){this.Pa(_geo.c.map.Ta.aa.YO,this,a);break}return this};b.prototype.clear=function(){this.$aa();_geo.c.map.Ta.HZ.prototype.clear.call(this);return this};b.prototype.$aa=function(){this.Pa(_geo.c.map.Ta.aa.RV,
this,this.Bm);this.Bm=new _geo.c.f.Oea;return this};b.prototype.Ija=function(a){null!=this.Um&&this.Um.sQa().parse(a);return this};b.prototype.Y8b=function(a){this.La.url=a;null!=this.Um&&this.Um.Mf()};b.prototype.pZ=function(a){this.La.id.k1()!==a&&(this.La.id=new _geo.c.map.Xa.Xp.WV(a));return this};b.prototype.hja=function(){return this.La.id.k1()};b.prototype.fva=function(a){this.La.vab=a;return this};b.prototype.zub=function(){return this.La.vab};return b}();
_geo.c.map.Ta.Image=function(){function b(a){a=a||{};this.La=this.La||{};this.La.de=a.hasOwnProperty("inflate")?a.inflate:.2;this.La.timeout=a.hasOwnProperty("timeout")?a.timeout:50;this.La.MGa=a.hasOwnProperty("uselayerlimits")?a.uselayerlimits:!1;this.La.BH=[];_geo.c.map.Ta.HZ.call(this,a)}_geo.c.na(b,_geo.c.map.Ta.HZ);_geo.c.ja(b,"geotoolkit.map.sources.Image");b.prototype.sja=function(a){this.Um=new _geo.c.map.Ta.lj.Image(a,this.La);this.Um.tb(_geo.c.map.Ta.aa.Hr,function(a,b,d){this.Pa(_geo.c.map.Ta.aa.Hr,
this,d)}.bind(this));return this};b.prototype.clear=function(){this.Pa(_geo.c.map.Ta.aa.FXa,this,null);_geo.c.map.Ta.HZ.prototype.clear.call(this);return this};b.prototype.lBb=function(a){this.La.de=a;return this};b.prototype.otb=function(){return this.La.de};b.prototype.AH=function(a){this.La.BH=a?Array.isArray(a)?a:[a]:[];this.update();return this};b.prototype.Ssa=function(a){var b=[];if(null!=a)for(var e=0;e<this.La.BH.length;++e){var d=this.La.BH[e];(Array.isArray(a)?-1===a.indexOf(d):d!==a)&&
b.push(d)}this.La.BH=b;this.update();return this};b.prototype.KL=function(){return this.La.BH};b.prototype.kY=function(){return this.La.rc};return b}();
_geo.c.map.Ta.lk=function(){function b(a){a=_geo.c.Ja(a,{tilewidth:256,tileheight:256,imagepool:400,token:null,minlod:0,maxlod:15},!0);this.La=this.La||{};this.La.zla=a.token;this.La.Su=a.tilewidth;this.La.Ru=a.tileheight;this.La.IY=a.minlod;this.La.IU=a.maxlod;this.La.O$a=a.imagepool;a.format=a.format||new _geo.c.map.Ta.cg.lk({formatterfunction:a.formatterfunction});_geo.c.map.Ta.HZ.call(this,a)}_geo.c.na(b,_geo.c.map.Ta.HZ);_geo.c.ja(b,"geotoolkit.map.sources.Tile");b.prototype.sja=function(a){this.Um=
new _geo.c.map.Ta.lj.lk(a,this.La);this.Um.tb(_geo.c.map.Ta.aa.BS,function(a,b,d){this.Pa(_geo.c.map.Ta.aa.BS,this,d)}.bind(this));return this};b.prototype.clear=function(){null!=this.Um&&this.Um.clear();_geo.c.map.Ta.HZ.prototype.clear.call(this);return this};b.prototype.ry=function(){return null!=this.Um?this.Um.ry():{}};b.prototype.aJ=function(){return null!=this.Um?this.Um.aJ():new _geo.c.f.Fc(1,1)};b.prototype.VQa=function(){return this.La.IY};b.prototype.TQa=function(){return this.La.IU};b.prototype.fja=
function(){return this.La.Su};b.prototype.eja=function(){return this.La.Ru};b.prototype.ka=function(a){if(null==a)return this;a.hasOwnProperty("tilewidth")&&(this.La.Su=a.tilewidth);a.hasOwnProperty("tileheight")&&(this.La.Ru=a.tileheight);a.hasOwnProperty("minlod")&&(this.La.IY=a.minlod);a.hasOwnProperty("maxlod")&&(this.La.IU=a.maxlod);a.hasOwnProperty("imagepool")&&(this.La.O$a=a.imagepool);(a.hasOwnProperty("url")||a.hasOwnProperty("server"))&&this.NR(a.url||a.server);return this};b.prototype.bsa=
function(){return this.Um?this.Um.bsa():null};b.prototype.Qua=function(a){this.Um&&this.Um.Qua(a);return this};b.prototype.O1=function(){return null!=this.Um?this.Um.O1():this.La.IY};return b}();
_geo.c.map.Ta.cwa=function(){function b(a){this.bD=[];if(Array.isArray(a))for(var b=0;b<a.length;++b)this.v4a(a[b]);else this.v4a(a);a={format:null};_geo.c.map.Ta.ci.call(this,a)}_geo.c.na(b,_geo.c.map.Ta.ci);_geo.c.ja(b,"geotoolkit.map.sources.CompositeSource");b.prototype.v4a=function(a){if(a instanceof _geo.c.map.Ta.ci){this.moa||(this.moa=this.gCc.bind(this));var b=this.bD.indexOf(a);0>b&&(this.bD.push(a),a.tb(_geo.c.map.Ta.aa.lu,this.moa),a.tb(_geo.c.map.Ta.aa.YO,this.moa),a.tb(_geo.c.map.Ta.aa.RV,
this.moa))}return this};b.prototype.F8b=function(a){var b=this.bD.indexOf(a);~b&&(a.$aa(),this.bD.splice(b,1),a.pb(_geo.c.map.Ta.aa.lu,this.moa),a.pb(_geo.c.map.Ta.aa.YO,this.moa),a.pb(_geo.c.map.Ta.aa.RV,this.moa));return this};b.prototype.r_b=function(){return this.bD};b.prototype.sja=function(){return this};b.prototype.Mf=function(a,b){for(var e=0;e<this.bD.length;++e)this.bD[e].Mf(a,b);return this};b.prototype.ND=function(a){this.B6("setMapCoordinateSystem",a);return this};b.prototype.HR=function(a){this.B6("setInitialCoordinateSystem",
a);return this};b.prototype.fva=function(a){this.B6("setRequestResolution",a);return this};b.prototype.pZ=function(a){this.B6("setUniqueField",a);return this};b.prototype.clear=function(){this.B6("clear");return this};b.prototype.Ra=function(){this.B6("dispose")};b.prototype.B6=function(a,b){_geo.c.map.Ta.ci.prototype.B6.call(this,a,b);for(var e=0;e<this.bD.length;++e)this.bD[e].B6(a,b);return this};b.prototype.gCc=function(a,b,e){this.Pa(a,this,e)};return b}();
_geo.c.map.Ta.Mv=function(){function b(a){a=a||{};a=_geo.c.Ja(a,{layer:null,format:a.format||new _geo.c.map.Ta.cg.Mv,loader:a.hasOwnProperty("loader")?a.loader:new _geo.c.map.Ta.Ok.Mv,idfield:a.idfield||(a.getfeatureid instanceof _geo.c.map.Xa.Xp.WV?a.getfeatureid.k1():"name"),offsetsupport:!1,requestfields:null,token:null,scalerange:null,layerid:null},!0);this.bD={};this.La=this.La||{};this.La.zla=a.token;this.La.RTa=a.scalerange;this.La.tv=a.requestfields;this.La.rc=[];this.La.alpha=1;this.La.hM=
null;this.La.ita=a.layerid;this.La.m$a=a.offsetsupport;this.ei=null==a.layer||Array.isArray(a.layer)?a.layer:[a.layer];this.Baa=null;this.pAa=[];this.Goa=null;_geo.c.map.Ta.ci.call(this,a)}var a=_geo.c.f.Bf.ib().Zb("px"),g=_geo.c.f.Bf.ib().Zb("metre");_geo.c.na(b,_geo.c.map.Ta.ci);_geo.c.ja(b,"geotoolkit.map.sources.ArcGISFeature");b.prototype.mbc=function(a){this.La.tv=a;return this};b.prototype.VCa=function(){return this.La.tv};b.prototype.kY=function(){return this.La.rc};b.prototype.jsa=function(a){if(null==
this.bD[a])for(var b=this.La.rc,f=0;f<b.length;++f){var g=b[f];if(g.id===a){b=0<g.minScale||0<g.maxScale?[0<g.minScale?1/g.minScale:null,0<g.maxScale?1/g.maxScale:null]:null;this.bD[a]=new _geo.c.map.Ta.Mv({system:this.$E(),idfield:this.hja(),scalerange:b,server:g.url,mode:this.La.mode,offsetsupport:this.La.m$a,requestresolution:this.La.vab,requestfields:this.La.tv,layerid:a});null==this.GE?this.bD[a].GE=null:this.bD[a].GE.Uqa(this.GE);g=this.bD[a].Um;g.sQa().Uqa(this.Um.sQa());this.bD[a].VG(this.VG());
break}}return this.bD[a]};b.prototype.RRa=function(){return 0<this.La.rc.length};b.prototype.x7a=function(){return this.La.alpha};b.prototype.A8a=function(){return this.La.RTa};b.prototype.Fba=function(){return this.La.hM};b.prototype.AH=function(a){this.ei=null==a||Array.isArray(a)?a:[a];this.ei=null!=this.ei?this.ei.map(function(a){return"string"==typeof a?+a:a}):this.ei;this.update();return this};b.prototype.EQa=function(){return this.La.Lvb};b.prototype.KL=function(){return this.ei};b.prototype.Ixb=
function(){if(this.RRa()){this.Baa=this.Baa||function(a,b,d){if(a===_geo.c.map.Ta.aa.lu)for(var e in this.bD){if(this.bD[e]===b){for(var f=0;f<d.length;f++)d[f].e7().ita=+e;break}}else a===_geo.c.map.Ta.aa.RV&&(a=_geo.c.map.Ta.aa.YO);this.Pa(a,b,d)}.bind(this);for(var a=[],b=0;b<this.La.rc.length;++b){var f=this.La.rc[b].id;!0===this.La.rc[b].defaultVisibility&&a.push(f);if(!Array.isArray(this.ei)||0<=this.ei.indexOf(f))f=this.jsa(f),null!=f&&(f.tb(_geo.c.map.Ta.aa.lu,this.Baa),f.tb(_geo.c.map.Ta.aa.YO,
this.Baa),f.tb(_geo.c.map.Ta.aa.RV,this.Baa),this.pAa.push(f))}null==this.ei&&(this.ei=a)}_geo.c.map.Ta.ci.prototype.Ixb.call(this);return this};b.prototype.Mf=function(b,d){var f=this.La.RTa;if(null!=f){var h=d.Za(),h=h?a.Ib(h.Rb(),g):null;if(null!=h&&(null!=f[0]&&f[0]>h||null!=f[1]&&f[1]<h))return this}if(!this.RRa())_geo.c.map.Ta.ci.prototype.Mf.call(this,b,d);else if(0<this.pAa.length)for(f=this.KL(),h=0;h<this.pAa.length;++h)null!==this.pAa[h].La.ita&&-1===f.indexOf(this.pAa[h].La.ita)||this.pAa[h].Mf(b,
d);return this};b.prototype.Ra=function(){if(Array.isArray(this.ei)&&null!=this.Baa)for(var a=0;a<this.ei.length;++a){var b=this.jsa(this.ei[a]);null!=b&&(b.pb(_geo.c.map.Ta.aa.lu,this.Baa),b.pb(_geo.c.map.Ta.aa.YO,this.Baa),b.pb(_geo.c.map.Ta.aa.RV,this.Baa))}this.bD=null;_geo.c.map.Ta.ci.prototype.Ra.call(this)};b.prototype.ZL=function(a){if(this.GE)if(this.Goa)a(null,this.Goa);else{var b=this;this.ota().then(function(){if(b.RRa())_geo.c.f.Promise.all(b.La.rc.map(function(a){return b.jsa(a.id).ota()})).then(function(){b.Goa=
[];b.La.rc.reverse().forEach(function(a){b.jsa(a.id).ZL(function(a,e){a||b.Goa.push(e)})});a(null,b.Goa)});else{var f=b.La.RTa;b.Goa={layerId:b.La.ita,layerName:b.La.lAc,layerType:b.La.mAc,minScale:f&&f[0]?1/f[0]:null,maxScale:f&&f[1]?1/f[1]:null,legend:_geo.c.map.f.Ex.atc(b.La.jf)};a(null,b.Goa)}})}else a(Error("Cannot query ArcGIS legend, no loader provided!"))};return b}();
_geo.c.map.Ta.Xy=function(){function b(a){a=a||{};a.format=a.format instanceof _geo.c.map.Ta.cg.Xy?a.format:new _geo.c.map.Ta.cg.Xy;a.loader=a.hasOwnProperty("loader")?a.loader:new _geo.c.map.Ta.Ok.Xy;this.La=this.La||{};this.La.zla=a.token;this.La.SDb=null;_geo.c.map.Ta.Image.call(this,a)}_geo.c.na(b,_geo.c.map.Ta.Image);_geo.c.ja(b,"geotoolkit.map.sources.ArcGISImage");b.prototype.sja=function(a){this.Um=new _geo.c.map.Ta.lj.Xy(a,this.La);a=function(a,b,d){this.Pa(a,this,d)}.bind(this);this.Um.tb(_geo.c.map.Ta.aa.Hr,
a);this.Um.tb(_geo.c.map.Ta.aa.b_,a);return this};b.prototype.ZL=function(a){this.GE?this.GE.ZL(a):a(Error("Cannot query ArcGIS legend, no loader provided!"))};b.prototype.vO=function(a){return this.bta()?this.Um.vO(a):[]};b.prototype.Qaa=function(){this.Um.Qaa();return this};b.prototype.Q1=function(a,b){return this.bta()?this.Um.Q1(a,b):[]};b.prototype.EQa=function(){return this.La.Lvb};b.prototype.RCb=function(a){this.La.SDb=null==a?null:Array.isArray(a)?a:[a];return this};return b}();
_geo.c.map.Ta.dE=function(){function b(a){a=a||{};a.format=a.format||new _geo.c.map.Ta.cg.dE;_geo.c.map.Ta.ci.call(this,a)}_geo.c.na(b,_geo.c.map.Ta.ci);_geo.c.ja(b,"geotoolkit.map.sources.GeoJSON");return b}();_geo.c.map.Ta.mS=function(){function b(a){a=a||{};a.format=a.format||new _geo.c.map.Ta.cg.mS;_geo.c.map.Ta.ci.call(this,a)}_geo.c.na(b,_geo.c.map.Ta.ci);_geo.c.ja(b,"geotoolkit.map.sources.KML");return b}();
_geo.c.map.Ta.WH=function(){function b(a){a=a||{};a.format=a.format||new _geo.c.map.Ta.cg.WH;a.loader=a.hasOwnProperty("loader")?a.loader:new _geo.c.map.Ta.Ok.WH;this.La=this.La||{};this.La.version=a.version||"1.1.0";this.La.Bva=a.featureTypes||null;_geo.c.map.Ta.ci.call(this,a)}_geo.c.na(b,_geo.c.map.Ta.ci);_geo.c.ja(b,"geotoolkit.map.sources.WFS");b.prototype.bbb=function(a){this.La.Bva=a;return this};b.prototype.Fsb=function(){return this.La.Bva};return b}();
_geo.c.map.Ta.Pw=function(){function b(a){a=a||{};a.format=a.format instanceof _geo.c.map.Ta.cg.Pw?a.format:new _geo.c.map.Ta.cg.Pw;a.loader=a.hasOwnProperty("loader")?a.loader:new _geo.c.map.Ta.Ok.Pw;a.system=a.system||_geo.c.map.Xu.$y;this.La=this.La||{};this.La.version=a.hasOwnProperty("version")?a.version:"1.3.0";this.La.bEb=a.hasOwnProperty("transparent")?a.transparent:!0;this.La.format=a.imageformat||null;_geo.c.map.Ta.Image.call(this,a)}_geo.c.na(b,_geo.c.map.Ta.Image);_geo.c.ja(b,"geotoolkit.map.sources.WMS");
b.prototype.Oka=function(a){this.La.format=a;return this};b.prototype.gsa=function(){return this.La.format};b.prototype.mva=function(a){this.La.bEb=a;return this};b.prototype.Hsa=function(){return this.La.bEb};b.prototype.setVersion=function(a){this.La.version=a;return this};b.prototype.BU=function(){return this.La.version};return b}();
_geo.c.map.Ta.VJ=function(){function b(a){a=_geo.c.Ja(a,{system:_geo.c.map.Xu.$y,format:a&&a.format||new _geo.c.map.Ta.cg.VJ,delimiter:",",latitudefield:["latitude","lat"],longitudefield:["longitude","lon"]},!0);this.La=this.La||{};this.La.Euc=a.delimiter;this.La.MEb=a.longitudefield;this.La.NEb=a.latitudefield;_geo.c.map.Ta.ci.call(this,a)}_geo.c.na(b,_geo.c.map.Ta.ci);_geo.c.ja(b,"geotoolkit.map.sources.CSV");b.prototype.ubb=function(a){if("string"===typeof a||Array.isArray(a))this.La.NEb=a;return this};
b.prototype.xtb=function(){return this.La.NEb};b.prototype.Dbb=function(a){if("string"===typeof a||Array.isArray(a))this.La.MEb=a;return this};b.prototype.Itb=function(){return this.La.MEb};return b}();_geo.c.map.Ta.UV=function(){function b(a){a=a||{};a.format=a.format||new _geo.c.map.Ta.cg.UV;_geo.c.map.Ta.ci.call(this,a)}_geo.c.na(b,_geo.c.map.Ta.ci);_geo.c.ja(b,"geotoolkit.map.sources.GeoRSS");return b}();
_geo.c.map.Ta.wp=function(){function b(a){a=a||{};a.format=a.format||new _geo.c.map.Ta.cg.wp;a.loader=a.hasOwnProperty("loader")?a.loader:new _geo.c.map.Ta.Ok.wp;this.La=this.La||{};this.La.zla=a.token;_geo.c.map.Ta.ci.call(this,a)}_geo.c.na(b,_geo.c.map.Ta.ci);_geo.c.ja(b,"geotoolkit.map.sources.Stream");return b}();
_geo.c.map.Ta.fA=function(){function b(a){a=_geo.c.Ja(a,{loader:a&&a.loader||new _geo.c.map.Ta.Ok.fA,format:a&&a.format||new _geo.c.map.Ta.cg.lk,key:null,culture:"en-US",centerpoint:null,imageryset:b.z9.Edb},!0);this.La=this.La||{};this.La.GDa=a.imageryset;this.La.zpb=a.culture;this.La.key=a.key;this.La.hBa=a.centerpoint;_geo.c.map.Ta.lk.call(this,a)}_geo.c.na(b,_geo.c.map.Ta.lk);_geo.c.ja(b,"geotoolkit.map.sources.Bing");b.z9={YEb:"Aerial",Edb:"AerialWithLabels",Tec:"AerialWithLabelsOnDemand",qFb:"Birdseye",
sFb:"BirdseyeWithLabels",rFb:"BirdseyeV2",qfc:"CanvasDark",sfc:"CanvasLight",rfc:"CanvasGray",NKb:"Road",nkc:"RoadOnDemand",pjc:"OrdnanceSurvey"};b.prototype.sja=function(a){this.Um=new _geo.c.map.Ta.lj.fA(a,this.La);this.Um.tb(_geo.c.map.Ta.aa.BS,function(a,b,d){this.Pa(_geo.c.map.Ta.aa.BS,this,d)}.bind(this));return this};b.prototype.eBb=function(a){this.La.GDa!==a&&(this.La.GDa=a,this.clear(),this.gNa=null,this.ota());return this};b.prototype.pBb=function(a){this.La.key=a;return this};b.prototype.oAb=
function(a){this.La.zpb=a;return this};b.prototype.aUa=function(a){this.La.hBa=a;return this};return b}();
_geo.c.map.Ta.LC=function(){function b(a){a=_geo.c.Ja(a,{styleurl:null,format:a&&a.format||new _geo.c.map.Ta.cg.LC,loader:a&&a.hasOwnProperty("loader")?a.loader:new _geo.c.map.Ta.Ok.LC,tilewidth:256,tileheight:256,imagepool:400,minlod:0,maxlod:15},!0);this.La=this.La||{};this.La.Su=a.tilewidth;this.La.Ru=a.tileheight;this.La.IY=a.minlod;this.La.IU=a.maxlod;this.La.O$a=a.imagepool;this.La.Pcc=a.styleurl;_geo.c.map.Ta.ci.call(this,a)}_geo.c.na(b,_geo.c.map.Ta.ci);_geo.c.ja(b,"geotoolkit.map.sources.VectorTile");
b.prototype.sja=function(a){this.Um=new _geo.c.map.Ta.lj.LC(a,this.La);this.Um.tb(_geo.c.map.Ta.aa.BS,function(a,b,d){this.Pa(_geo.c.map.Ta.aa.BS,this)}.bind(this));return this};b.prototype.ry=function(a,b){return null!=this.Um?this.Um.ry(a,b):{}};return b}();_geo.c.map.Ta.T3=function(){function b(a){a=a||{};a.format=a.format||new _geo.c.map.Ta.cg.T3({symbolTileSize:50});_geo.c.map.Ta.ci.call(this,a)}_geo.c.na(b,_geo.c.map.Ta.ci);_geo.c.ja(b,"geotoolkit.map.sources.Lerc");return b}();
_geo.c.map.Xa.jf.SO=function(){function b(a){a=a||{};this.sI=a.shape;this.Nr=a.shapecallback;this.eLa=a.geometrytoshape;this.Qjb=a.geometrytotext;this.vc=a.textshape||new _geo.c.V.$.Text({preservereadingorientation:!0,ispointingup:!0});null!=this.sI&&this.sI.Tg(!1);this.vc.Tg(!1)}_geo.c.ja(b,"geotoolkit.map.features.templates.BaseTemplate");b.prototype.xb=function(){var a={};a.shape=this.sI;a.shapecallback=this.Nr;a.geometrytoshape=this.eLa;a.geometrytotext=this.Qjb;a.textshape=this.vc;return a};
b.prototype.bb=function(a){if(null==a)return this;null!=a.shape&&(this.sI=a.shape);null!=a.geometrytoshape&&(this.eLa=a.geometrytoshape);null!=a.geometrytotext&&(this.Qjb=a.geometrytotext);null!=a.textshape&&(this.vc=a.textshape);a.hasOwnProperty("shapecallback")&&(this.Nr=a.shapecallback);return this};b.prototype.Ub=function(){return this.sI};b.prototype.Rba=function(){return this.eLa};b.prototype.ZI=function(){return this.Qjb};b.prototype.qm=function(){return this.vc};b.prototype.aja=function(){return this.Nr};
return b}();_geo.c.map.Xa.jf.sa=function(){function b(a){a=a||{};a.shape=a.shape||new _geo.c.V.$.Symbol(0,0,8,8,_geo.c.f.Ca.ub,!0,_geo.c.V.$.nc.Yy,new _geo.c.attributes.za("black"),new _geo.c.attributes.Ha("white"));a.geometrytoshape=a.geometrytoshape||new _geo.c.map.Xa.Wm.sa;a.geometrytotext=a.geometrytotext||a.geometrytoshape;_geo.c.map.Xa.jf.SO.call(this,a)}_geo.c.na(b,_geo.c.map.Xa.jf.SO);_geo.c.ja(b,"geotoolkit.map.features.templates.Point");return b}();
_geo.c.map.Xa.jf.Rs=function(){function b(a){a=a||{};a.shape=a.shape||new _geo.c.V.$.hr({linestyle:{color:"black",width:1}});a.shape instanceof _geo.c.V.$.hr&&a.shape.$z(!1);a.geometrytoshape=a.geometrytoshape||new _geo.c.map.Xa.Wm.Rs;a.geometrytotext=a.geometrytotext||new _geo.c.map.Xa.Wm.M3;_geo.c.map.Xa.jf.SO.call(this,a)}_geo.c.na(b,_geo.c.map.Xa.jf.SO);_geo.c.ja(b,"geotoolkit.map.features.templates.LineString");return b}();
_geo.c.map.Xa.jf.If=function(){function b(a){a=a||{};a.shape=a.shape||new _geo.c.V.$.If({linestyle:{color:"black",width:1},fillstyle:{color:"white"}});a.geometrytoshape=a.geometrytoshape||new _geo.c.map.Xa.Wm.If;a.geometrytotext=a.geometrytotext||new _geo.c.map.Xa.Wm.ub;_geo.c.map.Xa.jf.SO.call(this,a)}_geo.c.na(b,_geo.c.map.Xa.jf.SO);_geo.c.ja(b,"geotoolkit.map.features.templates.Polygon");return b}();
_geo.c.map.Xa.jf.ZD=function(){function b(a){a=a||{};a.shape=a.shape||new _geo.c.V.$.Symbol(0,0,25,25,_geo.c.f.Ca.ub,!0,_geo.c.V.$.nc.Yy,new _geo.c.attributes.za("black"),new _geo.c.attributes.Ha("white"));this.mOb=a.expandedshape||new _geo.c.V.$.Symbol(0,0,25,25,_geo.c.f.Ca.ub,!0,_geo.c.V.$.nc.Yy,new _geo.c.attributes.za("black"),new _geo.c.attributes.Ha("green"));this.lOb=a.expandedline||new _geo.c.V.$.Jr;this.lOb.Hv({from:new _geo.c.f.sa,to:new _geo.c.f.sa});this.Xd=a.colorprovider||null;this.enc=
a.expandedcolorprovider||new _geo.c.f.er({values:[0,1,2],colors:[new _geo.c.f.vb(255,0,0,255),new _geo.c.f.vb(0,255,0,255),new _geo.c.f.vb(0,0,255,255)]});a.textshape=a.textshape||new _geo.c.V.$.Text({textstyle:"white",preservereadingorientation:!0,ispointingup:!0});a.geometrytoshape=a.geometrytoshape||new _geo.c.map.Xa.Wm.sa;a.geometrytotext=a.geometrytotext||a.geometrytoshape;_geo.c.map.Xa.jf.SO.call(this,a);this.zbc(a.shapecallback)}var a=new _geo.c.V.$.fn;_geo.c.na(b,_geo.c.map.Xa.jf.SO);_geo.c.ja(b,
"geotoolkit.map.features.templates.Aggregation");b.prototype.bb=function(a){if(null==a)return this;_geo.c.map.Xa.jf.SO.bb.call(this,a);a.hasOwnProperty("shapecallback")&&this.zbc(a.shapecallback);return this};b.prototype.Rwc=function(){return this.mOb};b.prototype.Qwc=function(b,e,d){this.eLa.apply(e.fub(),a,d);e=a.Zi();this.eLa.apply(b,a,d);b=a.Zi();return this.lOb.Hv({from:e,to:b})};b.prototype.zbc=function(a){this.Nr=function(b,d,f){var h=f&&!f.Sd();if(h){var l;d===this.mOb?l=this.enc.Kc(b.Nn()):
null!=this.Xd&&(l=this.Xd.Kc(b.zd()));l&&((h=d.Bb())?h.ed(l):d.Ea(l))}null!=a&&a.call(this,b,d,f)}.bind(this);return this};return b}();
_geo.c.map.rc.Wy=function(){function b(a){this.pa=this.pa||{};_geo.c.V.Node.call(this,a);a=_geo.c.Ac(a,{system:_geo.c.map.Xu.x4,limits:null,source:null,alpha:1,layerfilter:null},!0);var b=a.system;this.Fib=_geo.c.map.Fd.pp.gb(b);this.Tc=null;this.bb(a);this.FR(a.source||a.sources);this.qX=this.Toa=this.yd=null;this.vX=!1}_geo.c.na(b,_geo.c.V.Node);_geo.c.ja(b,"geotoolkit.map.layers.AbstractLayer");b.prototype.sb=function(){return this.ae()};b.prototype.Wb=function(a){var b=this.getParent(),e=this.va(),
d=null;null!=b&&null!=b.va()&&(d=this.Za(),d=null==d?new _geo.c.f.Rect(b.Zl(a)):d.xe(b.Zl(a)));if(null!=e&&null!=d)a||d.Nd(e);else return e;return d};b.prototype.va=function(){if(null!=this.xj)return this.xj.clone();if(null!=this.Tc){var a=this.Tc.va();if(null!=a)return a}this.Ws||(this.Ws=this.JG());return this.Ws?this.Ws.clone():null};b.prototype.cb=function(a){this.xj=a?a.clone():null;this.Pa(_geo.c.V.Node.aa.gr,this,this.xj);return this};b.prototype.Uq=function(){return null!=this.Ws?this.Ws.clone():
null};b.prototype.JG=function(){return null!=this.Toa?this.Toa.Uq():null};b.prototype.A0b=function(){return this.Rw};b.prototype.Aac=function(a){this.Rw!==a&&(this.Rw=a,this.pa.alpha=a,this.ma());return this};b.prototype.xb=function(){return _geo.c.Ac(this.pa,{})};b.prototype.bb=function(a){_geo.c.Ac(a,this.pa);a&&a.hasOwnProperty("limits")&&this.cb(a.limits);this.i5=this.pa.layerfilter;this.Rw=this.pa.alpha;return this};b.prototype.it=function(){return this.Fib};b.prototype.Xj=function(a){this.vX!==
a&&(this.vX=a,this.ma());return this};b.prototype.vq=function(){return this.vX};b.prototype.Aa=function(a){!this.jp||this.i5&&!this.i5.filter(this,a)||(this.yd&&!a.Sd()?this.yd.Aa(a):this.Ii(a))};b.prototype.Ii=_geo.c.Ua;b.prototype.ae=function(){return null!=this.getParent()?this.getParent().ae():null};b.Grc=function(a){var b=null,e=[];a.forEach(function(a){a instanceof _geo.c.V.$.fn&&a.ZG()?e.push(a.Zi()):a.ha&&(a=a.ha())&&(null==b?b=a.clone():b.zi(a))});0<e.length&&(a=_geo.c.f.Rc.yj(e),null==b?
b=a:b.zi(a));return b};b.prototype.Kl=function(a){if(this.yd===a)return this;this.yd&&this.yd.Iv(null);a&&a.Mz()&&a.Iv(null);if(this.yd=a)this.yd.Iv(this),this.yd.KR(this.Ii.bind(this));return this};b.prototype.ma=function(a,b){this.yd&&(a?this.yd.ma(a,b):this.yd.lg());a||(a=this.va());_geo.c.V.Node.prototype.ma.call(this,a,b);return this};b.prototype.LN=function(){return this.yd};b.prototype.wQ=function(){this.yd&&(this.yd.Iv(null),this.yd.KR(null));this.yd=null;return this};b.prototype.la=function(){var a=
_geo.c.V.Node.prototype.la.call(this);a.url=this.I1();return a};b.prototype.ka=function(a){if(null==a)return this;a=_geo.c.yc(a);_geo.c.V.Node.prototype.ka.call(this,a);a.hasOwnProperty("url")&&this.NR(a.url);return this};b.prototype.VG=function(){return this.Toa};b.prototype.ND=function(a){this.Toa=_geo.c.map.Fd.pp.gb(a);null!=this.Tc&&this.Tc.ND(this.Toa);return this};b.prototype.hb=function(a,b,e,d){b=b instanceof _geo.c.map.Fd.pp?b:_geo.c.map.Fd.he.Kp().it(b);e=e instanceof _geo.c.map.Fd.pp?e:
_geo.c.map.Fd.he.Kp().it(e);if(null!=b&&null!=e){if(null==this.qX||this.qX.$E()!==b||this.qX.Vt()!==e)this.qX=e.G7(b);return this.qX.transform(a,d)}return null};b.prototype.h3=function(a,b){var e=this.it(),d=this.VG();return this.hb(a,e,d,b)};b.prototype.sVa=function(a,b){var e=this.it(),d=this.VG();return this.hb(a,d,e,b)};b.prototype.NR=function(a){null!=this.Tc&&this.Tc.NR(a);return this};b.prototype.I1=function(){return null!=this.Tc?this.Tc.I1():null};b.prototype.Ra=function(){null!=this.Tc&&
this.Tc.Ra();this.yd&&this.Kl(null);_geo.c.V.Node.prototype.Ra.call(this)};b.prototype.sh=function(){return this.Tc};b.prototype.an=function(a,b){return[]};b.prototype.rY=function(){return null};b.prototype.FR=_geo.c.Ua;return b}();
_geo.c.map.rc.XD=function(){function b(a){a=_geo.c.Ac(a,{source:null,converters:a&&a.hasOwnProperty("converters")?a.converters:null,features:{filter:null},annotations:{visible:!1,strategy:new _geo.c.map.Xa.Xp.aWa},tooltip:{visible:!1,formatter:new _geo.c.map.Xa.zba.qZa}});var d=this,f=new _geo.c.map.Xa.ft.LZ;Array.isArray(a.converters)?f=[f].concat(a.converters):a.converters&&(f=[f,a.converters]);this.aI=(new _geo.c.map.Xa.ft.EWa(f)).tb(_geo.c.map.rc.XD.aa.x9,function(){d.ma();d.Pa(b.aa.x9,d)});this.sX=
this.Lta.bind(this);_geo.c.map.rc.Wy.call(this,a);a=a.annotations.text;a instanceof _geo.c.V.$.Text?this.q_a=a:(a=_geo.c.Ac(a,{preservereadingorientation:!0,ispointingup:!0}),this.q_a=new _geo.c.V.$.Text(a))}function a(a){a.xl&&!0!==a.xl.s4b&&!1===a.xl.JN&&(a.xl.JN=!0)}function g(a,b){if(!a||!b)return!1;for(var f in b)if(a[f]!==b[f])return!1;return!0}_geo.c.na(b,_geo.c.map.rc.Wy);_geo.c.ja(b,"geotoolkit.map.layers.AbstractFeatureLayer");b.aa={x9:"FeaturesUpdated"};b.prototype.py=function(a){var b=
this.getParent();if(!b)return _geo.c.f.Iterator.Hm([]);var f=null;a instanceof _geo.c.map.f.N9&&(f=a.ce(),a=a.qQa());b=null!=f?f:b.va();return this.aI.py({bbox:b,filter:a||null,scale:Math.abs(this.Za().Rb())})};b.prototype.ZI=_geo.c.Ua;b.prototype.q_b=function(a){for(var b=this.py(),f;b.$g();)if(f=b.next(),f.zd()===a)return f;return null};b.prototype.EEa=function(a){var b;a instanceof _geo.c.map.f.N9||"function"!==typeof a||(a=new _geo.c.map.f.N9({filter:a}));b=a.ce();if(null==b)b=_geo.c.f.Iterator.ye(this.py());
else{var f=new _geo.c.selection.Qm;b=b instanceof _geo.c.f.Rect?f.select(this,b):b instanceof _geo.c.f.sa?f.select(this,b.ga(),b.ea()):f.select(this,b.x,b.y)}if(!b||1>b.length)return[];var h=a.la(),l=a.getName(),k=a.qQa();return b.filter(function(a){return null!=l&&a.getName()!==l||null!=h&&!g(a.MA(),h)?!1:null!=k?k(a):!0})};b.prototype.C2=function(a,b){a.forEach(function(a){a instanceof _geo.c.V.Node&&a.ob()&&(b.Sd()&&b.Mm(a),a.Aa(b))})};b.prototype.pua=function(a,b){var f=this.pa.geometrytotext;
if(f){var g=this.pa.annotations;if(g){var l=g.strategy;if(l){var k=this.q_a;a.forEach(function(a){if(a instanceof _geo.c.V.Node&&a.ob()){var e=l.Db(a,this);if(e)if(a=a.ce(!0),Array.isArray(a))for(var g,h=0;h<a.length;++h)g=a[h],g.xl&&!1===g.xl.JN||(f.apply(g,k,b),k.Ec(e),k.Aa(b));else f.apply(a,k,b),k.Ec(e),k.Aa(b)}}.bind(this))}}}};b.prototype.H4a=function(a,b,f){a.reset();if(!b)return a;Array.isArray(b)||(b=[b]);var g=this;b.forEach(function(b){if(!_geo.c.vD(b,_geo.c.map.Xa.filters.LH))throw Error("Not a geotoolkit.map.features.filters.IFilter instance");
b.reset();a=b.$B(a,f,g)});return a};b.prototype.c9b=function(b){b.forEach(function(b){b=b.ce(!0);Array.isArray(b)&&b.forEach(a)})};b.prototype.Ii=function(a){null!=a.pk&&1!==this.Rw&&(a.save(),a.pk().globalAlpha=this.Rw);var b=a.Sd()?new _geo.c.map.f.N9({geometry:this.Wb()}):new _geo.c.map.f.N9({geometry:a.zk()}),b=this.py(b),f=this.pa.features.filter;f&&(b=this.H4a(b,f,a));this.C2(b,a);if(this.pa.annotations.visible&&!a.Sd()){if(f=this.pa.annotations.filter)this.c9b(b),b=this.H4a(b,f,a);this.pua(b,
a)}null!=a.pk&&1!==this.Rw&&a.restore()};b.prototype.ND=function(a){_geo.c.map.rc.Wy.prototype.ND.call(this,a);if(a=this.VG())null!=this.Tc&&this.Tc.ND(a),this.UR();return this};b.prototype.R9b=function(a){this.q_a.ec()!==a&&(this.q_a.Ob(a),this.ma());return this};b.prototype.FR=function(a){if(this.Tc===a)return this;Array.isArray(a)?a=1===a.length?a[0]:new _geo.c.map.Ta.cwa(a):null==a&&(a=new _geo.c.map.Ta.ci);null!=this.Tc&&(this.Tc.pb(_geo.c.V.Node.aa.gr,this.sX),this.Tc.pb(_geo.c.map.Ta.aa.lu,
this.sX),this.Tc.pb(_geo.c.map.Ta.aa.YO,this.sX),this.aI.qHc(this.Tc));this.Tc=a;null!=this.Tc&&(this.Tc.HR(this.Fib),this.Tc.tb(_geo.c.V.Node.aa.gr,this.sX),this.Tc.tb(_geo.c.map.Ta.aa.lu,this.sX),this.Tc.tb(_geo.c.map.Ta.aa.YO,this.sX),this.aI.CAc(this.Tc),a=this.pa.url||this.pa.server,null!=a&&null==this.Tc.I1()&&this.Tc.NR(a));return this};b.prototype.rY=function(){return!0===this.pa.tooltip.visible?this.pa.tooltip.formatter:null};b.prototype.la=function(){var a=_geo.c.map.rc.Wy.prototype.la.call(this);
a.annotations=this.pa.annotations.visible;a.tooltip=this.pa.tooltip.visible;return a};b.prototype.ka=function(a){if(null==a)return this;a=_geo.c.yc(a);_geo.c.map.rc.Wy.prototype.ka.call(this,a);"boolean"===typeof a.annotations&&(this.pa.annotations.visible=a.annotations);"boolean"===typeof a.tooltip&&(this.pa.tooltip.visible=a.tooltip);return this};b.prototype.bb=function(a){a&&a.annotations&&a.annotations.text&&a.annotations.text.textstyle&&this.R9b(a.annotations.text.textstyle);_geo.c.map.rc.Wy.prototype.bb.call(this,
a);return this};b.prototype.UR=function(a){this.xj||(null==a||Array.isArray(a)||a instanceof _geo.c.f.Iterator||(a=[a]),this.Ws=this.JG(a),this.Pa(_geo.c.V.Node.aa.gr,this,this.Ws))};b.prototype.mVa=function(){var a=this.py(),b=new _geo.c.map.Fd.xIa({initialcoordinatesystem:this.VG()});return _geo.c.map.f.dE.mVa(a,b.transform.bind(b))};b.prototype.Lta=function(a,b,f){this.UR(a!==_geo.c.map.Ta.aa.YO?f:null)};b.prototype.Ra=function(){null!=this.aI&&this.aI.Ra();_geo.c.map.rc.Wy.prototype.Ra.call(this)};
return b}();
_geo.c.map.rc.l4=function(){function b(a){if(!a||!a.templates)throw Error("options.templates must be provided");this.Bm=[];this.qqa=this.MT=null;this.wkb=!1;this.gX={};var b=Array.isArray(a.templates)?a.templates:[a.templates];b.forEach(function(a){for(var b=Array.isArray(a.featureclassname)?a.featureclassname:[a.featureclassname],d=0;d<b.length;++d)this.gX[b[d]]=a.template}.bind(this));this.vmb=[];this.loa=null;this.K_a=!0;_geo.c.map.rc.XD.call(this,a);this.Kl(new _geo.c.V.Ek)}function a(a){a=a.e7();
a.Avb=!1;a.wla=null;a.vla=null}function g(a){return a instanceof _geo.c.map.Xa.ZD}var e=new _geo.c.map.Xa.jf.SO,d=new _geo.c.f.sa,f=new _geo.c.f.Rect,h=new _geo.c.f.Rect,l=new _geo.c.f.Fc,k=new _geo.c.V.$.Dk,m=new _geo.c.map.Xa.Wm.Dk;_geo.c.na(b,_geo.c.map.rc.XD);_geo.c.ja(b,"geotoolkit.map.layers.Template");b.prototype.b9b=function(a,b){a?_geo.c.$l(a,_geo.c.map.Xa.wwa)&&(a=[a]):(a=this.Bm,this.vmb=[]);a.forEach(function(a){a.Cx=null});b||this.ma();return this};b.prototype.Esb=function(a){return this.gX[a]};
b.prototype.Lra=function(a){var b=this.gX[a.getClassName()];if(!a.Cx)return b;if(!b)return a.Cx;var d=void 0===a.Cx.aja()?b.aja():a.Cx.aja();e.bb({shape:a.Cx.Ub()||b.Ub(),geometrytoshape:a.Cx.Rba()||b.Rba(),geometrytotext:a.Cx.ZI()||b.ZI(),textshape:a.Cx.qm()||b.qm(),shapecallback:d});return e};b.prototype.bja=function(a){return"string"===typeof a?this.Esb(a):a instanceof _geo.c.map.Xa.RJ?a.Cx?a.Cx:this.Esb(a.getClassName()):null};b.prototype.dGa=function(a,b,d){"string"===typeof a?this.gX[a]=b:(_geo.c.vD(a,
_geo.c.map.Xa.wwa)&&(a=[a]),0>this.vmb.indexOf(b)&&this.vmb.push(b),a.forEach(function(a){a.Cx=b}));d||this.ma();return this};b.prototype.zMc=function(){var a=0,b;for(b in this.gX)this.gX.hasOwnProperty(b)&&++a;return a};b.prototype.Uwc=function(){for(var a in this.gX)if(this.gX.hasOwnProperty(a))return this.gX[a];return null};b.prototype.JG=function(a){function b(a){h.apply(a,f,C);var l;f instanceof _geo.c.V.$.fn&&f.ZG()?(l=(l=f.ab())?2*l.ba():0,l=f.Hba(C,f.LA(),f.my(),f.ba()+l,f.da()+l),B=null!=
B?B.zi(l):l):(l=f.ha(),B=null!=B?B.zi(l):l.clone());F.pa.annotations.visible&&k.apply(a,g,C);F.wGc(y,e,a,l,D,d)}function d(a,b){var e={};Array.isArray(a.x)?(e.x=a.x.map(function(a){return a+b}),e.y=a.y.slice()):(e.x=a.x+b,e.y=a.y);E.push(e)}if(!a)return this.Ws=null,0<this.Bm.length?this.JG(this.Bm):null;var e,f,g,h,k,m,y,B=null,A=this.vf(),C,D;A instanceof _geo.c.map.Map&&(D=A.it().Uq(),(A=A.va())&&D&&(C=_geo.c.f.Fa.Sf(D,A)));C=C||this.Za()||_geo.c.f.Fa.XV;var E=[];C.hk(l.gd(1,1),l);var F=this;a.forEach(function(a){e=
F.Lra(a);null!=e&&(f=e.Ub(),g=e.qm(),h=e.Rba(),k=e.ZI(),y=a,m=a.ce(!0),Array.isArray(m)?m.forEach(b):b(m),0<E.length&&(a.Qu(E.concat(m).reverse()),E.length=0))});null!=B&&(this.Ws?this.Ws.zi(B):this.Ws=B);return this.Ws};b.prototype.wGc=function(a,b,d,e,g,k){if(g&&!a.e7().zGc){a.e7().zGc=!0;f.Tb(g).translate(g.ba(),0);h.Tb(g).translate(-g.ba(),0);var m=!1,w=!1;f.Wd(e)&&(m=!0,k(d,-g.ba()));h.Wd(e)&&(w=!0,k(d,g.ba()));(e=this.pa.annotations.strategy)&&this.pa.annotations.visible&&(e=e.Db(a,this))&&
(b=b.qm(),!m&&_geo.c.map.f.AC.Sqa(a,f,b,e,l)&&k(d,-g.ba()),!w&&_geo.c.map.f.AC.Sqa(a,h,b,e,l)&&k(d,g.ba()))}};b.prototype.oh=function(a,b){if(-1<this.Bm.indexOf(a)){a.pa.geometry=b;var d=this.VG();d&&"function"===typeof a.gy&&a.gy(this);this.Ws=this.JG();this.ma()}return this};b.prototype.q6=function(a){if(null==a)return this;Array.isArray(a)||(a=[a]);a.forEach(function(a){a.gy(this)}.bind(this));this.Tc.w4a(a,!1);this.xj||(this.Ws=this.JG(_geo.c.f.Iterator.nm(a)),this.Pa(_geo.c.V.Node.aa.gr,this,
this.Ws));this.ma();return this};b.prototype.REa=function(a){if(null==a)return this;var b=!1;_geo.c.f.Iterator.nm(a).forEach(function(a){var d=this.Bm.indexOf(a);-1<d&&(this.Tc.REa(a),b=!0)}.bind(this));b&&(this.xj||(this.Ws=this.JG(),this.Pa(_geo.c.V.Node.aa.gr,this,this.Ws)),this.ma());return this};b.prototype.$aa=function(){this.Tc.$aa();this.Bm=[];return this};b.prototype.R9b=function(a){for(var b in this.gX)this.gX.hasOwnProperty(b)&&this.gX[b].qm().Ob(a);this.ma();return this};b.prototype.Aa=
function(a){!this.jp||this.i5&&!this.i5.filter(this,a)||(this.yd&&!a.Sd()&&(this.K_a||this.yd.SDa())?this.yd.Aa(a):this.Ii(a),this.BEc(a))};b.prototype.Ii=function(a){a.Sd()&&(a.Ea(_geo.c.attributes.Ha.Ui),a.xc(this.va()));null!=a.pk&&1!==this.Rw&&(a.save(),a.pk().globalAlpha=this.Rw);this.tDc(a);this.C2(this.MT,a);this.P7b(a);this.pa.annotations.visible&&!a.Sd()&&(this.K_a||this.pa.annotations.visibleonzoom||(this.qqa=this.qqa.filter(g)),this.pua(this.qqa,a));null!=a.pk&&1!==this.Rw&&a.restore()};
b.prototype.C2=function(a,b){var d,e,f=this;a.forEach(function(a){e=a.e7();if(!e.Avb&&(d=f.Lra(a))){b.Sd()&&b.Mm(a);var g=a.fub();if(Array.isArray(g))for(var h=0;h<g.length;++h)f.U8b(a,g[h],d,b);else f.U8b(a,g,d,b)}})};b.prototype.tDc=function(b){var d=b.$a(),e=d.Rb();d.hk(l.gd(1,1),l);this.zfa={};k.clear();null!=this.Tc&&this.Tc.EEa(this.Wb(),this);if(null==this.MT||this.wkb||(this.K_a||this.yd&&this.yd.SDa())&&!_geo.c.f.Math.lh(this.jmc,e)){this.jmc=e;this.wkb=!1;this.MT=this.py(new _geo.c.map.f.N9({geometry:this.va()}));
if(d=this.pa.features.filter)this.MT=this.H4a(this.MT,d,b);this.MT=_geo.c.f.Iterator.ye(this.MT);this.MT.forEach(a);this.pa.annotations.visible&&((d=this.pa.annotations.filter)?(e=new _geo.c.f.f9(this.MT),this.c9b(e),this.qqa=this.H4a(e,d,b),this.qqa=_geo.c.f.Iterator.ye(this.qqa)):this.qqa=this.MT)}};b.prototype.P7b=function(a){k.Aa(a);k.clear()};b.prototype.U8b=function(a,b,d,e){var g=d.Ub(),h=a.e7(),v=d.Rba(),w=d.aja();if(g.ob()){d=e.zk();if(w){if(v.apply(b,g,e),w(a,g,e),!g.Ff(e))return}else if(Array.isArray(b.x))if(d.Wd(_geo.c.map.f.bK.EQ(b)))if(e.Sd())v.apply(b,
g,e);else{h=g.ab();g=g.Bb();k.ab()===h&&k.Bb()===g?m.gpb(b,k):(k.Aa(e),k.Ba(h),k.Ea(g),m.apply(b,k));return}else return;else{if(g.ZG&&g.ZG()&&(a=g.ba()*l.width,w=g.da()*l.height,g.vob(b.x,b.y,a,w,_geo.c.f.Fa.XV,f),!d.Wd(f)))return;a=Math.floor((b.x-d.x)/l.width);d=Math.floor((b.y-d.y)/l.height);d=(a+d)*(a+d+1)/2+a;h.Avb=!0;if(this.zfa[d]){if(this.zfa[d]===g)return;if(Array.isArray(this.zfa[d]))if(-1===this.zfa[d].indexOf(g))this.zfa[d].push(g);else return;else this.zfa[d]=[this.zfa[d],g]}else this.zfa[d]=
g;v.apply(b,g,e)}0<k.ce().ud()&&(k.Aa(e),k.clear());h.Avb=!1;g.Aa(e)}};b.prototype.vFc=function(a){this.K_a=a;return this};b.prototype.va=function(){if(null!=this.xj)return this.xj;var a=this.Tc?this.Tc.va():null;this.Ws||(this.Ws=this.JG());null!=a&&null!=this.Ws&&this.Ws.zi(a);return this.Ws?(null!=a&&this.Ws.zi(a),this.Ws):null!=a?a:this.Toa?this.Toa.Uq():null};b.prototype.ZI=function(a){(a=this.bja(a))||(a=this.Uwc());return a.ZI()};b.prototype.pua=function(a,b){var d=this.pa.annotations;if(d){var e=
d.strategy;if(e){var f,g,h,k;a.forEach(function(a){if(k=e.Db(a,this))if(f=this.Lra(a))if(h=f.qm(),g=f.ZI(),h.ob()){var d=a.ce(!0);if(Array.isArray(d))for(var m=0;m<d.length;++m)d[m].xl&&!1===d[m].xl.JN||(g.apply(d[m],h,b),_geo.c.map.f.AC.Sqa(a,b.zk(),h,k,l)&&(h.Ec(k),h.Aa(b)));else d.xl&&!1===d.xl.JN||(g.apply(d,h,b),_geo.c.map.f.AC.Sqa(a,b.zk(),h,k,l)&&(h.Ec(k),h.Aa(b)))}}.bind(this))}}};b.prototype.an=function(a,b){function e(d,f,g){if(!_geo.c.V.$.Uh.dR(g.ha(),g.kc(),x))return!1;if(d instanceof
_geo.c.map.Xa.Rs||d instanceof _geo.c.map.Xa.lK)return d=new _geo.c.selection.sgb(a,b,w),d.i5a(f.x,f.y,!1);d=new _geo.c.selection.bxa(a,b);return d.i5a(f.x,f.y,!0)}var g=this.VG();if(!g)return[];var k=this.Za();a=k.Ie(a,d);g=g.Uq();a.ga()<g.ga()?a.x+=g.ba():a.ga()>g.ya()&&(a.x-=g.ba());g=this.va();if(!this.MT||!g||!g.contains(a))return[];k.hk(l.gd(1,1),l);b=(b||2)*l.ba();var m=this,v=[],w,x=h.Tb(a.x-b,a.y-b,a.x+b,a.y+b),g=new _geo.c.f.Oea(this.MT,this.loa);g.forEach(function(a){var b=m.Lra(a);if(b){var d=
b.Ub(),g=b.Rba(),h=a.ce(!0),b=b.aja();if(d.ob()&&h){w=null!=d.ab()?d.ab().ba()*l.width:l.width;Array.isArray(h)||(h=[h]);for(var q=0;q<h.length;++q)if(g.apply(h[q],d,k),Array.isArray(h[q].x)){if(b&&b(a,d),e(a,h[q],d)){v.push(a);break}}else{b&&b(a,d);var p=d.ba(),t=d.da();d.ZG&&d.ZG()&&(p*=l.width,t*=l.height);var H=d.LA(),G=d.my();d.vob(H,G,p,t,_geo.c.f.Fa.XV,f);if(x.Wd(f)){v.push(a);break}}}}});return v.reverse()};b.prototype.ND=function(a){_geo.c.map.rc.XD.prototype.ND.call(this,a);a&&this.Bm.forEach(function(a){a.gy(this)}.bind(this));
return this};b.prototype.Lta=function(a,b,d){var e=this,f=null;a===_geo.c.map.Ta.aa.lu?f=function(a){e.Bm.push(a)}:a===_geo.c.map.Ta.aa.YO&&(f=function(a){a=e.Bm.indexOf(a);0<=a&&e.Bm.splice(a,1)});_geo.c.f.Iterator.nm(d).forEach(function(a){f&&f(a);if(a=e.Lra(a)){var b=a.Ub();if(b instanceof _geo.c.V.$.Image&&!b.loaded){var d=function(){b.pb(_geo.c.V.$.Image.aa.Hr,d);e.ma()};b.tb(_geo.c.V.$.Image.aa.Hr,d)}}});_geo.c.map.rc.XD.prototype.Lta.call(this,a,b,d)};b.prototype.M$b=function(a){this.loa=a;
return this};b.prototype.BEc=function(a){if(!this.loa)return this;var b=this.pa.annotations&&this.pa.annotations.strategy,d,e,f,g,h,k=a.Sd(),l,m,B,A,C=this;this.loa.forEach(function(D){l=C.Lra(D);if(l instanceof _geo.c.map.Xa.jf.ZD&&(m=l.Rwc(),e=l.qm(),B=l.Rba(),d=l.ZI(),A=l.aja(),m.ob())){var E=D.fub();Array.isArray(E)||(E=[E]);g=D.getParent();b&&(f=b.Db(D,this),e.Ec(f));for(var F=0;F<E.length;++F)B.apply(E[F],m,a),d.apply(E[F],e,a),A&&A(D,m,a),g&&(h=l.Qwc(E[F],g,a),h.Aa(a)),k&&a.Mm(D),m.Aa(a),k&&
a.Mm(null),b&&e.ob()&&e.Aa(a)}});return this};b.prototype.ma=function(a,b){this.wkb=!0;_geo.c.map.rc.XD.prototype.ma.call(this,a,b)};return b}();
_geo.c.map.rc.Image=function(){function b(a){var b=this;this.sX=function(a,f,g){b.Pa(_geo.c.V.Node.aa.gr,b,g)};this.T3a=function(a,f,g){b.rn=g;b.ma()};this.rn=null;_geo.c.map.rc.Wy.call(this,a)}var a=new _geo.c.f.Rect;_geo.c.na(b,_geo.c.map.rc.Wy);_geo.c.ja(b,"geotoolkit.map.layers.Image");b.prototype.Aa=function(a){if(this.jp&&(null==this.i5||this.i5.filter(this,a)))if(a.Sd())this.cza&&(a.Ea(_geo.c.attributes.Ha.Ui),a.xc(this.Vb));else{var b=this.Wb(!0);null!=b&&(this.Tc.Mf(b,this),this.yd?this.yd.Aa(a):
this.Ii(a))}};b.prototype.Ii=function(a){null!=a.pk&&1!==this.Rw&&(a.save(),a.pk().globalAlpha=this.Rw);if(null!=this.rn)for(var b=0;b<this.rn.length;b++)this.lab(this.rn[b],a);null!=a.pk&&1!==this.Rw&&a.restore()};b.prototype.lab=function(b,e){if(b.Ff(e)){var d=e.$a(),f=e.Ye(),h=b.ha(),l=d.yb(h,a);_geo.c.f.Math.lh(f.ua(),l.ua(),1)?l.zb(f.ga()):_geo.c.f.Math.lh(f.ya(),l.ya(),1)?l.zb(f.ya()-l.ba()):l.zb(Math.round(l.ga()));d.xe(l,l);b.Ga(l);b.Aa(e);b.Ga(h)}};b.prototype.kY=function(){return null!=
this.Tc?this.Tc.kY():null};b.prototype.KL=function(){return null!=this.Tc?this.Tc.KL():null};b.prototype.AH=function(a){null!=this.Tc&&this.Tc.AH(a);return this};b.prototype.Ssa=function(a){null!=this.Tc&&this.Tc.Ssa(a);return this};b.prototype.FR=function(a){if(this.Tc===a)return this;null!=this.Tc&&(this.Tc.pb(_geo.c.V.Node.aa.gr,this.sX),this.Tc.pb(_geo.c.map.Ta.aa.Hr,this.T3a),this.Tc.pb(_geo.c.map.Ta.aa.FXa,this.T3a));this.Tc=a;null!=this.Tc&&(this.Tc.tb(_geo.c.V.Node.aa.gr,this.sX),this.Tc.tb(_geo.c.map.Ta.aa.Hr,
this.T3a),this.Tc.tb(_geo.c.map.Ta.aa.FXa,this.T3a),a=this.pa.url||this.pa.server,null!=a&&null==this.Tc.I1()&&this.Tc.NR(a));return this};b.prototype.la=function(){var a=_geo.c.map.rc.Wy.prototype.la.call(this);a.showlayers=this.KL();return a};b.prototype.ka=function(a){if(null==a)return this;a=_geo.c.yc(a);a.hasOwnProperty("showlayers")&&(this.Ssa(),this.AH(a.showlayers));_geo.c.map.rc.Wy.prototype.ka.call(this,a);return this};return b}();
_geo.c.map.rc.ci=function(){function b(a){a=a||{};a.source=a.source||a.sources||new _geo.c.map.Ta.ci;null==a.templates&&(a.templates=[]);_geo.c.map.rc.l4.call(this,a);null!=a.idfield&&this.Tc.pZ(a.idfield);for(var b=[_geo.c.map.Xa.If.getClassName(),_geo.c.map.Xa.CM.getClassName(),_geo.c.map.Xa.Rs.getClassName(),_geo.c.map.Xa.lK.getClassName(),_geo.c.map.Xa.sa.getClassName(),_geo.c.map.Xa.mK.getClassName(),_geo.c.map.Xa.ZD.getClassName()],e=0;e<b.length;++e)if(null==this.Esb(b[e])){var d=this.dsb(b[e]);
null!=d&&this.dGa(b[e],d,!0)}null!=a.data&&this.Tc.Ija(a.data)}_geo.c.na(b,_geo.c.map.rc.l4);_geo.c.ja(b,"geotoolkit.map.layers.Vector");b.prototype.Ija=function(a){this.Tc.Ija(a);return this};b.prototype.pZ=function(a){this.Tc.pZ(a);return this};b.prototype.hja=function(){return this.Tc.hja()};b.prototype.dsb=function(a){switch(a){case _geo.c.map.Xa.If.getClassName():case _geo.c.map.Xa.CM.getClassName():return new _geo.c.map.Xa.jf.If;case _geo.c.map.Xa.Rs.getClassName():case _geo.c.map.Xa.lK.getClassName():return new _geo.c.map.Xa.jf.Rs;
case _geo.c.map.Xa.sa.getClassName():case _geo.c.map.Xa.mK.getClassName():return new _geo.c.map.Xa.jf.sa;case _geo.c.map.Xa.ZD.getClassName():return new _geo.c.map.Xa.jf.ZD}return null};b.prototype.la=function(){var a=_geo.c.map.rc.XD.prototype.la.call(this);a.idfield=this.Tc.hja();return a};b.prototype.ka=function(a){if(null==a)return this;a=_geo.c.yc(a);"string"===typeof a.idfield&&this.Tc.pZ(a.idfield);_geo.c.map.rc.XD.prototype.ka.call(this,a);return this};return b}();
_geo.c.map.rc.lk=function(){function b(a){a=_geo.c.Ja(a,{tilewidth:256,tileheight:256,minlod:0,maxlod:15,imagepool:400,source:null,format:a&&a.formatterfunction?new _geo.c.map.Ta.cg.lk({formatterfunction:a.formatterfunction}):null,url:null},!0);a.source=a.source||new _geo.c.map.Ta.lk(a);var b=this;this.sX=function(a,d,f){b.Pa(_geo.c.V.Node.aa.gr,b,f)};this.kha=function(a,d,f){b.ma(f)};_geo.c.map.rc.Wy.call(this,a)}_geo.c.na(b,_geo.c.map.rc.Wy);_geo.c.ja(b,"geotoolkit.map.layers.Tile");b.prototype.Aa=
function(a){!this.jp||this.i5&&!this.i5.filter(this,a)||(a.Sd()?(a.Ea(_geo.c.attributes.Ha.Ui),a.xc(this.va())):this.yd?this.yd.Aa(a):this.Ii(a))};b.prototype.Ii=function(a){if(null!=this.I1()&&null!=this.VG()){var b=this.Wb(),e=a.Ye();this.Tc.Mf(b,this);var b=a.$a(),d=this.VG().Uq(),f=b.transform(d);a.save();a.sc(_geo.c.f.Fa.XV);var d=this.Tc.aJ(),d={width:f.ba()/d.ba(),height:f.da()/d.da()},e={RL:Math.floor((e.ua()-f.ua())/d.width),wJ:Math.ceil((e.ya()-f.ua())/d.width),mO:Math.floor((e.ta()-f.ta())/
d.height),jO:Math.ceil((e.xa()-f.ta())/d.height)},h=f.ua()+e.RL*d.width,f=f.ta()+e.mO*d.height,l=this.Tc.ry();null!=a.pk&&1!==this.Rw&&(a.pk().globalAlpha=this.Rw);for(var k in l)l[k]instanceof _geo.c.V.$.Image&&this.lab(l[k],a,e,h,f,d);a.sc(b);a.restore()}};b.prototype.lab=function(a,b,e,d,f,h){var l=a.yp,k=a.nga;if(null==a.pd||l<e.RL||l>e.wJ||k<e.mO||k>e.jO)return this;a=a.pd;var m=Math.round(d+(l-e.RL)*h.width),q=Math.round(f+(k-e.mO)*h.height);d=Math.round(d+(l-e.RL+1)*h.width);e=Math.round(f+
(k-e.mO+1)*h.height);b.drawImage(a,0,0,a.width,a.height,m,q,d-m,e-q);return this};b.prototype.VQa=function(){return this.Tc.VQa()};b.prototype.TQa=function(){return this.Tc.TQa()};b.prototype.k3b=function(){return new _geo.c.f.Fc(this.Tc.fja(),this.Tc.eja())};b.prototype.kac=function(a){this.Tc.Qua(a);return this};b.prototype.jtb=function(){return this.Tc.bsa()};b.prototype.FR=function(a){if(this.Tc===a)return this;null!=this.Tc&&(this.Tc.pb(_geo.c.V.Node.aa.gr,this.sX),this.Tc.pb(_geo.c.map.Ta.aa.BS,
this.kha));this.Tc=a;null!=this.Tc&&(this.Tc.tb(_geo.c.V.Node.aa.gr,this.sX),this.Tc.tb(_geo.c.map.Ta.aa.BS,this.kha),a=this.pa.url||this.pa.server,null!=a&&null==this.Tc.I1()&&this.Tc.NR(a));return this};b.prototype.la=function(){var a=_geo.c.map.rc.Wy.prototype.la.call(this);a.tilewidth=this.Tc.fja();a.tileheight=this.Tc.eja();a.minlod=this.Tc.VQa();a.maxlod=this.Tc.TQa();a.formatterfunction=this.Tc.jtb();return a};b.prototype.ka=function(a){if(null==a)return this;a=_geo.c.yc(a);a.formatterfunction&&
(this.Tc=new _geo.c.map.Ta.lk({formatterfunction:a.formatterfunction}));this.Tc.ka(a);_geo.c.map.rc.Wy.prototype.ka.call(this,a);return this};b.prototype.Gac=function(a,b){this.Tc.ka({minlod:a,maxlod:b});return this};b.prototype.O1=function(){return this.Tc.O1()};b.prototype.acc=function(a,b){this.Tc.ka({tilewidth:a,tileheight:b});return this};return b}();
_geo.c.map.rc.Uh=function(){function b(a){_geo.c.map.rc.Wy.call(this,a);this.Vh=new _geo.c.V.Ihb({clipchild:!1});this.Vh.cb(this.Fib.Uq())}var a=new _geo.c.f.sa;_geo.c.na(b,_geo.c.map.rc.Wy);_geo.c.ja(b,"geotoolkit.map.layers.Shape");b.prototype.JG=function(){return _geo.c.map.rc.Wy.Grc(this.Zq())};b.prototype.Zq=function(a){return this.Vh.fk(a)};b.prototype.RAa=function(a){if(null==a)return this;_geo.c.f.Iterator.nm(a).forEach(function(a){this.Vh.Ia(a);this.Vh.bUa(a,!0)}.bind(this));this.xj||(this.Ws=
this.JG(),this.Pa(_geo.c.V.Node.aa.gr,this,this.Ws));this.ma();return this};b.prototype.N8b=function(a,b){if(null==a)return this;var d=!1,f;if(a instanceof _geo.c.V.Node)f=[a];else if(Array.isArray(a))f=a;else if(a instanceof _geo.c.f.Iterator)f=_geo.c.f.Iterator.ye(a);else throw Error("Wrong parameter type");var h=this.Vh.cd();f.forEach(function(a){this.Vh.removeChild(a);this.Vh.bUa(a,!1);h!==this.Vh.cd()&&(this.Pa(_geo.c.V.Node.aa.Ov,this,a),b&&"function"===typeof a.Ra&&a.Ra(),d=!0,h--)}.bind(this));
d&&(this.xj||(this.Ws=this.JG(),this.Pa(_geo.c.V.Node.aa.gr,this,this.Ws)),this.ma());return this};b.prototype.kVb=function(a){var b=this.Vh.fk();this.Vh.Gh(a);this.Pa(_geo.c.V.Node.aa.Ov,this,b);this.xj||(this.Ws=this.JG(),this.Pa(_geo.c.V.Node.aa.gr,this,this.Ws));return this};b.prototype.Ii=function(a){null!=a.pk&&1!==this.Rw&&(a.save(),a.pk().globalAlpha=this.Rw);this.Vh.Aa(a);null!=a.pk&&1!==this.Rw&&a.restore()};b.prototype.FR=function(){return this};b.prototype.rY=function(){return this.pa.tooltip&&
this.pa.tooltip.visible?this.pa.tooltip.formatter:null};b.prototype.an=function(b,e){var d=this.VG();if(!d)return[];var f=this.Za();b=f.Ie(b,a);d=d.Uq();b.ga()<d.ga()?b.x+=d.ba():b.ga()>d.ya()&&(b.x-=d.ba());var h=this.va(),d=this.Vh.cd();if(!d||!h||!h.contains(b))return[];e=(e||2)/f.Rb();for(var f=new _geo.c.f.Rect(b.x-e,b.y-e,b.x+e,b.y+e),h=[],l=0;l<d;++l){var k=this.Vh.Dc(l);if(k.ob()){var m=k.ha&&k.ha();_geo.c.V.$.Uh.dR(m,k.kc(),f)&&h.push(k)}}return h};return b}();
_geo.c.map.rc.Pw=function(){function b(a){a=_geo.c.Ja(a,{imageformat:null,layers:null,version:"1.3.0",transparent:!0,inflate:.2,timeout:50});var b=a.source||new _geo.c.map.Ta.Pw(a);null!=a.imageformat&&b.Oka(a.imageformat);null!=a.layers&&b.AH(a.layers);a.source=b;_geo.c.map.rc.Image.call(this,a)}_geo.c.na(b,_geo.c.map.rc.Image);_geo.c.ja(b,"geotoolkit.map.layers.WMS");b.prototype.Oka=function(a){this.Tc instanceof _geo.c.map.Ta.Pw&&this.Tc.Oka(a);return this};b.prototype.gsa=function(){return this.Tc instanceof
_geo.c.map.Ta.Pw?this.Tc.gsa():null};b.prototype.mva=function(a){this.Tc instanceof _geo.c.map.Ta.Pw&&this.Tc.mva(a);return this};b.prototype.Hsa=function(){return this.Tc instanceof _geo.c.map.Ta.Pw?this.Tc.Hsa():null};b.prototype.setVersion=function(a){this.Tc instanceof _geo.c.map.Ta.Pw&&this.Tc.setVersion(a);return this};b.prototype.BU=function(){return this.Tc instanceof _geo.c.map.Ta.Pw?this.Tc.BU():null};b.prototype.la=function(){var a=_geo.c.map.rc.Image.prototype.la.call(this);a.format=this.gsa();
a.version=this.BU();a.inflate=this.Tc instanceof _geo.c.map.Ta.Pw?this.Tc.otb():null;a.transparent=this.Hsa();return a};b.prototype.ka=function(a){if(null==a)return this;a=_geo.c.yc(a);this.Tc instanceof _geo.c.map.Ta.Pw&&(a.hasOwnProperty("format")&&this.Tc.Oka(a.format),a.hasOwnProperty("layers")&&this.Tc.AH(a.layers),a.hasOwnProperty("version")&&this.Tc.setVersion(a.version),a.hasOwnProperty("inflate")&&this.Tc.lBb(a.inflate),a.hasOwnProperty("transparent")&&this.Tc.mva(a.transparent));_geo.c.map.rc.Image.prototype.ka.call(this,
a);return this};return b}();
_geo.c.map.rc.WH=function(){function b(a){a=_geo.c.Ja(a,{source:a&&(a.source||a.sources)||new _geo.c.map.Ta.WH,templates:[],server:null});_geo.c.map.rc.ci.call(this,a);null!=a.featureTypes&&this.Tc.bbb(a.featureTypes)}_geo.c.na(b,_geo.c.map.rc.ci);_geo.c.ja(b,"geotoolkit.map.layers.WFS");b.prototype.la=function(){var a=_geo.c.map.rc.ci.prototype.la.call(this);a.featureTypes=this.Tc instanceof _geo.c.map.Ta.WH?this.Tc.Fsb():null;return a};b.prototype.ka=function(a){if(null==a)return this;a=_geo.c.yc(a);
null!=a.featuretypes&&this.Tc instanceof _geo.c.map.Ta.WH&&this.Tc.bbb(a.featuretypes);_geo.c.map.rc.ci.prototype.ka.call(this,a);return this};return b}();
_geo.c.map.rc.Xy=function(){function b(a){a=_geo.c.Ac(a,{source:a&&a.source||new _geo.c.map.Ta.Xy,tooltip:{visible:!1,formatter:new _geo.c.map.Xa.zba.qZa(null,null,window.Infinity,!0)}});this.VQb=function(a,b,e){this.Pa(_geo.c.map.Ta.aa.b_,this,e)}.bind(this);_geo.c.map.rc.Image.call(this,a);a.tooltip.layers&&this.sh().RCb(a.tooltip.layers)}var a=new _geo.c.f.sa,g=new _geo.c.f.Fc;_geo.c.na(b,_geo.c.map.rc.Image);_geo.c.ja(b,"geotoolkit.map.layers.ArcGISImage");b.prototype.ZL=function(a){var b=this.sh();
b instanceof _geo.c.map.Ta.Xy?b.ZL(a):a(Error("ArcGISImage source should be used to query a legend"));return this};b.prototype.an=function(b,d){var f=this.VG();if(!f)return[];var h=f.Uq(),f=this.Za();b=f.Ie(b,a);b.ga()<h.ga()?b.x+=h.ba():b.ga()>h.ya()&&(b.x-=h.ba());h=this.va();if(!h||!h.contains(b))return[];d=null==d?2:d;f.hk(g.gd(d,d),g);return this.Tc.Q1(new _geo.c.f.Rect(b.ga()-g.ba(),b.ea()-g.da(),b.ga()+g.ba(),b.ea()+g.da()),this)};b.prototype.rY=function(){return!0===this.pa.tooltip.visible?
this.pa.tooltip.formatter:null};b.prototype.FR=function(a){if(this.Tc===a)return this;null!=this.Tc&&this.Tc.pb(_geo.c.map.Ta.aa.b_,this.VQb);_geo.c.map.rc.Image.prototype.FR.call(this,a);null!=this.Tc&&this.Tc.tb(_geo.c.map.Ta.aa.b_,this.VQb);return this};return b}();
_geo.c.map.rc.Mv=function(){function b(a){a=_geo.c.Ja(a,{source:a&&(a.source||a.sources)||new _geo.c.map.Ta.Mv,templates:[],annotations:{}},!0);_geo.c.map.f.AC.UVb(a.annotations,"filter",_geo.c.map.Xa.filters.iXa);var b;b=Array.isArray(a.source)?1===a.source.length?a.source[0]:new _geo.c.map.Ta.cwa(a.source):a.source;null!=a.requestresolution&&b.fva(a.requestresolution);null!=a.idfield&&b.pZ(a.idfield);null!=a.requestfields&&b.B6("setRequestFields",a.requestfields);a.source=b;_geo.c.map.rc.ci.call(this,
a);null!=a.layer&&this.Tc instanceof _geo.c.map.Ta.Mv&&this.Tc.AH(a.layer)}var a=_geo.c.f.Bf.ib().Zb("px"),g=_geo.c.f.Bf.ib().Zb("metre");_geo.c.na(b,_geo.c.map.rc.ci);_geo.c.ja(b,"geotoolkit.map.layers.ArcGISFeature");b.prototype.VCa=function(){return this.Tc.VCa()};b.prototype.la=function(){var a=_geo.c.map.rc.ci.prototype.la.call(this);a.requestresolution=this.Tc.zub();return a};b.prototype.ka=function(a){if(null==a)return this;a=_geo.c.yc(a);0<a.requestresolution&&this.fva(a.requestresolution);
_geo.c.map.rc.ci.prototype.ka.call(this,a);return this};b.prototype.AH=function(a){null!=this.Tc&&this.Tc.AH(a);return this};b.prototype.KL=function(){return null!=this.Tc?this.Tc.KL():null};b.prototype.FR=function(b){_geo.c.map.rc.ci.prototype.FR.call(this,b);if(null!=this.Tc){var d=this;this.Tc.ota().then(function(b){if(null!=b){1===d.Rw&&(d.Rw=b.x7a());var e=new _geo.c.map.Xa.filters.HIa(b.Fba());d.pa.annotations.filter.push(e);b=b.A8a();null==d.i5&&null!=b&&(d.i5=new _geo.c.V.filters.bZa({minscale:g.Ib(b[0],
a),minscaleinclusive:!1,maxscale:g.Ib(b[1],a),maxscaleinclusive:!1}))}})}return this};b.prototype.C2=function(b,d){var f=[],h=[],l=this.KL();b.forEach(function(a){var b=a.e7().ita;if(null==b)h.push(a);else if(null==l||-1!==l.indexOf(b))f[b]=f[b]||[],f[b].push(a)});f=f.reverse();0<h.length&&f.push(h);var k=a.Ib(d.$a().Rb(),g);f.forEach(function(a){if(0!==a.length){var b=a[0].e7(),e=(b=a!==h?this.Tc.jsa(b.ita):null)?b.A8a():null;null!=e&&(null!=e[0]&&e[0]>k||null!=e[1]&&e[1]<k)||(b=b?b.x7a():1,null!=
d.pk&&(d.pk().globalAlpha=this.Rw*b),_geo.c.map.rc.ci.prototype.C2.call(this,a,d),_geo.c.map.rc.ci.prototype.P7b.call(this,d))}}.bind(this))};b.prototype.ZL=function(a){var b=this.sh();b instanceof _geo.c.map.Ta.Mv?b.ZL(a):a(Error("ArcGISFeature source should be used to query a legend"));return this};return b}();
_geo.c.map.rc.dE=function(){function b(a){a=a||{};a.source=a.source||a.sources||new _geo.c.map.Ta.dE;_geo.c.map.rc.ci.call(this,a)}_geo.c.na(b,_geo.c.map.rc.ci);_geo.c.ja(b,"geotoolkit.map.layers.GeoJSON");b.prototype.M5b=function(a){this.Tc.Ija(a);return this};return b}();_geo.c.map.rc.mS=function(){function b(a){a=a||{};a.source=a.source||a.sources||new _geo.c.map.Ta.mS;_geo.c.map.rc.ci.call(this,a)}_geo.c.na(b,_geo.c.map.rc.ci);_geo.c.ja(b,"geotoolkit.map.layers.KML");return b}();
_geo.c.map.rc.VJ=function(){function b(a){a=_geo.c.Ja(a,{source:a&&(a.source||a.sources)||new _geo.c.map.Ta.VJ,system:_geo.c.map.Xu.$y,latitudefield:null,longitudefield:null},!0);_geo.c.map.rc.ci.call(this,a);null!=a.latitudefield&&this.Tc.ubb(a.latitudefield);null!=a.longitudefield&&this.Tc.Dbb(a.longitudefield)}_geo.c.na(b,_geo.c.map.rc.ci);_geo.c.ja(b,"geotoolkit.map.layers.CSV");b.prototype.la=function(){var a=_geo.c.map.rc.ci.prototype.la.call(this);a.latitudefield=this.Tc instanceof _geo.c.map.Ta.VJ?
this.Tc.xtb():null;a.longitudefield=this.Tc instanceof _geo.c.map.Ta.VJ?this.Tc.Itb():null;return a};b.prototype.ka=function(a){if(null==a)return this;a=_geo.c.yc(a);this.Tc instanceof _geo.c.map.Ta.VJ&&(null!=a.latitudefield&&this.Tc.ubb(a.latitudefield),null!=a.longitudefield&&this.Tc.Dbb(a.longitudefield));_geo.c.map.rc.ci.prototype.ka.call(this,a);return this};return b}();
_geo.c.map.rc.UV=function(){function b(a){a=a||{};a.system=a.system||_geo.c.map.Xu.$y;a.source=a.source||a.sources||new _geo.c.map.Ta.UV;_geo.c.map.rc.ci.call(this,a)}_geo.c.na(b,_geo.c.map.rc.ci);_geo.c.ja(b,"geotoolkit.map.layers.GeoRSS");return b}();_geo.c.map.rc.wp=function(){function b(a){a=a||{};a.source=a.source||a.sources||new _geo.c.map.Ta.wp;_geo.c.map.rc.ci.call(this,a)}_geo.c.na(b,_geo.c.map.rc.ci);_geo.c.ja(b,"geotoolkit.map.layers.Stream");return b}();
_geo.c.map.rc.fA=function(){function b(a){a=_geo.c.Ja(a,{source:a&&(a.source||a.sources)||new _geo.c.map.Ta.fA},!0);null!=a.key&&a.source.pBb(a.key);null!=a.culture&&a.source.oAb(a.culture);null!=a.centerpoint&&a.source.aUa(a.centerpoint);null!=a.imageryset&&a.source.eBb(a.imageryset);_geo.c.map.rc.lk.call(this,a)}_geo.c.na(b,_geo.c.map.rc.lk);_geo.c.ja(b,"geotoolkit.map.layers.Bing");b.prototype.Ii=function(a){var b=this.Wb(!0),e=a.Ye();this.Tc.Mf(b,this);var b=a.$a(),d=b.transform(this.va());a.save();
a.sc(_geo.c.f.Fa.XV);var f=this.Tc.aJ(),f={width:d.ba()/f.ba(),height:d.da()/f.da()},e={RL:Math.floor((e.ua()-d.ua())/f.width),wJ:Math.ceil((e.ya()-d.ua())/f.width),mO:Math.floor((e.ta()-d.ta())/f.height),jO:Math.ceil((e.xa()-d.ta())/f.height)},h=d.ua()+e.RL*f.width,d=d.ta()+e.mO*f.height,l=this.Tc.ry();null!=a.pk&&1!==this.Rw&&(a.pk().globalAlpha=this.Rw);for(var k in l)l[k]instanceof _geo.c.V.$.Image&&this.lab(l[k],a,e,h,d,f);a.sc(b);a.restore()};return b}();
_geo.c.map.rc.LC=function(){function b(a){a=a||{};a.source=a.source||a.sources||new _geo.c.map.Ta.LC(a);a.converters=a.converters||null;this.kha=function(a,b,d){this.MT=null;this.ma(d)}.bind(this);_geo.c.map.rc.ci.call(this,a)}_geo.c.na(b,_geo.c.map.rc.ci);_geo.c.ja(b,"geotoolkit.map.layers.VectorTile");b.prototype.py=function(a){var b=this.getParent();if(!b)return _geo.c.f.Iterator.Hm([]);var e=null;a instanceof _geo.c.map.f.N9&&(e=a.ce(),a=a.qQa());b=null!=e?e:b.va();return this.Tc.ry(b,a)};b.prototype.FR=
function(a){if(this.Tc===a)return this;null!=this.Tc&&this.Tc.pb(_geo.c.map.Ta.aa.BS,this.kha);null!=a&&a.tb(_geo.c.map.Ta.aa.BS,this.kha);_geo.c.map.rc.ci.prototype.FR.call(this,a);return this};b.prototype.dsb=function(a){a=_geo.c.map.rc.ci.prototype.dsb.call(this,a);return null!=a?(a.Ub().Ma(!1),a):null};return b}();
_geo.c.map.ia.ZEb=function(){function b(a){this.pT=null;_geo.c.controls.ia.Selection.call(this,a);this.gCb(_geo.c.controls.ia.aq.xHa);this.addListener(_geo.c.controls.ia.Tea.aa.Wca,function(a,b){var d=b.getSelection();if(null!=d){for(var f=null,h=null,l=0;l<=d.length;l++)d[l]instanceof _geo.c.map.Xa.ZD?f=d[l]:d[l]instanceof _geo.c.map.rc.l4&&(h=d[l]);if(null!=h){d=!1;null==f?null!=this.pT&&(this.pT.GR(!1),this.pT=null,d=!0):f.n7a()?(f.GR(!1),f===this.pT&&(this.pT=null,d=!0)):f.getParent()?f.GR(!0):
(null!=this.pT&&this.pT.GR(!1),f.GR(!0),this.pT=f,d=!0);if(null==this.pT)h.M$b(null);else{f=[this.pT];for(l=0;l<f.length;++l)f[l].n7a()&&f.push.apply(f,f[l].fk());f.reverse();h.M$b(f)}d&&h.ma()}}}.bind(this));this.Qb("aggregation-selection")}_geo.c.na(b,_geo.c.controls.ia.Selection);_geo.c.ja(b,"geotoolkit.map.tools.AggregationSelection");b.prototype.zc=function(a){_geo.c.controls.ia.Selection.zc.call(this,a);a||null==this.pT||(this.pT.GR(!1),this.pT=null);return this};return b}();
_geo.c.map.f.AC=function(){function b(a,b,f){if(!(0>b))for(var g=0;g<a.length;++g){if(b<a[g].length){a.splice(g,1,a[g].substr(0,b),f,a[g].substr(b+f.length));break}b-=a[g].length}}function a(){}var g={};g[_geo.c.map.Xa.ZD.getClassName()]=0;g[_geo.c.map.Xa.sa.getClassName()]=1;g[_geo.c.map.Xa.mK.getClassName()]=1;g[_geo.c.map.Xa.Rs.getClassName()]=2;g[_geo.c.map.Xa.lK.getClassName()]=2;g[_geo.c.map.Xa.If.getClassName()]=3;g[_geo.c.map.Xa.CM.getClassName()]=3;_geo.c.ja(a,"geotoolkit.map.util.FeatureUtil");
a.UVb=function(a,b,f){Array.isArray(a[b])||(a[b]=null==a[b]?[]:[a[b]]);a=a[b];for(b=0;b<a.length;++b)if(a[b]instanceof f)return a[b];a.push(new f);return a[a.length-1]};a.wVb=function(a,b){return g[a.getClassName()]-g[b.getClassName()]};a.Pcb=function(b){var d,f=0;if(Array.isArray(b))for(d=0;d<b.length;++d)f+=a.Pcb(b[d]);else{var g=b.x,l=b.y;b=b.clip;if(Array.isArray(b))for(d=0;d<b.length;++d)f+=a.Pcb(b[d]);if(Array.isArray(g))for(d=0;d<g.length;++d)f+=g[d]+l[d];else f+=g+l}return f};a.h6a=function(b,
d){var f;if(Array.isArray(b)){var g=b.length;if(!Array.isArray(d)||d.length!==g)return!1;for(f=0;f<g;++f)if(!a.h6a(b[f],d[f]))return!1;return!0}if(Array.isArray(d))return!1;f=Array.isArray(b.x);g=Array.isArray(d.x);if(f!==g)return!1;var g=Array.isArray(b.y),l=Array.isArray(d.y);if(g!==l)return!1;var l=null!=b.clip,k=null!=d.clip;if(l!==k)return!1;if(f)for(f=0;f<b.x.length;++f){if(b.x[f]!==d.x[f])return!1}else if(b.x!==d.x)return!1;if(g)for(f=0;f<b.y.length;++f){if(b.y[f]!==d.y[f])return!1}else if(b.y!==
d.y)return!1;return l?a.h6a(b.clip,d.clip):!0};a.drb=function(b,d){if(!Array.isArray(d)){var f=b.MA(),g=d.MA(),l=b.ce(),k=d.ce();return JSON.stringify(f)===JSON.stringify(g)&&a.h6a(l,k)}for(f=0;f<d.length;++f)if(a.drb(b,d[f]))return!0;return!1};a.Rxb=function(a){var b=[];if(null==a)return b;for(var f=Object.keys(a),g=0;g<f.length;++g){var l=f[g];"settings"!==l&&"connector"!==l&&null!=a[l]&&b.push(l)}return b};a.MBa=function(a,b){var f=[],g;for(g in b)f.push(g+"="+b[g]);if(0===f.length)return a;g=
0<=a.indexOf("?")?a+"&":a+"?";return g+f.join("&")};a.B_b=function(a,d){for(var f=[a],g=0;g<d.length;++g)b(f,a.indexOf(d[g]),d[g]);return f.filter(function(a){return""!==a})};a.Sqa=function(a,b,f,g,l){a=a.e7();a.bdc&&a.adc||(f.Ec(g),a.bdc=f.ba()/2,a.adc=f.da()/2);a.wla&&a.vla||(a.wla=a.bdc*l.width,a.vla=a.adc*l.height);g=f.LA()-a.wla;f=f.my()-a.vla;return b.Wd(g,f,2*a.wla,2*a.vla)};return a}();
_geo.c.map.f.Ex=function(){function b(){}function a(a){this.xmc=null!=a?a:!0;this.jI=[];this.Md=[]}var g,e,d,f,h=_geo.c.f.Bf.ib().Zb("pt"),l=new _geo.c.f.vb(0,0,0,0),k=new _geo.c.f.sa;a.prototype.A4a=function(a,b){if(this.xmc)if("string"===typeof b){var d=b.substr(-2),e=(0,window.parseFloat)(b);b="pt"===d?h.Ib(e,"px"):e}else b=h.Ib(b,"px");for(d=0;d<this.jI.length;++d)if(a<this.jI[d]){this.jI.splice(d,0,a);this.Md.splice(d,0,b);return}this.jI.push(a);this.Md.push(b)};a.prototype.Da=function(a){if(1>=
this.jI.length||this.jI[0]>=a)return this.Md[0]||0;for(var b=1;b<this.jI.length;++b)if(this.jI[b]>=a)return a=(a-this.jI[b-1])/(this.jI[b]-this.jI[b-1]),this.Md[b-1]+a*(this.Md[b]-this.Md[b-1]);return this.Md[this.Md.length-1]};a.prototype.ge=function(){return 0<this.jI.length};_geo.c.ja(b,"geotoolkit.map.util.ArcGIS");b.parse=function(a,d,e){var f=a.drawingInfo||{},f=f.renderer,g={Sa:f,type:b.Zxb(a.geometryType)};if(!f)return g;var h=b.WCc(f);switch(f.type){case "simple":g.symbol={io:h,HX:b.ada(f.symbol,
d,e)};break;case "uniqueValue":var k=f.uniqueValueInfos;for(a=0;a<k.length;a++)g[k[a].value]={io:h,HX:b.ada(k[a].symbol,d,e)};null!=f.defaultSymbol&&(g.FBa={io:h,label:f.defaultLabel,HX:b.ada(f.defaultSymbol,d,e)});break;case "classBreaks":g.U4a=[];g.j5a={};k=f.classBreakInfos;for(a=0;a<k.length;a++)g.U4a[a]={io:h,label:k[a].label,HX:b.ada(k[a].symbol,d,e)},g.j5a[a]={fh:k[a].classMinValue,Jh:k[a].classMaxValue};null!=f.defaultSymbol&&(g.FBa={io:h,label:f.defaultLabel,HX:b.ada(f.defaultSymbol,d,e)});
break;case "vectorField":g=b.aDc(f,g,h);break;default:_geo.c.warn("This renderer type is not supported!")}return g};b.ada=function(a,d,f){if(null==a)return null;d=b.n7b(a,d);switch(a.type){case "esriSMS":null==e&&(e={esriSMSSquare:_geo.c.V.$.nc.afa,esriSMSCircle:_geo.c.V.$.nc.Yy,esriSMSCross:_geo.c.V.$.nc.DHa,esriSMSDiamond:_geo.c.V.$.nc.nwa,esriSMSTriangle:_geo.c.V.$.nc.jfa,esriSMSX:_geo.c.V.$.nc.DHa,"default":_geo.c.V.$.nc.Yy});d=b.D$a(a.outline);var g=null!=d?2*d.ba():0;return new _geo.c.map.Xa.jf.sa({shape:new _geo.c.V.$.Symbol({painter:null!=
e[a.style]?e[a.style]:e["default"],width:a.size+g,height:a.size+g,sizeisindevicespace:!0,ax:a.xoffset,ay:a.yoffset,fillstyle:b.Hi(a.color),linestyle:d}),textshape:f});case "esriPMS":return new _geo.c.map.Xa.jf.sa({shape:new _geo.c.V.$.Image({ax:a.xoffset,ay:a.yoffset,width:a.width,height:a.height,alignment:_geo.c.f.Ca.ub,ispointingup:!0,sizeisindevicespace:!0,url:d}),textshape:f});case "esriSFS":return new _geo.c.map.Xa.jf.If({shape:new _geo.c.V.$.If({fillstyle:b.QCc(a),linestyle:b.D$a(a.outline)}),
textshape:f});case "esriPFS":return new _geo.c.map.Xa.jf.If({shape:new _geo.c.V.$.If({fillstyle:new _geo.c.attributes.Ha({pattern:new _geo.c.attributes.$O({url:d})}),linestyle:b.D$a(a.outline)}),textshape:f});case "esriSLS":return new _geo.c.map.Xa.jf.Rs({shape:new _geo.c.V.$.hr({linestyle:b.D$a(a)}),textshape:f})}return null};b.n7b=function(a,b){if(null!=a.imageData){var d=a.contentType||"image/png";return"data:"+d+";base64,"+a.imageData}return null!=a.url?b+a.url:null};b.Hi=function(a){return Array.isArray(a)?
new _geo.c.f.vb(a[0],a[1],a[2],a[3]):a};b.D$a=function(a){if(null==a)return null;null==g&&(g={esriSLSDash:_geo.c.attributes.za.pK.reb,esriSLSDashDot:_geo.c.attributes.za.pK.seb,esriSLSDashDotDot:_geo.c.attributes.za.pK.teb,esriSLSDot:_geo.c.attributes.za.pK.XWa,esriSLSSolid:_geo.c.attributes.za.pK.Nw,"default":_geo.c.attributes.za.pK.Nw});return new _geo.c.attributes.za({color:b.Hi(a.color),width:null!=a.width?a.width:1,style:null!=g[a.style]?g[a.style]:g["default"]})};b.nH=function(a){if(null==a)return null;
var b=null!=a.size?a.size+"pt ":"12px ",d=null!=a.family?a.family:"sans-serif",e=null!=a.style?a.style+" ":"";a=null!=a.weight?a.weight+" ":"";return a+e+b+d};b.TCc=function(a){if(null==a)return null;null==d&&(d={esriSFSSolid:null,esriSFSNull:new _geo.c.attributes.$O({src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxMCcgaGVpZ2h0PScxMCc+ICA8cmVjdCB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIGZpbGw9J25vbmUnLz48L3N2Zz4="}),esriSFSHollow:new _geo.c.attributes.$O({src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxMCcgaGVpZ2h0PScxMCc+ICA8cmVjdCB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIGZpbGw9J25vbmUnLz48L3N2Zz4="}),
esriSFSHorizontal:new _geo.c.attributes.$O({src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxMCcgaGVpZ2h0PScxMCc+ICA8cmVjdCB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIGZpbGw9J25vbmUnIC8+ICA8cmVjdCB4PScwJyB5PScwJyB3aWR0aD0nMTAnIGhlaWdodD0nMScgZmlsbD0nYmxhY2snIC8+PC9zdmc+"}),esriSFSVertical:new _geo.c.attributes.$O({src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxMCcgaGVpZ2h0PScxMCc+ICA8cmVjdCB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIGZpbGw9J25vbmUnIC8+ICA8cmVjdCB4PScwJyB5PScwJyB3aWR0aD0nMScgaGVpZ2h0PScxMCcgZmlsbD0nYmxhY2snIC8+PC9zdmc+"}),
esriSFSForwardDiagonal:new _geo.c.attributes.$O({src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxMCcgaGVpZ2h0PScxMCc+ICA8cmVjdCB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIGZpbGw9J25vbmUnLz4gIDxwYXRoIGQ9J00wLDAgbDEwLDEwJyBzdHJva2U9J2JsYWNrJyBzdHJva2Utd2lkdGg9JzEnLz48L3N2Zz4="}),esriSFSBackwardDiagonal:new _geo.c.attributes.$O({src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxMCcgaGVpZ2h0PScxMCc+ICA8cmVjdCB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIGZpbGw9J25vbmUnLz4gIDxwYXRoIGQ9J00tMSwxIGwyLC0yICAgICAgICAgICBNMCwxMCBsMTAsLTEwICAgICAgICAgICBNOSwxMSBsMiwtMicgc3Ryb2tlPSdibGFjaycgc3Ryb2tlLXdpZHRoPScxJy8+PC9zdmc+"}),
esriSFSCross:new _geo.c.attributes.$O({src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxMCcgaGVpZ2h0PScxMCc+ICA8cmVjdCB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIGZpbGw9J25vbmUnLz4gIDxwYXRoIGQ9J001LDAgbDAsMTAgICAgICAgICAgIE0wLDUgbDEwLDAnIHN0cm9rZT0nYmxhY2snIHN0cm9rZS13aWR0aD0nMScvPjwvc3ZnPg=="}),esriSFSDiagonalCross:new _geo.c.attributes.$O({src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxMCcgaGVpZ2h0PScxMCc+ICA8cmVjdCB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIGZpbGw9J25vbmUnLz4gIDxwYXRoIGQ9J00wLDAgbDEwLDEwICAgICAgICAgICBNMTAsMCBsLTEwLDEwJyBzdHJva2U9J2JsYWNrJyBzdHJva2Utd2lkdGg9JzEnLz48L3N2Zz4="})});
return d[a]};b.QCc=function(a){var d=b.TCc(a.style);a=b.Hi(a.color);return null!=d?new _geo.c.attributes.Ha({color:l,pattern:d,foreground:a}):new _geo.c.attributes.Ha({color:a})};b.$ca=function(a,b){var d=[];if(!Array.isArray(a))return k.lb(a.x,a.y),b&&b.transform(k,k),[{x:k.x,y:k.y}];for(var e=0<a.length&&Array.isArray(a[0][0]),f=0;f<a.length;f++)if(!e)k.lb(a[f][0],a[f][1]),b&&b.transform(k,k),d.push({x:k.x,y:k.y});else if(Array.isArray(a[f])){for(var g={x:[],y:[]},h=0;h<a[f].length;h++)k.lb(a[f][h][0],
a[f][h][1]),b&&b.transform(k,k),g.x.push(k.x),g.y.push(k.y);d.push(g)}return d};b.k7b=function(a){return Array.isArray(a)&&0!==a.length?b.ZCc(a[0].symbol):null};b.ZCc=function(a){if(null==a)return null;var d=b.Hi(a.backgroundColor),e=b.Hi(a.borderLineColor),f=null!=a.borderLineSize?a.borderLineSize:1,g=b.UCc(a.labelPlacement),h=null==a.haloColor?null:new _geo.c.attributes.za({color:b.Hi(a.haloColor),size:null==a.haloSize?1:a.haloSize/.75});return new _geo.c.V.$.Text({textstyle:new _geo.c.attributes.kb({color:b.Hi(a.color),
font:b.nH(a.font),alignment:"center",outline:h}),ispointingup:!0,fillstyle:d?new _geo.c.attributes.Ha(d):null,linestyle:e?new _geo.c.attributes.za(e,f):null,alignment:g})};b.UCc=function(a){if("string"!==typeof a)return _geo.c.f.Ca.ub;var b=-1<a.indexOf("Left"),d=!b&&-1<a.indexOf("Right");return-1<a.indexOf("Above")?b&&_geo.c.f.Ca.nhb||d&&_geo.c.f.Ca.oMb||_geo.c.f.Ca.qh:-1<a.indexOf("Below")?b&&_geo.c.f.Ca.zFb||d&&_geo.c.f.Ca.AFb||_geo.c.f.Ca.uj:b&&_geo.c.f.Ca.We||d&&_geo.c.f.Ca.eh||_geo.c.f.Ca.ub};
b.bja=function(a,d){if(!d)return null;var e,f=d.Sa;switch(f.type){case "simple":return b.iDa(d.symbol,a);case "uniqueValue":for(var g=1;f.hasOwnProperty("field"+g);){e=a[f["field"+g]];if(null!=d[e])return b.iDa(d[e],a);g++}break;case "classBreaks":e=+a[f.field];for(g=0;g<d.U4a.length;g++){var h=d.j5a[g].fh||(0<g?d.j5a[g-1].Jh:f.minValue);if(e>=h&&e<=d.j5a[g].Jh)return b.iDa(d.U4a[g],a)}break;case "vectorField":g=d.R8;e=f.attributeField;if(!a.hasOwnProperty(e))for(h in e=e.toLowerCase(),a)if(h.toLowerCase()===
e){f.attributeField=h;break}e=a[f.attributeField];if(!g||null==e)break;for(f=1;f<g.length-1;++f)if(e<g[f])return b.iDa(d.rZ[f-1],a);return b.iDa(d.rZ[d.rZ.length-1],a)}return b.iDa(d.FBa,a)};b.Zxb=function(a){switch(a){case "esriGeometryPoint":return[_geo.c.map.Xa.sa,_geo.c.map.Xa.mK,null];case "esriGeometryMultipoint":return[_geo.c.map.Xa.sa,_geo.c.map.Xa.mK,"points"];case "esriGeometryPath":case "esriGeometryLine":case "esriGeometryPolyline":return[_geo.c.map.Xa.Rs,_geo.c.map.Xa.lK,"paths"];default:return[_geo.c.map.Xa.If,
_geo.c.map.Xa.CM,"rings"]}};b.warn=function(a){if(null!=a){var b=a.code,d=a.details;a=a.message;_geo.c.warn("ArcGIS layer returned error ("+b+"):\n"+(Array.isArray(d)&&0<d.length?d.join("\n"):a))}};b.aDc=function(a,d,e){var f=new _geo.c.attributes.za("black",1.5),g=b.u7b("M15 32 15 16 10 23 16 3 22 23 17 16 17 32"),h;switch(a.style.toLowerCase()){case "wind_speed":h=b.Usc(.5,.3,f);a=[h,h];g="M25 0 25 40 M25 35 17.5 37.5;M25 0 25 40 10 45 25 40;M25 0 25 40 10 45 25 40 M25 35 17.5 37.5;M25 0 25 40 10 45 25 40 M25 35 10 40;M25 0 25 40 10 45 25 40 M25 35 10 40 25 35 M25 30 17.5 32.5;M25 0 25 40 10 45 25 40 M25 35 10 40 25 35 M25 30 10 35;M25 0 25 40 10 45 25 40 M25 35 10 40 25 35 M25 30 10 35 25 30 M25 25 17.5 27.5;M25 0 25 40 10 45 25 40 M25 35 10 40 25 35 M25 30 10 35 25 30 M25 25 10 30;M25 0 25 40 10 45 25 40 M25 35 10 40 25 35 M25 30 10 35 25 30 M25 25 10 30 25 25 M25 20 17.5 22.5;M25 0 25 40 10 40 25 35;M25 0 25 40 10 40 25 35 M25 30 17.5 32.5;M25 0 25 40 10 40 25 35 M25 30 10 35;M25 0 25 40 10 40 25 35 M25 30 10 35 25 30 M25 25 17.5 27.5;M25 0 25 40 10 40 25 35 M25 30 10 35 25 30 M25 25 10 30;M25 0 25 40 10 40 25 35 M25 30 10 35 25 30 M25 25 10 30 25 25 M25 20 17.5 22.5;M25 0 25 40 10 40 25 35 M25 30 10 35 25 30 M25 25 10 30 25 25 M25 20 10 25;M25 0 25 40 10 40 25 35 M25 30 10 35 25 30 M25 25 10 30 25 25 M25 20 10 25 25 20 M25 15 17.5 17.5;M25 0 25 40 10 40 25 35 M25 30 10 35 25 30 M25 25 10 30 25 25 M25 20 10 25 25 20 M25 15 10 20;M25 0 25 40 10 40 25 35 M25 30 10 35 25 30 M25 25 10 30 25 25 M25 20 10 25 25 20 M25 15 10 20 25 15 M25 10 17.5 12.5;M25 0 25 40 10 40 25 35 10 35 25 30;M25 0 25 40 10 40 25 35 10 35 25 30 M25 25 17.5 27.5;M25 0 25 40 10 40 25 35 10 35 25 30 M25 25 10 30;M25 0 25 40 10 40 25 35 10 35 25 30 M25 25 10 30 M25 25 M25 20 17.5 22.5;M25 0 25 40 10 40 25 35 10 35 25 30 M25 25 10 30 M25 25 M25 20 10 25;M25 0 25 40 10 40 25 35 10 35 25 30 M25 25 10 30 M25 25 M25 20 10 25 M25 20 M25 15 17.5 17.5;M25 0 25 40 10 40 25 35 10 35 25 30 M25 25 10 30 M25 25 M25 20 10 25 M25 20 M25 15 10 20;M25 0 25 40 10 40 25 35 10 35 25 30 M25 25 10 30 M25 25 M25 20 10 25 M25 20 M25 15 10 20 M25 15 M25 10 17.5 12.5;M25 0 25 40 10 40 25 35 10 35 25 30 M25 25 10 30 M25 25 M25 20 10 25 M25 20 M25 15 10 20 M25 15 M25 10 10 15;M25 0 25 40 10 40 25 35 10 35 25 30 M25 25 10 30 M25 25 M25 20 10 25 M25 20 M25 15 10 20 M25 15 M25 10 10 15 M25 10 M25 5 17.5 7.5".split(";");
d.R8=[0,5];for(var k=0,l=10;150>=l;k++,l+=5)d.R8.push(l),a.push(b.u7b(g[k]).Ba(f));d.rZ=b.gba(a,e);break;case "single_arrow":h=g.Ea("#005ce6");break;case "classified_arrow":h=g.Ea("#38a800");d.R8=[0,1E-6,3.5,7,10.5,14];d.rZ=b.gba(g,e,["#38a800","#8b3500","#ffff00","#ff8000","#ff0000"]);break;case "beaufort_m":h=g.Ea("#d62f27");d.R8=[0,.2,1.8,3.3,5.4,8.5,11,14.1,17.2,20.8,24.4,28.6,32.7];d.rZ=b.gba(g,e,"#4575b5 #6589b8 #849eba #a2b4bd #c0ccbe #dee3bf #ffffbf #ffdca1 #fab984 #f59869 #ed7551 #e81515".split(" "));
break;case "beaufort_km":h=g.Ea("#d62f27");d.R8=[0,.72,6.48,11.88,19.44,30.6,39.6,50.76,61.92,74.88,87.84,102.96,117.72];d.rZ=b.gba(g,e,"#4575b5 #6589b8 #849eba #a2b4bd #c0ccbe #dee3bf #ffffbf #ffdca1 #fab984 #f59869 #ed7551 #e81515".split(" "));break;case "beaufort_ft":h=g.Ea("#d62f27");d.R8=[0,.656168,5.905512,10.826772,17.716536,27.88714,36.08924,46.259844,56.430448,68.241472,80.052496,93.832024,107.283468];d.rZ=b.gba(g,e,"#4575b5 #6589b8 #849eba #a2b4bd #c0ccbe #dee3bf #ffffbf #ffdca1 #fab984 #f59869 #ed7551 #e81515".split(" "));
break;case "beaufort_mi":h=g.Ea("#d62f27");d.R8=[0,.447388,4.026492,7.381902,12.079476,19.01399,24.60634,31.540854,38.475368,46.528352,54.581336,63.976484,73.147938];d.rZ=b.gba(g,e,"#4575b5 #6589b8 #849eba #a2b4bd #c0ccbe #dee3bf #ffffbf #ffdca1 #fab984 #f59869 #ed7551 #e81515".split(" "));break;case "beaufort_kn":h=g.Ea("#d62f27");d.R8=[0,1,3,6,10,16,21,27,33,40,47,55,63];d.rZ=b.gba(g,e,"#2892c7 #59a2ba #81b3ab #a0c29b #bfd48a #dae677 #fafa64 #fcd553 #fcb366 #fa8d34 #f76e2a #f0471d".split(" "));
break;case "ocean_current_m":h=g.Ea("#b1b1b1");d.R8=[0,.5,1,1.5,2];d.rZ=b.gba(g,e,["#4e1a99","#b31b1a","#ca801a","#b1b1b1"]);break;case "ocean_current_kn":h=g.Ea("#b1b1b1");d.R8=[0,.25,.5,1,1.5,2,2.5,3,3.5,4];d.rZ=b.gba(g,e,"#000000 #002564 #4e1a99 #970064 #b31b1a #b14e1a #ca801a #b1b334 #b1b1b1".split(" "));break;case "simple_scalar":var w=(new _geo.c.V.$.Dk({fillstyle:"black",linestyle:null})).moveTo(.4,.4).lineTo(.4,.6).lineTo(.6,.6).lineTo(.6,.4);h=function(a,b,d){d.Ba(f);_geo.c.V.$.nc.Yy.call(this,
a,b,d);w.Aa(d)};break}d.FBa=new _geo.c.map.Xa.jf.sa({shape:new _geo.c.V.$.Symbol({width:40,height:40,sizeisindevicespace:!0,painter:h})});return d};b.Usc=function(a,b,d){var e=new _geo.c.f.Rect(.5-a,.5-a,.5+a,.5+a),f=new _geo.c.f.Rect(.5-b,.5-b,.5+b,.5+b);return function(a,b,g){g.Ba(d);_geo.c.V.$.nc.Yy.call(this,a,e,g);_geo.c.V.$.nc.Yy.call(this,a,f,g)}};b.u7b=function(a){var d=new _geo.c.V.$.Dk({linestyle:null});a=a.split(" ");for(var e=0;e<a.length;)switch(a[e][0]){case "M":d.moveTo(+a[e++].substr(1),
+a[e++]);break;case "L":d.lineTo(+a[e++].substr(1),+a[e++]);break;default:d.lineTo(+a[e++],+a[e++]);break}return b.LBc(d)};b.gba=function(a,b,d){var e=[],f=new _geo.c.map.Xa.Wm.sa,g=Array.isArray(a),h=Array.isArray(d),k,l=g?a.length:d.length,x,y;for(k=0;k<l;++k)y=h?d[k]:d,x=g?a[k]:a.clone(),"function"!==typeof x&&null!=y&&x.Ea(y).Ba(y),e.push({io:b,HX:new _geo.c.map.Xa.jf.sa({shape:new _geo.c.V.$.Symbol({sizeisindevicespace:!0,painter:x}),geometrytoshape:f})});return e};b.LBc=function(a){var b=a.ha(),
d=Math.max(b.ba(),b.da()),e=d/2,f=e-b.rd(),b=e-b.td(),d=1/d;a.je(new _geo.c.f.Fa(d,0,0,d,f*d,b*d));return a};b.bDc=function(a){if(!a||!Array.isArray(a.visualVariables))return[];for(var d,e=[],f=0;f<a.visualVariables.length;++f){d=a.visualVariables[f];switch(d.type){case "colorInfo":d=b.LCc(d);break;case "sizeInfo":d=b.XCc(d);break;case "transparencyInfo":d=b.$Cc(d);break;case "rotationInfo":d.rotationExpression=d.valueExpression||d.field&&"["+d.field+"]";d=b.r7b(d);break;default:d=null}d&&e.push(d)}return e};
b.J6a=function(a,b,d,e){var f=0;if(null!=b){if(a.hasOwnProperty(b))f=+a[b];else{d=b.toLowerCase();for(var g in a)if(g.toLowerCase()===d){f=+a[g];break}}return e?f/+a[e]:f}if(null==d)return 0;f=d.DPc();for(g=0;g<f.length;++g)f[g].value=+a[f[g].name];f=d.yh(f);return e?f/+a[e]:f};b.$Cc=function(d){if(!Array.isArray(d.stops))return null;var e=d.field,f=d.normalizationField,g=d.stops,h;if(!e&&(h=b.z$a(d.valueExpression),!h))return null;var k=new a(!1);for(d=0;d<g.length;++d)k.A4a(g[d].value,1-g[d].transparency/
100);return k.ge()?function(a,d){var g=b.J6a(a,e,h,f);d.MJ=+k.Da(g).toFixed(2)}:null};b.z$a=function(a){if(!a)return null;var b=[];a=a.replace(/\[[^\s]+]/g,function(a){a=a.substr(1,a.length-2);b.push(a);return a});if(0===b.length)return null;f=f||new _geo.c.selection.ZIa({});return f.parse(b.join(",")+" => "+a)};b.XCc=function(d){var e=new a,f=d.field,g=d.normalizationField,h=d.stops,k;if(!f&&(k=b.z$a(d.valueExpression),!k))return null;null!=d.minSize&&null!=d.minDataValue&&e.A4a(d.minDataValue,d.minSize);
null!=d.maxSize&&null!=d.maxDataValue&&e.A4a(d.maxDataValue,d.maxSize);if(Array.isArray(h))for(d=0;d<h.length;++d)e.A4a(h[d].value,h[d].size);return e.ge()?function(a,d){var h=b.J6a(a,f,k,g);d.size=e.Da(h)}:null};b.LCc=function(a){if(!Array.isArray(a.stops))return null;var d=[],e=[],f=a.field,g=a.normalizationField,h=a.stops,k;if(!f&&(k=b.z$a(a.valueExpression),!k))return null;for(a=0;a<h.length;++a)e.push(h[a].value),d.push(b.Hi(h[a].color));var l=new _geo.c.f.er({values:e,colors:d});return function(a,
d){var e=b.J6a(a,f,k,g);d.color=l.Kc(e)}};b.r7b=function(a){var d=a.rotationType,e=b.z$a(a.rotationExpression),f=null,g=a.normalizationField;if(!e)if("vectorField"===a.type)f="Direction";else return null;var h,k;d&&"arithmetic"===d.toLowerCase()?(h=1,k=-Math.PI/2):(h=-1,k=Math.PI);var l=!0,w=2*Math.PI;return function(a,d){var m=b.J6a(a,f,e,g);l&&(m<-w||m>w)&&(k=_geo.c.f.Math.v2(k),l=!1);d.Fz=k+h*m;l&&(d.Fz=_geo.c.f.Math.v2(d.Fz));d.Fz=1.8*Math.round(d.Fz/1.8);d.Fz=_geo.c.f.Math.IA(d.Fz)}};b.WCc=function(a){var d=
b.bDc(a);(a=b.r7b(a))&&d.push(a);return 0===d.length?null:function(a){for(var b={},e=0;e<d.length;++e)d[e](a,b);return b}};b.iDa=function(a,b){if(!a||!a.HX)return null;var d=a.HX,e=a.io;if(null==e)return d;a.nUb=a.nUb||[];for(var f=a.nUb,g=d.Ub(),e=e(b),h=0;h<f.length;++h)if(e.color===f[h].y$a.color&&e.MJ===f[h].y$a.MJ&&e.Fz===f[h].y$a.Fz&&e.size===f[h].y$a.size)return f[h].Cx;g=g.clone();h=g.ab();null!=h&&(null!=e.color&&h.ed(e.color),null!=e.MJ&&h.ed(_geo.c.f.pj.EJ(h.Kc(),e.MJ)));h=g.Bb();null!=
h&&(null!=e.color&&h.ed(e.color),null!=e.MJ&&h.ed(_geo.c.f.pj.EJ(h.Kc(),e.MJ)));g instanceof _geo.c.V.$.fn&&(null!=e.size&&g.gd(e.size,e.size),null!=e.Fz&&(g.xF(!1),g.LR(e.Fz)));null!=e.MJ&&g instanceof _geo.c.V.$.Image&&g.YBb(e.MJ);d=new _geo.c.map.Xa.jf.SO({shape:g,geometrytoshape:d.Rba(),geometrytotext:d.ZI(),textshape:d.qm()});f.push({y$a:e,Cx:d});return d};b.RCc=function(a,d){if(!a||a.error||!Array.isArray(a.layers))return null;for(var e=a.layers,f=[],g=0;g<e.length;++g){var h=[];e[g].legend=
e[g].legend||[];for(var k=0;k<e[g].legend.length;k++){var l=e[g].legend[k];h.push({label:l.label,image:b.n7b(l,d),width:l.width,height:l.height,values:l.values})}f.push({layerId:e[g].layerId,layerName:e[g].layerName,layerType:e[g].layerType,minScale:e[g].minScale,maxScale:e[g].maxScale,legend:h})}return f};b.VCc=function(a,d){for(var e=a.displayFieldName,f=!a.hasOwnProperty("geometryType"),g=!f&&b.Zxb(a.geometryType),h=[],k=0;k<a.features.length;k++){var l=a.features[k],w,x=l.geometry;if(x)if(f&&
(g=b.Zxb(l.geometryType)),x=b.$ca(x[g[2]]||x),1<x.length)w=g[1];else if(1===x.length)w=g[0],x=x[0];else continue;else x={x:window.NaN,y:window.NaN},w=_geo.c.map.Xa.sa;var y=l.attributes||{};y.layerId=l.hasOwnProperty("layerId")?l.layerId:d;h.push(new w({attributes:y,id:l.hasOwnProperty("value")?l.value:y[e],geometry:x}))}return h};b.atc=function(a){if(!a)return[];var d=a.Sa,e=[];switch(d.type){case "simple":e.push(b.YOa(a.symbol.HX,d.label));break;case "uniqueValue":for(var f=d.uniqueValueInfos||
[],d=0;d<f.length;d++)e.push(b.YOa(a[f[d].value].HX,f[d].label));break;case "classBreaks":f=a.U4a||[];for(d=0;d<f.length;d++)e.push(b.YOa(f[d].HX,f[d].label));break;case "vectorField":for(f=a.rZ||[],d=0;d<f.length;d++)e.push(b.YOa(f[d].HX))}a.FBa&&e.push(b.YOa(a.FBa.HX,a.FBa.label));return e.filter(function(a){return null!=a})};b.YOa=function(a,b){if(!a)return null;var d=a.Ub(),e=20,f=20;if(d instanceof _geo.c.V.$.Image)return e=d.ba(),f=d.da(),{width:e,height:f,label:b||"",image:d.la().url};var g=
new _geo.c.f.Rect(0,0,e,f),h=new _geo.c.Sa.canvas.Fr(e,f,!0),k=h.wsa();d instanceof _geo.c.V.$.fn?d.ZG()?(d.Ic(_geo.c.V.$.fn.j1(g,d.nw())),d.Aa(k)):(e=d.ba(),f=d.da(),e<=f?d.gd(e*g.da()/f,g.da()):d.gd(g.ba(),f*g.ba()/e),d.Aa(k),d.gd(e,f)):(k.Ba(d.ab(),g),k.Ea(d.Bb(),g),d instanceof _geo.c.V.$.hr?k.Fm([g.ua(),g.ya()],[g.td(),g.td()]):k.Kk([g.ua(),g.ua(),g.ya(),g.ya()],[g.ta(),g.xa(),g.xa(),g.td()]));h.Hp();return{width:h.ba(),height:h.da(),label:b||"",image:h.Lk().toDataURL()}};return b}();
_geo.c.map.f.bK=function(){function b(){}_geo.c.ja(b,"geotoolkit.map.util.Geometry");b.EQ=function(a){a.xl||(a.xl={});a.xl.A6a||(a.xl.A6a=Array.isArray(a.x)?_geo.c.f.Rc.yj(a.x,a.y):new _geo.c.f.Rect(a.x,a.y,a.x,a.y));return a.xl.A6a};b.V4b=function(a){var b=0,e=a.x;a=a.y;for(var d=e.length-1,f=0;f<e.length;d=f++)b+=(e[f]-e[d])*(a[f]+a[d]);return 0<b};return b}();
_geo.c.map.f.N9=function(){function b(a){var b={geometry:null,properties:null,name:null,filter:null},b=_geo.c.Ja(a,b);this.Xe=b.geometry;this.aX=b.properties;this.jd=b.name;this.qz=b.filter}_geo.c.ja(b,"geotoolkit.map.util.Query");b.prototype.Qu=function(a){this.Xe=a;return this};b.prototype.ka=function(a){this.aX=a;return this};b.prototype.Qb=function(a){this.jd=a;return this};b.prototype.getName=function(){return this.jd};b.prototype.ce=function(){return this.Xe};b.prototype.la=function(){return this.aX};
b.prototype.P$b=function(a){this.qz=a;return this};b.prototype.qQa=function(){return this.qz};return b}();
_geo.c.map.f.YIb=function(){function b(a){a=_geo.c.Ja(a,{x:20,y:10,width:160,height:40,textstyle:new _geo.c.attributes.kb({color:"black",autosize:!0}),linestyle:new _geo.c.attributes.za({color:"black",width:2}),alignment:_geo.c.f.Ca.Ej,textalign:_geo.c.f.Ca.ub,tickheight:.25,metric:!0,sizeisindevicespace:!0},!0);_geo.c.V.$.fn.call(this,a);this.OS=a.x/a.width;this.PS=a.y/a.height;this.z3a=a.tickheight;a.metric?(this.Lg=g,this.J5=[.2,1,5,10,20,50,100,200,500,1E3,2E3,5E3,1E4,2E4,5E4,1E5,2E5,5E5,1E6,
2E6],this.ui="< 1m;1 m;5 m;10 m;20 m;50 m;100 m;200 m;500 m;1 km;2 km;5 km;10 km;20 km;50 km;100 km;200 km;500 km;1000 km;2000 km".split(";")):(this.Lg=e,this.J5=[.2,1,5,20,50,100,200,500,1E3,2E3,5280,10560,26400,52800,105600,264E3,528E3,1056E3,264E4,528E4],this.ui="< 1 ft;1 ft;5 ft;20 ft;50 ft;100 ft;200 ft;500 ft;1000 ft;2000 ft;1 mi;2 mi;5 mi;10 mi;20 mi;50 mi;100 mi;200 mi;500 mi;1000 mi".split(";"));this.Yoa=null;this.BPb=!1;this.vc=new _geo.c.V.$.Text({textstyle:a.textstyle,sizeisindevicespace:!0,
alignment:a.textalign});if(a=this.ab())a.Hua(_geo.c.attributes.za.GF.yxa),a.Vd(!0)}var a=_geo.c.f.Bf.ib().Zb("px"),g=_geo.c.f.Bf.ib().Zb("metre"),e=_geo.c.f.Bf.ib().Zb("ft"),d=new _geo.c.f.Rect;_geo.c.na(b,_geo.c.V.$.fn);_geo.c.ja(b,"geotoolkit.map.util.MapScale");b.prototype.I8=function(a){for(var b=this.Lg.Ib(this.width/a,g),e=1;b>this.J5[e]&&e<this.J5.length;)e++;this.Yoa=g.Ib(this.J5[e-1]*a,this.Lg);this.Yoa=Math.min(this.Yoa,this.width)/this.width;this.vc.Ec(this.ui[e-1]);a=this.ab()?this.ab().ba():
0;a=(a+1)/this.ba();d.zb(this.OS+a).Eb(this.PS).rb(this.Yoa-2*a).Hb(1);a=_geo.c.V.$.fn.j1(d,this.vc.nw());this.vc.Ic(a);this.ma();return this};b.prototype.W5b=function(b){if(!this.BPb){var d=_geo.c.V.$.fn.j1(b.Uc().ha(),this.nw());this.Ic(d);this.BPb=!0}this.I8(b.vy().Ib(b.Oia(!0),a))};b.prototype.Aa=function(a){a=null!=this.sb()?a.Qc(this.sb()):a;this.fl(a);var b=a.$a(),d=this.i1(a.$a());a.sc(d);a.Ba(this.ab());a.Id(this.OS,this.PS,this.OS,this.PS+this.z3a);a.Id(this.OS,this.PS+this.z3a,this.OS+
this.Yoa,this.PS+this.z3a);a.Id(this.OS+this.Yoa,this.PS,this.OS+this.Yoa,this.PS+this.z3a);this.vc.Aa(a);a.sc(b);this.Pk(a)};return b}();
_geo.c.map.f.dE=function(){function b(){}function a(a){return Math.round(100*a)/100}var g=new _geo.c.f.sa;_geo.c.ja(b,"geotoolkit.map.util.GeoJSON");b.parse=function(a,d,f,g){d||(d=new _geo.c.map.Xa.Xp.WV("name"));g||(g=[0,1]);var l=[];Array.isArray(a)||(a=[a]);for(var k=0;k<a.length;++k)b.m7b(a[k],d,f,g,l);return l};b.m7b=function(a,d,f,g,l){if(null!=a.crs){var k=b.MCc(a.crs,f);f=k.utc;g=k.Csc||g}switch(a.type){case "Point":case "LineString":case "Polygon":case "MultiPoint":case "MultiLineString":case "MultiPolygon":case "GeometryCollection":b.B$a(a,
f,g,null,{},l);break;case "Feature":k=a.properties||{};d=d.AL(k)||a.id;b.B$a(a.geometry,f,g,d,k,l);break;case "FeatureCollection":for(a=a.features,k=0;k<a.length;++k)b.m7b(a[k],d,f,g,l)}};b.B$a=function(a,d,f,g,l,k){var m,q=null;if(!a)return _geo.c.warn("GeoJSON: geometry cannot be null"),null;switch(a.type){case "Point":m=b.ika(a.coordinates,d,f);q=_geo.c.map.Xa.sa;break;case "LineString":m=b.gka(a.coordinates,d,f);q=_geo.c.map.Xa.Rs;break;case "Polygon":m=b.XSa(a.coordinates,d,f);q=_geo.c.map.Xa.If;
break;case "MultiPoint":m=b.YAa(b.ika,a.coordinates,d,f);q=_geo.c.map.Xa.mK;break;case "MultiLineString":m=b.YAa(b.gka,a.coordinates,d,f);q=_geo.c.map.Xa.lK;break;case "MultiPolygon":m=b.YAa(b.XSa,a.coordinates,d,f);q=_geo.c.map.Xa.CM;break;case "GeometryCollection":a=a.geometries;for(var p=JSON.stringify(l),u=0;u<a.length;++u)b.B$a(a[u],d,f,g,JSON.parse(p),k);break}return null!=q?(d=new q({id:g,geometry:m,attributes:l}),k&&k.push(d),d):null};b.YAa=function(a,b,f,g){for(var l=[],k=0;k<b.length;k++)l.push(a(b[k],
f,g));return l};b.XSa=function(a,d,f){var g=b.gka(a[0],d,f);if(1<a.length){var l=_geo.c.map.f.bK.EQ(g);g.clip=[l];for(l=1;l<a.length;++l)g.clip.push(b.gka(a[l],d,f))}return g};b.gka=function(a,b,f){for(var h=[],l=[],k=0;k<a.length;k++)g.lb(a[k][f[0]],a[k][f[1]]),b&&(g=b(g,g)),h.push(g.ga()),l.push(g.ea());return{x:h,y:l}};b.ika=function(a,b,f){g.lb(a[f[0]],a[f[1]]);b&&(g=b(g,g));return{x:g.ga(),y:g.ea()}};b.MCc=function(a,b){function f(a){var b=a.split(":");if(7===b.length){a=b[4];b=b[6];if("EPSG"===
a)return+b;if("OGC"===a&&("CRS84"===b||"CRS83"===b||"CRS27"===b))return 4269}return null}var g=a.properties,l=null;switch(a.type){case "EPSG":l=+g.code;break;case "OGC":l=f(g.urn);break;case "name":l=f(g.name)}var k=_geo.c.map.Fd.he.Kp(),m=null;switch(l){case 102100:case 3857:m=k.it(_geo.c.map.Xu.x4);break;case 4326:case 4269:m=k.it(_geo.c.map.Xu.$y)}return{utc:null!=m?function(a,e){var f=m.te(a.x,a.y,e);return null!=b?b(f):f}:b,Csc:a.coordinate_order||g.coordinate_order}};b.mVa=function(a,d,f){function g(a){if(a instanceof
_geo.c.map.Xa.ZD)for(a=a.WBa(),a.reset();a.$g();)l.push(b.odc(a.next(),d,f));else l.push(b.odc(a,d,f))}f||(f=[0,1]);var l=[];a instanceof _geo.c.f.Iterator||Array.isArray(a)?a.forEach(g):g(a);return 1===l.length?l[0]:{type:"FeatureCollection",features:l}};b.odc=function(a,d,f){var g={type:"Feature",properties:a.MA(),geometry:{}},l=a.ce(!0);a instanceof _geo.c.map.Xa.sa?(g.geometry.type="Point",g.geometry.coordinates=b.qdc(l,d,f)):a instanceof _geo.c.map.Xa.Rs?(g.geometry.type="LineString",g.geometry.coordinates=
b.pdc(l,d,f)):a instanceof _geo.c.map.Xa.If?(g.geometry.type="Polygon",g.geometry.coordinates=b.Sda(l,d,f)):a instanceof _geo.c.map.Xa.mK?(g.geometry.type="MultiPoint",g.geometry.coordinates=b.YAa(b.qdc,l,d,f)):a instanceof _geo.c.map.Xa.lK?(g.geometry.type="MultiLineString",g.geometry.coordinates=b.YAa(b.pdc,l,d,f)):a instanceof _geo.c.map.Xa.CM&&(g.geometry.type="MultiPolygon",g.geometry.coordinates=b.YAa(b.Sda,l,d,f));return g};b.qdc=function(b,d,f){var h=[];g.lb(b.x,b.y);d&&(g=d(g,g));h[f[0]]=
a(g.ga());h[f[1]]=a(g.ea());return h};b.pdc=function(b,d,f){var h=[],l=b.x;b=b.y;for(var k=0;k<l.length;++k)h[k]=[],g.lb(l[k],b[k]),d&&(g=d(g,g)),h[k][f[0]]=a(g.ga()),h[k][f[1]]=a(g.ea());return h};b.Sda=function(b,d,f){var h=[],l,k=b.x,m=b.y;for(l=0;l<k.length;++l)h[l]=[],g.lb(k[l],m[l]),d&&(g=d(g,g)),h[l][f[0]]=a(g.ga()),h[l][f[1]]=a(g.ea());h=[h];b=b.clip;if(Array.isArray(b))for(k=0;k<b.length;++k){var m=b[k].x,q=b[k].y,p=[];for(l=0;l<m.length;++l)p[l]=[],g.lb(m[l],q[l]),d&&(g=d(g,g)),p[l][f[0]]=
a(g.ga()),p[l][f[1]]=a(g.ea());h.push(p)}return h};return b}();
_geo.c.map.f.mS=function(){function b(){}function a(a,b,e){a.tb(_geo.c.V.$.Image.aa.Hr,function(){if(null!=b&&1!==b){var g=a.htb();a.gd(b*g.width,b*g.height)}null!=e&&e()});return a}var g=new _geo.c.f.sa,e={Point:[_geo.c.map.Xa.sa,_geo.c.map.Xa.mK],LineString:[_geo.c.map.Xa.Rs,_geo.c.map.Xa.lK],"LinearRing, Polygon":[_geo.c.map.Xa.If,_geo.c.map.Xa.CM]};_geo.c.ja(b,"geotoolkit.map.util.KML");b.parse=function(a,e,g,l,k,m){m=m||[];switch(a.nodeName){case "Document":case "#document":var q=_geo.c.map.f.jz.AR(a,
"Style, StyleMap",!0);k=b.I$a(q,k,l);case "kml":case "Folder":a=_geo.c.map.f.jz.AR(a,"Document, kml, Folder, Placemark",!0);for(q=0;q<a.length;++q)b.parse(a[q],e,g,l,k,m);return m;case "Placemark":e=b.OCc(a,e,g);if(0===e.length)return m;break;default:return m}g=b.nF(a,"styleUrl");for(l=0;l<e.length;++l)g&&k&&k[g]&&k[g][e[l].getClassName()]&&(e[l].Cx=k[g][e[l].getClassName()]),m.push(e[l]);return m};b.I$a=function(d,e,g){if(0===d.length)return e;e=_geo.c.Ac(e,{});for(var l=0;l<d.length;++l){var k,
m;k=d[l];var q=k.getAttribute("id")||"";if("StyleMap"===k.tagName){var p=k.querySelectorAll("Pair"),u=!1;for(m=0;m<p.length;++m)if("normal"===b.nF(p[m],"key")){var t;(t=b.nF(p[m],"styleUrl"))?e["#"+q]=e[t]:(k=b.IQ(p[m],"Style"),u=!0);break}if(!u)continue}t=m=u=p=null;var r;k=k.querySelectorAll("IconStyle, LineStyle, PolyStyle");for(var n=0;n<k.length;++n){var v=k[n];switch(v.tagName){case "IconStyle":t=b.IQ(v,"Icon");m=b.nF(t,"href");r=b.nF(v,"scale");break;case "LineStyle":t=b.nF(v,"color");p=new _geo.c.attributes.za({color:b.Hi(t)||
"black",width:b.nF(v,"width")||1});break;case "PolyStyle":t=b.nF(v,"color");u=new _geo.c.attributes.Ha({color:b.Hi(t)});break}}if(null!=m)k=new _geo.c.map.Xa.jf.sa({shape:a(new _geo.c.V.$.Image({url:m,alignment:_geo.c.f.Ca.ub,sizeisindevicespace:!0,ispointingup:!0,linestyle:null}),r,g)}),m={},m[_geo.c.map.Xa.sa.getClassName()]=k,m[_geo.c.map.Xa.mK.getClassName()]=k;else if(null!=p)k=new _geo.c.map.Xa.jf.Rs({shape:new _geo.c.V.$.hr({linestyle:p})}),m={},m[_geo.c.map.Xa.Rs.getClassName()]=k,m[_geo.c.map.Xa.lK.getClassName()]=
k,null!=u&&(k=new _geo.c.map.Xa.jf.If({shape:new _geo.c.V.$.If({linestyle:p,fillstyle:u})}),m[_geo.c.map.Xa.If.getClassName()]=k,m[_geo.c.map.Xa.CM.getClassName()]=k);else continue;e["#"+q]=m}return e};b.IQ=function(a,b){return _geo.c.map.f.jz.AR(a,b,!1)};b.nF=function(a,e){var g=b.IQ(a,e);return g?g.textContent:null};b.Hi=function(a){if(null==a)return null;var b=((0,window.parseInt)(a.substr(0,2),16)/256).toFixed(2),e=(0,window.parseInt)(a.substr(2,2),16),g=(0,window.parseInt)(a.substr(4,2),16);
a=(0,window.parseInt)(a.substr(6,2),16);return"rgba("+a+","+g+","+e+","+b+")"};b.OCc=function(a,f,g){if(null==a)return null;f=f instanceof _geo.c.map.Xa.Xp.WV?f.k1():"name";f=b.nF(a,f);var l=_geo.c.map.f.jz.Hva(a);a=b.IQ(a,"MultiGeometry")||a;var k=[],m;for(m in e)if(e.hasOwnProperty(m)){for(var q=_geo.c.map.f.jz.AR(a,m,!0),p=[],u=0;u<q.length;++u)p.push(b.$ca(q[u],g));0!==p.length&&k.push(new (e[m][Math.sign(p.length-1)])({id:f,attributes:l,geometry:1===p.length?p[0]:p}))}return k};b.$ca=function(a,
e){switch(a.nodeName){case "Point":return b.ika(a,e);case "LineString":case "LinearRing":return b.gka(a,e);case "Polygon":var g=b.IQ(a,"outerBoundaryIs"),l=a.getElementsByTagName("innerBoundaryIs"),g=b.gka(b.IQ(g,"LinearRing"),e);if(0<l.length){var k=_geo.c.map.f.bK.EQ(g);g.clip=[k];for(k=0;k<l.length;++k){var m=b.IQ(l[k],"LinearRing");g.clip.push(b.gka(m,e))}}return g}return null};b.ika=function(a,e){if(null==a)return null;var h=b.nF(a,"coordinates"),h=h?h.split(","):[window.NaN,window.NaN];g.lb(+h[0],
+h[1]);e&&(g=e(g,g));return{x:g.ga(),y:g.ea()}};b.gka=function(a,e){var h=a&&b.nF(a,"coordinates");if(null==h)return null;for(var h=h.split(" "),l=[],k=[],m=0;m<h.length;++m){var q=h[m].split(",");2>q.length||(g.lb(+q[0],+q[1]),e&&(g=e(g,g)),l.push(g.ga()),k.push(g.ea()))}return{x:l,y:k}};return b}();
_geo.c.map.f.UV=function(){function b(){}var a={point:_geo.c.map.Xa.sa,line:_geo.c.map.Xa.Rs,polygon:_geo.c.map.Xa.If},g=new _geo.c.f.sa;_geo.c.ja(b,"geotoolkit.map.util.GeoRSS");b.parse=function(a,d,f){var g=[];b.Yxb(a.querySelectorAll("entry"),d,f,g);b.Yxb(a.querySelectorAll("channel > item"),d,f,g);var l=_geo.c.map.f.jz.AR(a,"entry, channel",!0);a=0<l.length&&l[0].parentNode||a;for(var k=0;k<l.length;++k)a.removeChild(l[k]);b.Ny(a,d,f,g);return g};b.Yxb=function(a,d,f,g){for(var l=0;l<a.length;++l)b.Ny(a[l],
d,f,g);return g};b.Ny=function(a,d,f,g){var l=b.t7b(a,d,f)||b.z7b(a,d,f);l?g.push(l):_geo.c.map.f.uHb.parse(a,d,f,g)};b.t7b=function(e,d,f){for(var g=Object.keys(a),l=0;l<g.length;++l){var k=_geo.c.map.f.jz.AR(e,g[l],!1);if(k&&k.textContent)return e=_geo.c.map.f.jz.Hva(e),g=a[g[l]],new g({id:d.AL(e),attributes:e,geometry:b.$ca(k.textContent,f)})}if((k=_geo.c.map.f.jz.AR(e,"box",!1))&&k.textContent){f=b.$ca(k.textContent,f);if(2!==f.x.length)return null;e=_geo.c.map.f.jz.Hva(e);return new _geo.c.map.Xa.If({id:d.AL(e),
attributes:e,geometry:{x:[f.x[0],f.x[0],f.x[1],f.x[1]],y:[f.y[0],f.y[1],f.y[1],f.y[0]]}})}return null};b.$ca=function(a,b){for(var f=a.trim().split(/,\s*|\s+/),h=[],l=[],k=0;k<f.length;k+=2)g.lb(+f[k+1]||0,+f[k]||0),b&&(g=b(g,g)),h.push(g.x),l.push(g.y);return 1<h.length?{x:h,y:l}:{x:h[0]||0,y:l[0]||0}};b.z7b=function(a,b,f){var h,l,k,m=a.querySelector("based_near");if(m){h=m.attributes;for(var q=0;q<h.length;++q){var p=h[q].name,p=p.substr(p.lastIndexOf(":")+1).toLowerCase();"lat"===p?l=h[q].value:
"long"===p&&(k=h[q].value)}a=m.parentNode||a}else(l=a.querySelector("lat_long"))&&l.textContent?(l=l.textContent.trim().split(/,\s*|\s+/),k=l[1],l=l[0]):(l=(l=a.querySelector("lat"))&&l.textContent,k=(k=a.querySelector("long"))&&k.textContent);return null!=l&&null!=k?(h=_geo.c.map.f.jz.Hva(a),g.lb(+k||0,+l||0),f&&(g=f(g,g)),new _geo.c.map.Xa.sa({id:b.AL(h),attributes:h,geometry:{x:g.x,y:g.y}})):null};return b}();
_geo.c.map.f.uHb=function(){function b(){}function a(a,b,d){var e;for(e=0;e<d.length;++e){var f=d[e].split(",");if(-1<f.indexOf(b))return a}for(e=0;e<d.length;++e)if(b=a.querySelector(d[e]))return b;return null}var g=new _geo.c.f.sa,e=["MultiGeometry"],d=["MultiPoint"],f=["MultiCurve","Curve"],h=["MultiSurface, MultiSolid","Polygon, Solid, Surface, PolyhedralSurface, TriangulatedSurface"],l=["Point"],k=["LineString"],m=["Envelope"];_geo.c.ja(b,"geotoolkit.map.util.GML");b.parse=function(g,p,u,t,r){r=
r||g;t=t||[];var n,v=g.nodeName.lastIndexOf(":"),w=-1===v?g.nodeName:g.nodeName.substr(v+1);if(n=a(g,w,e)){v=n.querySelectorAll("geometryMember");0===v.length&&(v=(v=n.querySelector("geometryMember"))&&v.children||[]);for(g=0;g<v.length;++g)b.parse(v[g],p,u,t,r);return t}v=[];if(n=a(g,w,d)){w=_geo.c.map.f.jz.AR(n,"pointMembers, pointMember",!0);for(g=0;g<w.length;++g)for(var x=_geo.c.map.f.jz.AR(w[g],"Point",!0),y=0;y<x.length;++y)(n=b.ika(x[g],u))&&v.push(n);b.q6(v,p,r,_geo.c.map.Xa.sa,_geo.c.map.Xa.mK,
t)}else if(n=a(g,w,f)){w=n.querySelectorAll("LineString, LineStringSegment");for(g=0;g<w.length;++g)(n=b.TSa(w[g],u))&&v.push(n);b.q6(v,p,r,_geo.c.map.Xa.Rs,_geo.c.map.Xa.lK,t)}else if(n=a(g,w,h)){w=n.querySelectorAll("exterior");for(g=0;g<w.length;++g)(n=b.XSa(w[g],u))&&v.push(n);b.q6(v,p,r,_geo.c.map.Xa.If,_geo.c.map.Xa.CM,t)}else if(n=a(g,w,l))(n=b.ika(n,u))&&v.push(n),b.q6(v,p,r,_geo.c.map.Xa.sa,_geo.c.map.Xa.mK,t);else if(n=a(g,w,k))(n=b.TSa(n,u))&&v.push(n),b.q6(v,p,r,_geo.c.map.Xa.Rs,_geo.c.map.Xa.lK,
t);else if(n=a(g,w,m))(n=b.l7b(n,u))&&v.push(n),b.q6(v,p,r,_geo.c.map.Xa.If,_geo.c.map.Xa.CM,t);return t};b.ika=function(a,d){if(!a)return null;var e=_geo.c.map.f.jz.AR(a,"pos, coordinates",!1);return e&&e.textContent?b.F$a(e.textContent,d):null};b.l7b=function(a,d){if(!a)return null;var e=_geo.c.map.f.jz.AR(a,"lowerCorner, upperCorner",!0);if(2===e.length&&e[0].textContent&&e[1].textContent){var f=b.F$a(e[0].textContent,d),e=b.F$a(e[1].textContent,d);return{x:[f.x,f.x,e.x,e.x],y:[f.y,e.y,e.y,f.y]}}return b.TSa(a,
d)};b.F$a=function(a,b){var d=a.trim().split(/,\s*|\s+/);g.lb(+d[1]||0,+d[0]||0);b&&(g=b(g,g));return{x:g.x,y:g.y}};b.TSa=function(a,b){if(!a)return null;var d,e,f=[],h=[],k=0<a.childElementCount?_geo.c.map.f.jz.AR(a,"posList, coordinates",!1):a;if(k&&k.textContent){var l=k.getAttribute("srsDimension")||2;e=k.textContent.trim().split(/,\s*|\s+/);for(d=0;d<e.length;d+=l)g.lb(+e[d+1]||0,+e[d]||0),b&&(g=b(g,g)),f.push(g.x),h.push(g.y)}else for(k=a.querySelectorAll("pos, coordinates"),d=0;d<k.length;++d)k[d].textContent&&
(e=k[d].textContent.trim().split(/,\s*|\s+/),g.lb(+e[1]||0,+e[0]||0),b&&(g=b(g,g)),f.push(g.x),h.push(g.y));return 2>=f.length?null:{x:f,y:h}};b.XSa=function(a,d){if(!a)return null;var e=b.Uxb(a,d),f=a.parentNode,f=f&&f.querySelectorAll("interior");if(!f||0===f.length||!e)return e;var g=_geo.c.map.f.bK.EQ(e);e.clip=[g];for(g=0;g<f.length;++g){var h=b.Uxb(f[g],d);h&&e.clip.push(h)}return e};b.Uxb=function(a,d){var e=_geo.c.map.f.jz.AR(a,"LinearRing",!1)||a.querySelector("LineString, LineStringSegment");
return b.TSa(e,d)};b.q6=function(a,b,d,e,f,g){0!==a.length&&(d=_geo.c.map.f.jz.Hva(d),1===a.length?g.push(new e({id:b.AL(d),attributes:d,geometry:a[0]})):g.push(new f({id:b.AL(d),attributes:d,geometry:a})))};return b}();
_geo.c.map.f.c_a=function(){function b(){}var a,g;_geo.c.ja(b,"geotoolkit.map.util.WebMap");b.load=function(b,d){a=a||new _geo.c.map.Ta.bd.VV;a.send(d,null,function(a,d){if(a)_geo.c.warn(a);else{if("string"===typeof d)try{d=JSON.parse(d)}catch(g){_geo.c.warn(g);return}for(var l=_geo.c.map.f.c_a.parse(d),k=0;k<l.length;++k)b.hD(l[k])}})};b.tFc=function(a){g=a};b.parse=function(e){e=new _geo.c.f.Oea(e&&e.baseMap&&e.baseMap.baseMapLayers||[],e&&e.operationalLayers||[]);for(var d=[],f=[];e.$g();){var h=
e.next(),l,k,m=h.hasOwnProperty("opacity")?h.opacity:1,q=h.layerType||h.type;switch(q){case "ArcGISImageServiceVectorLayer":l=new _geo.c.map.rc.ci({url:h.url,alpha:m,source:new _geo.c.map.Ta.T3({loader:b.PTb(h,_geo.c.map.Ta.Ok.Mv),format:new _geo.c.map.Ta.cg.T3({symbolTileSize:h.symbolTileSize})})});break;case "ArcGISImageServiceLayer":case "ArcGISMapServiceLayer":l=new _geo.c.map.rc.Xy({url:h.url,alpha:m});null!=h.visibleLayers&&l.AH(h.visibleLayers);break;case "ArcGISTiledImageServiceLayer":case "ArcGISTiledMapServiceLayer":l=
new _geo.c.map.rc.lk({loader:new _geo.c.map.Ta.Ok.Ldb,url:h.url,alpha:m,formatterfunction:function(a,b,d){return"/tile/"+a+"/"+b+"/"+d}});break;case "WebTiledLayer":l=new _geo.c.map.rc.lk(b.YCc(h.templateUrl,h.subDomains));break;case "WMS":l=new _geo.c.map.rc.Pw({url:h.mapUrl,alpha:m});break;case "ArcGISFeatureLayer":null!=h.url?l=new _geo.c.map.rc.Mv({source:new _geo.c.map.Ta.Mv({loader:b.PTb(h,_geo.c.map.Ta.Ok.Mv)}),alpha:m,url:h.url}):k="ArcGISFeatureLayer with featureCollection are not supported!!!";
break;case "KML":l=new _geo.c.map.rc.mS({system:_geo.c.map.Xu.$y,alpha:m,url:h.url});break;case "OpenStreetMap":l=new _geo.c.map.rc.lk({url:["//a.tile.openstreetmap.org/","//b.tile.openstreetmap.org/","//c.tile.openstreetmap.org/"],formatterfunction:function(a,b,d){return a+"/"+d+"/"+b+".png"}});break;case "CSV":var q=h.layerDefinition,p=h.locationInfo;l=new _geo.c.map.rc.VJ({source:new _geo.c.map.Ta.VJ({idfield:q&&q.objectIdField,latitudefield:p&&p.latitudeFieldName,longitudefield:p&&p.longitudeFieldName,
url:h.url,alpha:m,loader:new _geo.c.map.Ta.Ok.Mv({connector:new _geo.c.map.Ta.bd.Ygb({data:q})})})});break;case "ArcGISStreamLayer":l=new _geo.c.map.rc.wp({url:h.url,alpha:m});break;case "GeoRSS":var q=_geo.c.map.f.Ex.ada(h.pointSymbol),p=_geo.c.map.f.Ex.ada(h.lineSymbol),u=_geo.c.map.f.Ex.ada(h.polygonSymbol),t=[];null!=q&&(t.push({featureclassname:_geo.c.map.Xa.sa.getClassName(),template:q}),t.push({featureclassname:_geo.c.map.Xa.mK.getClassName(),template:q}));null!=p&&(t.push({featureclassname:_geo.c.map.Xa.Rs.getClassName(),
template:p}),t.push({featureclassname:_geo.c.map.Xa.lK.getClassName(),template:p}));null!=u&&(t.push({featureclassname:_geo.c.map.Xa.If.getClassName(),template:u}),t.push({featureclassname:_geo.c.map.Xa.CM.getClassName(),template:u}));l=new _geo.c.map.rc.UV({url:h.url,alpha:m,templates:t});break;case "BingMapsAerial":case "BingMapsRoad":case "BingMapsHybrid":null==g?k="Bing Maps API key is not set. Use "+b.getClassName()+".setBingMapsKey() to support Bing layers in Webmap.":(p={BingMapsAerial:_geo.c.map.Ta.fA.z9.YEb,
BingMapsRoad:_geo.c.map.Ta.fA.z9.NKb,BingMapsHybrid:_geo.c.map.Ta.fA.z9.Edb},l=new _geo.c.map.rc.fA({imagerySet:p[q],alpha:m,key:g}));break;case "VectorTileLayer":l=new _geo.c.map.rc.LC({system:_geo.c.map.Xu.$y,source:new _geo.c.map.Ta.LC({styleUrl:h.styleUrl}),alpha:m,annotations:{visible:!0,filter:new _geo.c.map.Xa.filters.HIa}});var r;null==h.styleUrl?k="VectorTile layer hasn't styleUrl property.":"string"===typeof h.styleUrl?a.send(h.styleUrl,null,function(a,d){a?_geo.c.warn(a):(r=_geo.c.map.Ta.Ok.LC.s7b(d),
null!=r&&l.NR(b.q7b(r,h.styleUrl)))}):"object"===typeof h.styleUrl?(r=_geo.c.map.Ta.Ok.LC.s7b(h.styleUrl),null!=r&&l.NR(b.q7b(r,h.styleUrl))):k="VectorTile layer has wrong styleUrl property.";break;case "WFS":l=new _geo.c.map.rc.WH({alpha:m,server:h.url});break}null==l?(k||(k=h.layerType+" layer type is not supported!!!"),_geo.c.warn(k)):h.isReference?f.push(l):d.push(l)}return d.concat(f)};b.YCc=function(a,b){var f={},g=[a.indexOf("{level}"),a.indexOf("{col}"),a.indexOf("{row}")].filter(function(a){return-1!==
a});if(0===g.length)return f;var g=Math.min.apply(null,g),l=a.substr(0,g),k=a.substr(g);f.formatterfunction=function(a,b,d){return k.replace("{level}",a).replace("{col}",d).replace("{row}",b)};f.server=Array.isArray(b)?b.map(function(a){return l.replace("{subDomain}",a)}):[l];return f};b.q7b=function(a,b){if(a.startsWith("http")||a.startsWith("//"))return a;var f=b.split("/"),g=a.split("/"),l=f[f.length-1];(!l||0<=l.indexOf("."))&&f.pop();for(l=0;l<g.length;l++)".."===g[l]?f.pop():""!==g[l]&&"."!==
g[l]&&f.push(g[l]);return f.join("/")};b.PTb=function(a,b){if(!a||!a.layerDefinition||!a.layerDefinition.drawingInfo)return new b;var f=a.layerDefinition.drawingInfo;return new b({connector:new _geo.c.map.Ta.bd.ygb({callback:function(a,b){if(a||!b)return b;if("string"===typeof b)try{b=JSON.parse(b)}catch(d){return b}null!=f&&(b.drawingInfo=f);return b}})})};return b}();
_geo.c.map.f.Qfb=function(){function b(a){return a.MA()[this]}function a(a){return a.id}function g(a){return a instanceof _geo.c.map.Xa.sa||a instanceof _geo.c.map.Xa.mK?"Point":a instanceof _geo.c.map.Xa.Rs||a instanceof _geo.c.map.Xa.lK?"LineString":"Polygon"}function e(){return!0}function d(){}function f(a){this.Jqa=window.ArrayBuffer.cAc&&window.ArrayBuffer.cAc(a)?a:new window.Uint8Array(a||0);this.type=this.Lf=0;this.length=this.Jqa.length}function h(a,b,d){return d?4294967296*b+(a>>>0):4294967296*
(b>>>0)+(a>>>0)}function l(a,b,d,e,f){var g;g=8*f-e-1;var h=(1<<g)-1,k=h>>1,l=-7;f=d?f-1:0;var m=d?-1:1,n=a[b+f];f+=m;d=n&(1<<-l)-1;n>>=-l;for(l+=g;0<l;l-=8)d=256*d+a[b+f],f+=m;g=d&(1<<-l)-1;d>>=-l;for(l+=e;0<l;l-=8)g=256*g+a[b+f],f+=m;if(0===d)d=1-k;else{if(d===h)return g?window.NaN:n?-window.Infinity:window.Infinity;g+=Math.pow(2,e);d-=k}return(n?-1:1)*g*Math.pow(2,d-e)}function k(a,b){E=0;this.rc=a.Eyb(m,{},b)}function m(a,b,d){3===a&&(a=new q(d,d.GD()+d.Lf),a.length&&(b[a.name]=a,a.Mec=E++))}
function q(a,b){this.version=1;this.name=null;this.NBa=4096;this.length=0;this.Rza=a;this.jI=[];this.Md=[];this.Bm=[];a.Eyb(p,this,b);this.length=this.Bm.length}function p(a,b,d){switch(a){case 15:b.version=d.GD();break;case 1:b.name=d.pka();break;case 5:b.NBa=d.GD();break;case 2:b.Bm.push(d.Lf);break;case 3:b.jI.push(d.pka());break;case 4:var e=null;for(a=d.GD()+d.Lf;d.Lf<a;)e=d.GD()>>3,e=1===e?d.pka():2===e?d.$Dc():3===e?d.ZDc():4===e?d.fEc():5===e?d.GD():6===e?d.Hyb():7===e?d.XDc():null;b.Md.push(e)}}
function u(a,b,d,e){for(var f=0;f<a.length;f++){var g=a[f],h=180-360*(g.y+d)/e;a[f]=[360*(g.x+b)/e-180,360/Math.PI*Math.atan(Math.exp(h*Math.PI/180))-90]}}function t(a,b,d,e,f){this.dua={};this.NBa=d;this.type=0;this.Rza=a;this.Xe=-1;this.jI=e;this.Md=f;a.Eyb(v,this,b)}function r(a){if(1>=a.length)return[a];for(var b=[],d,e,f=0;f<a.length;f++){var g=n(a[f]);0!==g&&(void 0===e&&(e=0>g),e===0>g?(d&&b.push(d),d=[a[f]]):d&&d.push(a[f]))}d&&b.push(d);return b}function n(a){var b=0,d,e,f=a.length,g=0;for(e=
f-1;g<f;e=g++)d=a[g],e=a[e],b+=(e.x-d.x)*(d.y+e.y);return b}function v(a,b,d){switch(a){case 1:b.id=d.GD();break;case 2:for(a=d.GD()+d.Lf;d.Lf<a;){var e=b.jI[d.GD()],f=b.Md[d.GD()];b.dua[e]=f}break;case 3:b.type=d.GD();break;case 4:b.Xe=d.Lf;break}}var w=[0,1],x,y=new _geo.c.f.sa,B=new _geo.c.f.If,A=_geo.c.map.Fd.he.Kp().it(_geo.c.map.Xu.x4),C=A.Uq(),D=["Unknown","Point","LineString","Polygon"];t.prototype.IAc=function(){var a=this.Rza;a.Lf=this.Xe;for(var b=a.GD()+a.Lf,d=1,e=0,f=0,g=0,h=[],k;a.Lf<
b;)if(0>=e&&(e=a.GD(),d=e&7,e>>=3),e--,1===d||2===d){f+=a.Hyb();g+=a.Hyb();1===d&&(k&&h.push(k),k=[]);if(!k)throw Error("wrong geometry found");k.push({x:f,y:g})}else if(7===d)k&&k.push({x:k[0].x,y:k[0].y});else throw Error("unknown command "+d);k&&h.push(k);return h};t.prototype.bHc=function(a,b,d,e,f){d*=this.NBa;a*=this.NBa;b*=this.NBa;var g=this.IAc(),h=D[this.type],k,l;switch(this.type){case 1:l=[];for(k=0;k<g.length;k++)l[k]=g[k][0];g=l;u(g,a,b,d);break;case 2:for(k=0;k<g.length;k++)u(g[k],
a,b,d);break;case 3:g=r(g);for(k=0;k<g.length;k++)for(l=0;l<g[k].length;l++)u(g[k][l],a,b,d);break}d=1===g.length?{type:h,coordinates:g[0]}:{type:"Multi"+h,coordinates:g};e=e.AL(this.dua)||this.dua.id;return _geo.c.map.f.dE.B$a(d,f,w,e,this.dua)};q.prototype.pra=function(a){this.Rza.Lf=this.Bm[a];a=this.Rza.GD()+this.Rza.Lf;return new t(this.Rza,a,this.NBa,this.jI,this.Md)};var E;f.Jlc=0;f.nhc=1;f.lfc=2;f.mhc=5;f.prototype={Huc:function(){this.Jqa=null},Eyb:function(a,b,d){for(d=d||this.length;this.Lf<
d;){var e=this.GD(),f=e>>3,g=this.Lf;this.type=e&7;a(f,b,this);this.Lf===g&&this.FGc(e)}return b},$Dc:function(){var a=l(this.Jqa,this.Lf,!0,23,4);this.Lf+=4;return a},ZDc:function(){var a=l(this.Jqa,this.Lf,!0,52,8);this.Lf+=8;return a},GD:function(a){var b=this.Jqa,d,e;e=b[this.Lf++];d=e&127;if(128>e)return d;e=b[this.Lf++];d|=(e&127)<<7;if(128>e)return d;e=b[this.Lf++];d|=(e&127)<<14;if(128>e)return d;e=b[this.Lf++];d|=(e&127)<<21;if(128>e)return d;e=b[this.Lf];d|=(e&15)<<28;var f;e=b[this.Lf++];
f=(e&112)>>4;if(128>e)return h(d,f,a);e=b[this.Lf++];f|=(e&127)<<3;if(128>e)return h(d,f,a);e=b[this.Lf++];f|=(e&127)<<10;if(128>e)return h(d,f,a);e=b[this.Lf++];f|=(e&127)<<17;if(128>e)return h(d,f,a);e=b[this.Lf++];f|=(e&127)<<24;if(128>e)return h(d,f,a);e=b[this.Lf++];if(128>e)return h(d,f|(e&1)<<31,a);throw Error("Expected varint not more than 10 bytes");},fEc:function(){return this.GD(!0)},Hyb:function(){var a=this.GD();return 1===a%2?(a+1)/-2:a/2},XDc:function(){return Boolean(this.GD())},pka:function(){for(var a=
this.GD()+this.Lf,b="",d=this.Lf,e=this.Jqa;d<a;){var f=e[d],g=null,h=239<f&&4||223<f&&3||191<f&&2||1;if(d+h>a)break;var k,l,m;if(1===h)128>f&&(g=f);else if(2===h)k=e[d+1],128===(k&192)&&(g=(f&31)<<6|k&63,127>=g&&(g=null));else if(3===h){if(k=e[d+1],l=e[d+2],128===(k&192)&&128===(l&192)&&(g=(f&15)<<12|(k&63)<<6|l&63,2047>=g||55296<=g&&57343>=g))g=null}else 4===h&&(k=e[d+1],l=e[d+2],m=e[d+3],128===(k&192)&&128===(l&192)&&128===(m&192)&&(g=(f&15)<<18|(k&63)<<12|(l&63)<<6|m&63,65535>=g||1114112<=g))&&
(g=null);null===g?(g=65533,h=1):65535<g&&(g-=65536,b+=String.fromCharCode(g>>>10&1023|55296),g=56320|g&1023);b+=String.fromCharCode(g);d+=h}this.Lf=a;return b},FGc:function(a){a&=7;if(a===f.Jlc)for(;127<this.Jqa[this.Lf++];);else if(a===f.lfc)this.Lf=this.GD()+this.Lf;else if(a===f.mhc)this.Lf+=4;else if(a===f.nhc)this.Lf+=8;else throw Error("Unimplemented type: "+a);}};_geo.c.ja(d,"geotoolkit.map.util.Mapbox");d.parse=function(a,b,e,g,h,l,m){h=h||new _geo.c.map.Xa.Xp.WV("name");g=1<<g;var n=C.width/
g,q=C.height/g,p=C.x+n*b,r=C.y+q*(g-e-1);A.te(p,r,y);l&&(y=l(y,y));var t=new _geo.c.f.Rect(y.x,y.y,y.x,y.y);A.te(p+n,r+q,y);l&&(y=l(y,y));t.Y8(y.x,y.y);a=new f(a);for(var u=(new k(a)).rc,n=Object.keys(u).sort(function(a,b){return u[b].Mec-u[a].Mec}),q={},p=[],r=0;r<n.length;r++){for(var v=n[r],w=m&&m[v],x=[],B=0;B<u[v].length;++B){var D=u[v].pra(B).bHc(b,e,g,h,l);if(D){var E=D.ce();if(D instanceof _geo.c.map.Xa.If)d.o5a(E,t);else if(D instanceof _geo.c.map.Xa.CM){var fa=E[0];d.o5a(fa,t);for(var ma=
1;ma<E.length;){var ha=_geo.c.map.f.bK.V4b(E[ma]);d.o5a(E[ma],t);ha?(fa=E[ma],ma++):(fa.clip=fa.clip||[],fa.clip.push(E[ma]),E.splice(ma,1))}}d.STb(D,w);x.push(D)}}0<x.length&&(p.push(n[r]),q[n[r]]=x)}a.Huc();return{rc:q,names:p}};d.o5a=function(a,b){B.hl(a.x,a.y).x9a(b);a.x=B.dg();a.y=B.Yg();var d=a.clip;if(d)for(var e=d[0]instanceof _geo.c.f.Rect?1:0;e<d.length;++e)B.hl(d[e].x,d[e].y).x9a(b),d[e].x=B.dg(),d[e].y=B.Yg()};d.I$a=function(a){a=a.layers;for(var b={},e=0;e<a.length;++e)d.w7b(a[e],b);
return b};d.STb=function(a,b){if(!b||!Array.isArray(b.gg))return a;b=b.gg;for(var d=0;d<b.length;++d)if(b[d].filter(a)){a.Cx=b[d].Cx;"function"===typeof b[d].AL&&a.Ae(b[d].AL(a));break}return a};d.w7b=function(a,b){b[a["source-layer"]]||(b[a["source-layer"]]={gg:[],fa:d.o7b(a.layout),exb:-window.Infinity,Vwb:window.Infinity});var e=b[a["source-layer"]];null!=a.minzoom&&(e.exb=Math.max(e.exb,a.minzoom));null!=a.maxzoom&&(e.Vwb=Math.min(e.Vwb,a.maxzoom));var f={filter:d.A$a(a.filter)};x=x||new _geo.c.V.$.Text({visible:!1});
var g=a.paint||{};switch(a.type){case "fill":case "fill-extrusion":f.Cx=new _geo.c.map.Xa.jf.If({shape:new _geo.c.V.$.If({fillstyle:d.Hi(g["fill-color"],g["fill-opacity"],e.fa.fillColor),linestyle:d.Ywb(g,e.fa.af),visible:"none"!==g.visibility&&e.fa.visible}),textshape:x});break;case "line":f.Cx=new _geo.c.map.Xa.jf.Rs({shape:new _geo.c.V.$.hr({linestyle:d.Ywb(g,e.fa.af),visible:"none"!==g.visibility&&e.fa.visible}),textshape:x});break;case "circle":var h=d.wR(g["circle-radius"],e.fa.dsc);f.Cx=new _geo.c.map.Xa.jf.sa({shape:new _geo.c.V.$.Symbol({painter:_geo.c.V.$.nc.Yy,
width:2*h,height:2*h,fillstyle:d.Hi(g["circle-color"],g["circle-opacity"],e.fa.csc),linestyle:null,visible:"none"!==g.visibility&&e.fa.visible}),textshape:x});break;case "symbol":var k=g["text-field"]||a.layout&&a.layout["text-field"]||e.fa.WGc;null!=k?(h=a.layout&&"line"===a.layout["symbol-placement"]&&_geo.c.map.Xa.jf.Rs||a.layout&&"line-center"===a.layout["symbol-placement"]&&_geo.c.map.Xa.jf.If||_geo.c.map.Xa.jf.sa,f.Cx=new h({shape:x,textshape:new _geo.c.V.$.Text({textstyle:d.k6b(g,e.fa.qe),
preservereadingorientation:!0,ispointingup:!0})}),f.AL=function(a){var b=a.MA();return k.replace(/\{\w+\}/g,function(a){return b[a.substr(1,a.length-2)]})}):f.Cx=new _geo.c.map.Xa.jf.sa({textshape:x});break;default:return}e.gg.push(f)};d.o7b=function(a){a=a||{};return{visible:"none"!==a.visibility,af:d.p7b(a),WGc:d.wR(a["text-field"],null),qe:d.x7b(a),fillColor:d.Hi(a["fill-color"],a["fill-opacity"],"white"),dsc:d.wR(a["circle-radius"],5),csc:d.Hi(a["circle-color"],a["circle-opacity"],"white")}};
d.x7b=function(a){if(null==a["text-font"]&&null==a["text-size"]&&null==a["text-color"]&&a["text-field"])return null;var b=d.wR(a["text-size"],16),e=Array.isArray(a["text-font"])&&a["text-font"][0]||"sans-serif";return new _geo.c.attributes.kb({color:d.Hi(a["text-color"],a["text-opacity"],"black"),font:b+"px "+e})};d.k6b=function(a,b){if(null==a["text-font"]&&null==a["text-size"]&&null==a["text-color"])return b;var e=b?b.dRa():null,f=e?(0,window.parseFloat)(e.fontsize):16,g=e?e.fontfamily:"sans-serif",
e=b?b.Kc():"black",f=d.wR(a["text-size"],f),g=Array.isArray(a["text-font"])&&a["text-font"][0]||g;return new _geo.c.attributes.kb({color:d.Hi(a["text-color"],a["text-opacity"],e),font:f+"px "+g})};d.p7b=function(a){if(null==a["line-color"]&&null==a["line-width"])return null;var b=d.wR(a["line-width"],1);return new _geo.c.attributes.za({width:b,color:d.Hi(a["line-color"],a["line-opacity"],"black"),pattern:Array.isArray(a["line-dasharray"])?a["line-dasharray"].map(function(a){return a*b}):null,linejoin:a["line-join"]||
_geo.c.attributes.za.gK.a4,linecap:a["line-cap"]||_geo.c.attributes.za.GF.l9})};d.Ywb=function(a,b){if(null==a["line-color"]&&null==a["line-width"])return b;var e=b?b.ba():1,f=b?b.Kc():"black",g=b?b.El():null,h=b?b.sCa():_geo.c.attributes.za.gK.a4,k=b?b.xia():_geo.c.attributes.za.GF.l9,l=d.wR(a["line-width"],e);return new _geo.c.attributes.za({color:d.Hi(a["line-color"],a["line-opacity"],f),width:l,pattern:Array.isArray(a["line-dasharray"])?a["line-dasharray"].map(function(a){return a*l}):g,linejoin:a["line-join"]||
h,linecap:a["line-cap"]||k})};d.Hi=function(a,b,e){a=d.wR(a,e);b=d.wR(b,null);return null==b?a:_geo.c.f.pj.EJ(a,255*b)};d.wR=function(a,b){return null==a?b:"object"===typeof a?Array.isArray(a.stops)&&0<a.stops.length?a.stops[0][1]:b:a};d.A$a=function(f){if(!Array.isArray(f)||0===f.length)return e;var h,k,l=f[1],m=f[2],n="$type"===l&&g||"$id"===l&&a||b;switch(f[0]){case "has":return function(a){return void 0!==n.call(l,a)};case "!has":return function(a){return void 0===n.call(l,a)};case "==":return function(a){return n.call(l,
a)===m};case "!=":return function(a){return n.call(l,a)!==m};case ">":return function(a){return n.call(l,a)>m};case ">=":return function(a){return n.call(l,a)>=m};case "<":return function(a){return n.call(l,a)<m};case "<=":return function(a){return n.call(l,a)<=m};case "in":case "!in":var q=f.slice(2);k="!in"===f[0];return function(a){return-1===q.indexOf(n.call(l,a))===k};case "all":var p=[];for(h=1;h<f.length;++h)p.push(d.A$a(f[h]));return function(a){return p.every(function(b){return b(a)})};case "any":case "none":var r=
[];for(h=1;h<f.length;++h)r.push(d.A$a(f[h]));k="any"===f[0];return function(a){return r.some(function(b){return b(a)})===k}}return e};return d}();
_geo.c.map.f.T3=function(){var b=function(){function a(b,d,e){var f={},g=new window.Uint8Array(b,d,10);f.wba=String.fromCharCode.apply(null,g);if("CntZImage"!==f.wba.trim())throw Error("Unexpected file identifier string: "+f.wba);d+=10;var h=new window.DataView(b,d,24);f.qra=h.getInt32(0,!0);f.WQ=h.getInt32(4,!0);f.height=h.getUint32(8,!0);f.width=h.getUint32(12,!0);f.Nja=h.getFloat64(16,!0);d+=24;if(!e)if(h=new window.DataView(b,d,16),f.br={},f.br.LY=h.getUint32(0,!0),f.br.m2=h.getUint32(4,!0),f.br.nC=
h.getUint32(8,!0),f.br.maxValue=h.getFloat32(12,!0),d+=16,0<f.br.nC){e=new window.Uint8Array(Math.ceil(f.width*f.height/8));var h=new window.DataView(b,d,f.br.nC),g=h.getInt16(0,!0),l=2,n=0;do{if(0<g)for(;g--;)e[n++]=h.getUint8(l++);else for(var v=h.getUint8(l++),g=-g;g--;)e[n++]=v;g=h.getInt16(l,!0);l+=2}while(l<f.br.nC);if(-32768!==g||n<e.length)throw Error("Unexpected end of mask RLE encoding");f.br.aBa=e;d+=f.br.nC}else 0===(f.br.nC|f.br.LY|f.br.maxValue)&&(f.br.aBa=new window.Uint8Array(Math.ceil(f.width*
f.height/8)));h=new window.DataView(b,d,16);f.nj={};f.nj.LY=h.getUint32(0,!0);f.nj.m2=h.getUint32(4,!0);f.nj.nC=h.getUint32(8,!0);f.nj.maxValue=h.getFloat32(12,!0);d+=16;e=f.nj.m2;g=f.nj.LY;e+=0<f.width%e?1:0;g+=0<f.height%g?1:0;f.nj.hob=[];for(n=l=0;n<g;n++)for(v=0;v<e;v++){var w=0,h=b.byteLength-d,h=new window.DataView(b,d,Math.min(10,h)),x={};f.nj.hob[l++]=x;var y=h.getUint8(0);w++;x.encoding=y&63;if(3<x.encoding)throw Error("Invalid block encoding ("+x.encoding+")");if(2===x.encoding)d++;else{if(0!==
y&&2!==y){y>>=6;x.RNc=y;if(2===y)x.offset=h.getInt8(1),w++;else if(1===y)x.offset=h.getInt16(1,!0),w+=2;else if(0===y)x.offset=h.getFloat32(1,!0),w+=4;else throw Error("Invalid block offset type");if(1===x.encoding)if(y=h.getUint8(w),w++,x.gob=y&63,y>>=6,x.PNc=y,2===y)x.CSa=h.getUint8(w),w++;else if(1===y)x.CSa=h.getUint16(w,!0),w+=2;else if(0===y)x.CSa=h.getUint32(w,!0),w+=4;else throw Error("Invalid valid pixel count type");}d+=w;if(3!==x.encoding)if(0===x.encoding){y=(f.nj.nC-1)/4;if(y!==Math.floor(y))throw Error("uncompressed block has invalid length");
h=new window.ArrayBuffer(4*y);w=new window.Uint8Array(h);w.set(new window.Uint8Array(b,d,4*y));h=new window.Float32Array(h);x.Byb=h;d+=4*y}else 1===x.encoding&&(y=Math.ceil(x.CSa*x.gob/8),h=Math.ceil(y/4),h=new window.ArrayBuffer(4*h),w=new window.Uint8Array(h),w.set(new window.Uint8Array(b,d,y)),x.uDb=new window.Uint32Array(h),d+=y)}}f.$ha=d;return f}function b(a,e,f,g,h){var l=0,r=a.nj.m2,n=a.nj.LY,v=Math.floor(a.width/r),w=Math.floor(a.height/n),x=2*a.Nja,y=Number.MAX_VALUE;f=f||(a.br?a.br.aBa:
null);var B;e=new e(a.width*a.height);h&&f&&(B=new window.Uint8Array(a.width*a.height));for(var A=new window.Float32Array(v*w),C,D,E=0;E<=n;E++){var F=E!==n?w:a.height%n;if(0!==F)for(var J=0;J<=r;J++){var H=J!==r?v:a.width%r;if(0!==H){var G=E*a.width*w+J*v,K=a.width-H,M=a.nj.hob[l],O=[],L=0,N=0;2>M.encoding?(0===M.encoding?O=M.Byb:(d(M.uDb,M.gob,M.CSa,M.offset,x,A,a.nj.maxValue),O=A),L=0):N=2===M.encoding?0:M.offset;var I;if(f)for(D=0;D<F;D++){G&7&&(I=f[G>>3],I<<=G&7);for(C=0;C<H;C++)G&7||(I=f[G>>
3]),I&128?(B&&(B[G]=1),h=2>M.encoding?O[L++]:N,y=y>h?h:y,e[G++]=h):(B&&(B[G]=0),e[G++]=g),I<<=1;G+=K}else if(2>M.encoding)for(D=0;D<F;D++){for(C=0;C<H;C++)h=O[L++],y=y>h?h:y,e[G++]=h;G+=K}else for(y=y>N?N:y,D=0;D<F;D++){for(C=0;C<H;C++)e[G++]=N;G+=K}if(1===M.encoding&&L!==M.CSa)throw Error("Block and Mask do not match");l++}}}return{yO:e,WU:B,minValue:y}}function d(a,b,d,e,f,g,h){var l=(1<<b)-1,v=0,w,x=0,y,B,A=Math.ceil((h-e)/f);w=4*a.length-Math.ceil(b*d/8);a[a.length-1]<<=8*w;for(w=0;w<d;w++)0===
x&&(B=a[v++],x=32),x>=b?(y=B>>>x-b&l,x-=b):(x=b-x,y=(B&l)<<x&l,B=a[v++],x=32-x,y+=B>>>x),g[w]=y<A?e+y*f:h;return g}function f(a){for(var b=a.nj.m2*a.nj.LY,d={},e=0;e<b;e++){var f=a.nj.hob[e];0===f.encoding?d.KLc=!0:1===f.encoding?d[f.gob]=!0:d[0]=!0}return Object.keys(d)}function h(a){return{wba:a.wba,qra:a.qra,WQ:a.WQ,height:a.height,width:a.width,Nja:a.Nja,$ha:a.$ha,br:a.br?{m2:a.br.m2,LY:a.br.LY,nC:a.br.nC,maxValue:a.br.maxValue}:null,nj:{m2:a.nj.m2,LY:a.nj.LY,nC:a.nj.nC,maxValue:a.nj.maxValue,
OU:a.OU}}}var l={zuc:-3.4027999387901484E38,decode:function(d,m){m=m||{};var q=m.rPa||null===m.rPa,q=a(d,m.LDa||0,q),p=null!==m.OU?m.OU:l.zuc,u=b(q,m.kka||window.Float32Array,m.rPa,p,m.dFc),p={width:q.width,height:q.height,oyb:u.yO,minValue:u.minValue,maxValue:q.nj.maxValue,OU:p};u.WU&&(p.wta=u.WU);m.cFc&&q.br&&(p.rPa=q.br.aBa?q.br.aBa:null);m.m9b&&(p.OBa=h(q),m.iLc&&(p.OBa.NKc=f(q)));return p}};return l}(),a=function(){function a(b,d,e){this.VD=b;this.left=d;this.right=e}var b={Gdc:function(a,b,
d,e,g,q,p,u){var t=(1<<d)-1,r=0,n,v=0,w,x;n=4*a.length-Math.ceil(d*e/8);a[a.length-1]<<=8*n;if(g)for(n=0;n<e;n++)0===v&&(x=a[r++],v=32),v>=d?(w=x>>>v-d&t,v-=d):(v=d-v,w=(x&t)<<v&t,x=a[r++],v=32-v,w+=x>>>v),b[n]=g[w];else for(g=Math.ceil((u-q)/p),n=0;n<e;n++)0===v&&(x=a[r++],v=32),v>=d?(w=x>>>v-d&t,v-=d):(v=d-v,w=(x&t)<<v&t,x=a[r++],v=32-v,w+=x>>>v),b[n]=w<g?q+w*p:u},rHc:function(a,b,d,e,g,q){var p=(1<<b)-1,u=0,t=0,r=t=0,n,v=[],r=4*a.length-Math.ceil(b*d/8);a[a.length-1]<<=8*r;for(var w=Math.ceil((q-
e)/g),x=0;x<d;x++)0===t&&(n=a[u++],t=32),t>=b?(r=n>>>t-b&p,t-=b):(t=b-t,r=(n&p)<<t&p,n=a[u++],t=32-t,r+=n>>>t),v[x]=r<w?e+r*g:q;v.unshift(e);return v},Hdc:function(a,b,d,e,g,q,p,u){var t=(1<<d)-1,r=0,n,v=0,w=0,x,y,B;if(g)for(n=0;n<e;n++)0===v&&(y=a[r++],v=32,w=0),v>=d?(x=y>>>w&t,v-=d,w+=d):(B=d-v,x=y>>>w&t,y=a[r++],v=32-B,x|=(y&(1<<B)-1)<<d-B,w=B),b[n]=g[x];else for(g=Math.ceil((u-q)/p),n=0;n<e;n++)0===v&&(y=a[r++],v=32,w=0),v>=d?(x=y>>>w&t,v-=d,w+=d):(B=d-v,x=y>>>w&t,y=a[r++],v=32-B,x|=(y&(1<<B)-
1)<<d-B,w=B),b[n]=x<g?q+x*p:u;return b},sHc:function(a,b,d,e,g,q){for(var p=(1<<b)-1,u=0,t=0,r=0,n=0,v=0,w,x=[],y=Math.ceil((q-e)/g),B=0;B<d;B++)0===r&&(w=a[u++],r=32,v=0),r>=b?(n=w>>>v&p,r-=b,v+=b):(t=b-r,n=w>>>v&p,w=a[u++],r=32-t,n|=(w&(1<<t)-1)<<b-t,v=t),x[B]=n<y?e+n*g:q;x.unshift(e);return x},ECc:function(a,b,d,e){var g=(1<<d)-1,q=0,p=0,u,t;u=4*a.length-Math.ceil(d*e/8);a[a.length-1]<<=8*u;for(var r=0;r<e;r++)0===p&&(t=a[q++],p=32),p>=d?(u=t>>>p-d&g,p-=d):(p=d-p,u=(t&g)<<p&g,t=a[q++],p=32-p,u+=
t>>>p),b[r]=u;return b},FCc:function(a,b,d,e){for(var g=(1<<d)-1,q=0,p=0,u=0,t,r,n,v=0;v<e;v++)0===p&&(r=a[q++],p=32,u=0),p>=d?(t=r>>>u&g,p-=d,u+=d):(n=d-p,t=r>>>u&g,r=a[q++],p=32-n,t|=(r&(1<<n)-1)<<d-n,u=n),b[v]=t;return b}},d={Jhc:12,ksc:function(a){for(var b=65535,d=65535,e=a.length,g=Math.floor(e/2),q=0;g;){var p=359<=g?359:g,g=g-p;do b+=a[q++]<<8,d+=b+=a[q++];while(--p);b=(b&65535)+(b>>>16);d=(d&65535)+(d>>>16)}e&1&&(d+=b+=a[q]<<8);return((d&65535)+(d>>>16)<<16|(b&65535)+(b>>>16))>>>0},aEc:function(a,
b){var d=b.Wj,e=new window.Uint8Array(a,d,6),g={};g.wba=String.fromCharCode.apply(null,e);if(0!==g.wba.lastIndexOf("Lerc2",0))throw Error("Unexpected file identifier string (expect Lerc2): "+g.wba);var d=d+6,e=new window.DataView(a,d,8),q=e.getInt32(0,!0);g.qra=q;d+=4;3<=q&&(g.XUb=e.getUint32(4,!0),d+=4);e=new window.DataView(a,d,12);g.height=e.getUint32(0,!0);g.width=e.getUint32(4,!0);d+=8;4<=q?(g.n2=e.getUint32(8,!0),d+=4):g.n2=1;e=new window.DataView(a,d,40);g.Wja=e.getUint32(0,!0);g.bxb=e.getInt32(4,
!0);g.Gqa=e.getInt32(8,!0);g.WQ=e.getInt32(12,!0);g.Nja=e.getFloat64(16,!0);g.PEb=e.getFloat64(24,!0);g.OVa=e.getFloat64(32,!0);d+=40;b.Es=g;b.Wj=d;if(3<=q&&(d=this.ksc(new window.Uint8Array(a,d-(4<=q?52:48),g.Gqa-14)),d!==g.XUb))throw Error("Checksum failed.");return!0},Zrc:function(a,b){var d=b.Es,e=this.CZb(d.WQ),g=d.n2*this.g7a(d.WQ),q=this.l8b(a,b.Wj,e,g),e=this.l8b(a,b.Wj+g,e,g);b.Wj+=2*g;for(var p=!0,g=0;g<d.n2;g++)if(q[g]!==e[g]){p=!1;break}d.n6b=q;d.Uwb=e;return p},l8b:function(a,b,d,e){if(d===
window.Uint8Array)a=new window.Uint8Array(a,b,e);else{var g=new window.ArrayBuffer(e),q=new window.Uint8Array(g);q.set(new window.Uint8Array(a,b,e));a=new d(g)}return a},eEc:function(a,b){var d=b.Wj,e=b.Es,g=e.width*e.height,q=e.Wja,p=new window.DataView(a,d,4),e={};e.nC=p.getUint32(0,!0);d+=4;if((0===q||g===q)&&0!==e.nC)throw Error("invalid mask");if(0===q)q=new window.Uint8Array(Math.ceil(g/8)),e.aBa=q,p=new window.Uint8Array(g),b.nj.WU=p,d+=e.nC;else if(0<e.nC){var q=new window.Uint8Array(Math.ceil(g/
8)),p=new window.DataView(a,d,e.nC),u=p.getInt16(0,!0),t=2,r=0,n=0;do{if(0<u)for(;u--;)q[r++]=p.getUint8(t++);else for(n=p.getUint8(t++),u=-u;u--;)q[r++]=n;u=p.getInt16(t,!0);t+=2}while(t<e.nC);if(-32768!==u||r<q.length)throw Error("Unexpected end of mask RLE encoding");p=new window.Uint8Array(g);for(t=u=0;t<g;t++)t&7?(u=q[t>>3],u<<=t&7):u=q[t>>3],u&128&&(p[t]=1);b.nj.WU=p;e.aBa=q;d+=e.nC}b.Wj=d;b.br=e;return!0},YDc:function(a,b,e){var g=b.Wj,m=b.Es,q=m.n2,p=m.width*m.height,u=m.WQ,m=m.Wja*d.g7a(u)*
q,u=b.nj.WU;if(e===window.Uint8Array)a=new window.Uint8Array(a,g,m);else{var t=new window.ArrayBuffer(m),r=new window.Uint8Array(t);r.set(new window.Uint8Array(a,g,m));a=new e(t)}if(a.length===p*q)b.nj.yO=a;else if(b.nj.yO=new e(p*q),r=e=0,1<q)for(var n=0;n<q;n++)for(r=n*p,t=0;t<p;t++)u[t]&&(b.nj.yO[r+t]=a[e++]);else for(t=0;t<p;t++)u[t]&&(b.nj.yO[t]=a[e++]);b.Wj=g+m;return!0},cEc:function(b,e){var l=this.Jhc,k=new window.DataView(b,e.Wj,16);e.Wj+=16;var m=k.getInt32(0,!0);if(2>m)throw Error("unsupported Huffman version");
var m=k.getInt32(4,!0),q=k.getInt32(8,!0),k=k.getInt32(12,!0);if(q>=k)return!1;var p=new window.Uint32Array(k-q);d.xWb(b,e,p);var u=[],t,r,n;for(t=q;t<k;t++)r=t-(t<m?0:m),u[r]={first:p[t-q],UTa:null};t=b.byteLength-e.Wj;var p=Math.ceil(t/4),p=new window.ArrayBuffer(4*p),v=new window.Uint8Array(p);v.set(new window.Uint8Array(b,e.Wj,t));var p=new window.Uint32Array(p),v=0,w,x=0;w=p[0];for(t=q;t<k;t++)r=t-(t<m?0:m),n=u[r].first,0<n&&(u[r].UTa=w<<v>>>32-n,32-v>=n?(v+=n,32===v&&(v=0,x++,w=p[x])):(v+=n-
32,x++,w=p[x],u[r].UTa|=w>>>32-v));var y=w=0,B=new a;for(t=0;t<u.length;t++)void 0!==u[t]&&(w=Math.max(w,u[t].first));var y=w>=l?l:w,l=[],A,C;for(t=q;t<k;t++)if(r=t-(t<m?0:m),n=u[r].first,0<n)if(q=[n,r],n<=y)for(r=u[r].UTa<<y-n,A=1<<y-n,n=0;n<A;n++)l[r|n]=q;else for(r=u[r].UTa,A=B,--n;0<=n;n--)(C=r>>>n&1)?(A.right||(A.right=new a),A=A.right):(A.left||(A.left=new a),A=A.left),0!==n||A.VD||(A.VD=q[1]);return{tuc:l,UBc:y,TBc:w,$cb:B,uDb:p,HGc:x,brc:v}},bEc:function(a,b,d){var e=b.Es,g=e.n2,q=b.Es.height,
p=b.Es.width,u=p*q,t=this.cEc(a,b);a=t.tuc;var r=t.$cb,n=t.uDb,v=t.HGc,w=t.brc,x=t.UBc,t=t.TBc,y=0===b.Es.WQ?128:0,B,A,C=b.nj.WU,D,E,F,J,H,G,K=0;0<w&&(v++,w=0);var M=n[v],O=1===b.nvc,L=new d(u*g),N=L,I;for(I=0;I<e.n2;I++){1<g&&(N=new d(L.buffer,u*I,u),K=0);if(b.Es.Wja===p*q)for(F=H=0;F<q;F++)for(J=0;J<p;J++,H++){A=0;B=D=M<<w>>>32-x;32-w<x&&(B=D|=n[v+1]>>>64-w-x);if(a[B])A=a[B][1],w+=a[B][0];else for(D=M<<w>>>32-t,32-w<t&&(D|=n[v+1]>>>64-w-t),B=r,G=0;G<t;G++)if(B=(E=D>>>t-G-1&1)?B.right:B.left,!B.left&&
!B.right){A=B.VD;w=w+G+1;break}32<=w&&(w-=32,v++,M=n[v]);A-=y;O?(A=0<J?A+K:0<F?A+N[H-p]:A+K,A&=255,K=N[H]=A):N[H]=A}else for(F=H=0;F<q;F++)for(J=0;J<p;J++,H++)if(C[H]){A=0;B=D=M<<w>>>32-x;32-w<x&&(B=D|=n[v+1]>>>64-w-x);if(a[B])A=a[B][1],w+=a[B][0];else for(D=M<<w>>>32-t,32-w<t&&(D|=n[v+1]>>>64-w-t),B=r,G=0;G<t;G++)if(B=(E=D>>>t-G-1&1)?B.right:B.left,!B.left&&!B.right){A=B.VD;w=w+G+1;break}32<=w&&(w-=32,v++,M=n[v]);A-=y;O?(A=0<J&&C[H-1]?A+K:0<F&&C[H-p]?A+N[H-p]:A+K,A&=255,K=N[H]=A):N[H]=A}b.Wj=b.Wj+
4*(v+1)+(0<w?4:0)}b.nj.yO=L},xWb:function(a,d,g,k,m){var q=d.Es,p=q.qra,u=0,t=new window.DataView(a,d.Wj,5),r=t.getUint8(0);u++;var n=r>>6,v=0===n?4:3-n,w=0<(r&32),n=r&31,r=0;if(1===v)r=t.getUint8(u),u++;else if(2===v)r=t.getUint16(u,!0),u+=2;else if(4===v)r=t.getUint32(u,!0),u+=4;else throw Error("Invalid valid pixel count type");var v=2*q.Nja,x,y;m=1<q.n2?q.Uwb[m]:q.OVa;if(w){d.VOa.TAc++;w=t.getUint8(u);u++;q=Math.ceil((w-1)*n/8);x=Math.ceil(q/4);x=new window.ArrayBuffer(4*x);y=new window.Uint8Array(x);
d.Wj+=u;y.set(new window.Uint8Array(a,d.Wj,q));u=new window.Uint32Array(x);d.Wj+=q;for(t=0;w-1>>>t;)t++;q=Math.ceil(r*t/8);x=Math.ceil(q/4);x=new window.ArrayBuffer(4*x);y=new window.Uint8Array(x);y.set(new window.Uint8Array(a,d.Wj,q));a=new window.Uint32Array(x);d.Wj+=q;d=3<=p?b.sHc(u,n,w-1,k,v,m):b.rHc(u,n,w-1,k,v,m);3<=p?b.Hdc(a,g,t,r,d):b.Gdc(a,g,t,r,d)}else d.VOa.drc++,t=n,d.Wj+=u,0<t&&(q=Math.ceil(r*t/8),x=Math.ceil(q/4),x=new window.ArrayBuffer(4*x),y=new window.Uint8Array(x),y.set(new window.Uint8Array(a,
d.Wj,q)),a=new window.Uint32Array(x),d.Wj+=q,3<=p?null==k?b.FCc(a,g,t,r):b.Hdc(a,g,t,r,!1,k,v,m):null==k?b.ECc(a,g,t,r):b.Gdc(a,g,t,r,!1,k,v,m))},m8b:function(a,b,e){var g=b.Es,m=g.width,q=g.height,p=g.bxb,u=g.WQ,t=d.g7a(u),r=Math.ceil(m/p),n=Math.ceil(q/p);b.nj.LY=n;b.nj.m2=r;for(var v=b.nj.Wj=0,w=0,x=0,y=0,B=0,A=0,C=0,D=0,E=v=0,F=0,J=0,C=C=v=C=0,H,G=new e(p*p),K=q%p||p,M=m%p||p,g=g.n2,O,L=b.nj.WU,N=b.nj.yO,x=0;x<n;x++)for(B=x!==n-1?p:K,y=0;y<r;y++)for(A=y!==r-1?p:M,F=x*m*p+y*p,J=m-A,O=0;O<g;O++){1<
g&&(N=new e(b.nj.yO.buffer,m*q*O*t,m*q));C=a.byteLength-b.Wj;w=new window.DataView(a,b.Wj,Math.min(10,C));H={};C=0;D=w.getUint8(0);C++;v=D>>6&255;E=D>>2&15;if(E!==(y*p>>3&15))throw Error("integrity issue");D&=3;if(3<D)throw b.Wj+=C,Error("Invalid block encoding ("+D+")");if(2===D)b.VOa.psc++,b.Wj+=C;else if(0===D){b.VOa.oHc++;b.Wj+=C;C=B*A*t;v=a.byteLength-b.Wj;C=C<v?C:v;v=new window.ArrayBuffer(0===C%t?C:C+t-C%t);w=new window.Uint8Array(v);w.set(new window.Uint8Array(a,b.Wj,C));H=new e(v);C=0;if(L)for(v=
0;v<B;v++){for(w=0;w<A;w++)L[F]&&(N[F]=H[C++]),F++;F+=J}else for(v=0;v<B;v++){for(w=0;w<A;w++)N[F++]=H[C++];F+=J}b.Wj+=C*t}else if(v=d.Gwc(u,v),H=d.vxc(H,C,v,w),C+=d.g7a(v),3===D)if(b.Wj+=C,b.VOa.qsc++,L)for(v=0;v<B;v++){for(w=0;w<A;w++)L[F]&&(N[F]=H),F++;F+=J}else for(v=0;v<B;v++){for(w=0;w<A;w++)N[F++]=H;F+=J}else if(b.Wj+=C,d.xWb(a,b,G,H,O),C=0,L)for(v=0;v<B;v++){for(w=0;w<A;w++)L[F]&&(N[F]=G[C++]),F++;F+=J}else for(v=0;v<B;v++){for(w=0;w<A;w++)N[F++]=G[C++];F+=J}}},Uvc:function(a){return{wba:a.Es.wba,
qra:a.Es.qra,WQ:a.Es.WQ,height:a.Es.height,width:a.Es.width,Wja:a.Es.Wja,bxb:a.Es.bxb,Gqa:a.Es.Gqa,Nja:a.Es.Nja,kka:d.zxc(a.Es.WQ),$ha:a.$ha,br:a.br?{nC:a.br.nC}:null,nj:{m2:a.nj.m2,LY:a.nj.LY,maxValue:a.Es.OVa,minValue:a.Es.PEb,OU:a.OU}}},DVb:function(a){var b=a.Es.OVa,d=a.Es.n2,e=a.Es.height*a.Es.width,g=e*d,q,p=0,u=a.nj.WU;if(u)if(1<d)for(g=0;g<d;g++)for(p=g*e,q=0;q<e;q++)u[q]&&(a.nj.yO[p+q]=b);else for(q=0;q<e;q++)u[q]&&(a.nj.yO[q]=b);else if(a.nj.yO.fill)a.nj.yO.fill(b);else for(q=0;q<g;q++)a.nj.yO[q]=
b},CZb:function(a){switch(a){case 0:return window.Int8Array;case 1:return window.Uint8Array;case 2:return window.Int16Array;case 3:return window.Uint16Array;case 4:return window.Int32Array;case 5:return window.Uint32Array;case 6:return window.Float32Array;case 7:return window.Float64Array;default:return window.Float32Array}},zxc:function(a){switch(a){case 0:return"S8";case 1:return"U8";case 2:return"S16";case 3:return"U16";case 4:return"S32";case 5:return"U32";case 6:return"F32";case 7:return"F64";
default:return"F32"}},bAc:function(a,b){if(null==b)return!1;switch(a){case 0:return-128<=b&&127>=b;case 1:return 0<=b&&255>=b;case 2:return-32768<=b&&32767>=b;case 3:return 0<=b&&65536>=b;case 4:return-2147483648<=b&&2147483647>=b;case 5:return 0<=b&&4294967296>=b;case 6:return-3.4027999387901484E38<=b&&3.4027999387901484E38>=b;case 7:return 4.9E-324<=b&&1.7976931348623157E308>=b;default:return!1}},g7a:function(a){switch(a){case 0:case 1:return 1;case 2:case 3:return 2;case 4:case 5:case 6:return 4;
case 7:return 8;default:return a}},Gwc:function(a,b){switch(a){case 2:case 4:return a-b;case 3:case 5:return a-2*b;case 6:return 0===b?a:1===b?2:1;case 7:return 0===b?a:a-2*b+1;default:return a}},vxc:function(a,b,d,e){switch(d){case 0:return e.getInt8(b);case 1:return e.getUint8(b);case 2:return e.getInt16(b,!0);case 3:return e.getUint16(b,!0);case 4:return e.getInt32(b,!0);case 5:return e.CMc(b,!0);case 6:return e.getFloat32(b,!0);case 7:return e.getFloat64(b,!0);default:throw Error("the decoder does not understand this pixel type");
}}};return{decode:function(a,b){b=b||{};var e=b.OU,g={};g.Wj=b.LDa||0;g.nj={};if(!d.aEc(a,g))return null;var m=g.Es,q=m.qra,p=d.CZb(m.WQ);d.eEc(a,g);m.Wja===m.width*m.height||g.nj.WU||(g.nj.WU=b.wta);var u=m.width*m.height;g.nj.yO=new p(u*m.n2);g.VOa={WNc:0,oHc:0,TAc:0,drc:0,psc:0,qsc:0};if(0!==m.Wja)if(m.OVa===m.PEb)d.DVb(g);else if(4<=q&&d.Zrc(a,g))d.DVb(g);else{var t=new window.DataView(a,g.Wj,2),r=t.getUint8(0);g.Wj++;if(r)d.YDc(a,g,p);else if(1<q&&1>=m.WQ&&1E-5>Math.abs(m.Nja-.5)){t=t.getUint8(1);
g.Wj++;g.nvc=t;if(2<t||4>q&&1<t)throw Error("Invalid Huffman flag "+t);t?d.bEc(a,g,p):d.m8b(a,g,p)}else d.m8b(a,g,p)}g.$ha=g.Wj;b.LDa?(q=g.Es.Gqa+b.LDa-g.Wj,1<=Math.abs(q)&&(g.$ha=b.LDa+g.Es.Gqa)):(q=g.Es.Gqa-g.Wj,1<=Math.abs(q)&&(g.$ha=g.Es.Gqa));q={width:m.width,height:m.height,oyb:g.nj.yO,minValue:m.PEb,maxValue:m.OVa,CPc:m.Wja,LWb:m.n2,MWb:{n6b:m.n6b,Uwb:m.Uwb},wta:g.nj.WU};if(g.nj.WU&&d.bAc(m.WQ,e)){m=g.nj.WU;for(p=0;p<u;p++)m[p]||(q.oyb[p]=e);q.OU=e}g.OU=e;b.m9b&&(q.OBa=d.Uvc(g));return q}}}();
return{decode:function(g,e){if(!_geo.c.f.Math.TRa())throw Error("Big endian system is not supported.");e=e||{};var d=e.LDa||0,f=new window.Uint8Array(g,d,10),f=String.fromCharCode.apply(null,f),h,l;if("CntZImage"===f.trim())h=b,l=1;else if("Lerc2"===f.substring(0,5))h=a,l=2;else throw Error("Unexpected file identifier string: "+f);for(var k=0,m=g.byteLength-10,q,f=[],p,u={width:0,height:0,nj:[],kka:e.kka,br:null,Cr:[]};d<m;){var t=h.decode(g,{LDa:d,rPa:q,wta:p,dFc:0===k,cFc:0===k,m9b:!0,kka:e.kka||
null,OU:e.OU||null}),d=t.OBa.$ha;0===k&&(q=t.rPa,p=t.wta,u.width=t.width,u.height=t.height,u.LWb=t.LWb||1,u.kka=t.kka||t.OBa.kka,u.br=t.wta);1<l&&t.OBa.br&&0<t.OBa.br.nC&&f.push(t.wta);k++;u.nj.push(t.oyb);u.Cr.push({minValue:t.minValue,maxValue:t.maxValue,OU:t.OU,MWb:t.MWb})}if(1<l&&1<f.length){l=u.width*u.height;u.LKc=f;p=new window.Uint8Array(l);p.set(f[0]);for(q=1;q<f.length;q++)for(d=f[q],h=0;h<l;h++)p[h]&=d[h];u.wta=p}return u}}}();
_geo.c.map.f.jz=function(){function b(){}var a,g;_geo.c.ja(b,"geotoolkit.map.util.XML");b.parse=function(b){a=a||new _geo.c.window.DOMParser;b=a.parseFromString(b,"text/xml");if("parsererror"===b.nodeName||0<b.getElementsByTagName("parsererror").length)throw Error("Wrong XML received!");return b};b.AR=function(a,b,f){if(!a)return f?[]:null;g=g||new _geo.c.f.JV;b=b.split(", ");if(!g.isIE&&!g.isEdge)return b=b.map(function(a){return":scope > "+a}),b=b.join(", "),f?a.querySelectorAll(b):a.querySelector(b);
a="#document"===a.nodeName?a.childNodes:[a];for(var h=[],l=0;l<a.length;++l)for(var k=a[l].childNodes,m=0;m<k.length;++m)if(0<=b.indexOf(k[m].nodeName)){if(!f)return k[m];h.push(k[m])}return f?h:null};b.fk=function(a){if(a.children)return a.children;var b=[];a=a.childNodes;for(var f=0;f<a.length;++f)"#text"!==a[f].nodeName&&"#comment"!==a[f].nodeName&&b.push(a[f]);return b};b.Hva=function(a){var d=b.fk(a);if(0===d.length)return a.textContent;a={};for(var f=0;f<d.length;++f){var g=d[f].nodeName.toLowerCase(),
l=b.Hva(d[f]);null!=l&&(null==a[g]?a[g]=l:Array.isArray(a[g])?a[g].push(l):a[g]=[a[g],l])}return a};return b}();
_geo.c.map.Map=function(){function b(a){var b={model:null,north:void 0,south:void 0,east:void 0,west:void 0,annotationssizes:{west:0,east:0,north:0,south:0},tools:{horizontalscroll:{visible:!1},verticalscroll:{visible:!1}},bounds:new _geo.c.f.Rect(0,0,300,300),border:{color:"white"},system:_geo.c.map.Xu.x4,maplimits:null,layerscontainer:null,wrapped:!1,viewcache:!1,viewcachesize:{width:256,height:256},zoom:{min:0,max:window.Infinity,speed:1.5,time:400},viewcachemode:_geo.c.V.Cache.n9.jZa,viewcachememorylimit:null,
viewcacheasync:!1,tooltip:{divelement:null,offsetx:10,offsety:-10,alignment:_geo.c.f.Ca.Ig,mode:_geo.c.controls.ia.aq.ZO,max:1,autoupdate:!0},webmap:null,scaleunit:_geo.c.f.Bf.ib().Zb("px")};this.X2a=e;this.bN=this.qX=this.vfa=this.uza=null;this.m6=0;this.pa=_geo.c.Ac(a,b);this.ei=null!=this.pa.layerscontainer?this.pa.layerscontainer:new _geo.c.V.Ya;null==this.pa.model&&(this.pa.wrapped?(this.pa.model=new _geo.c.V.Ihb({clipchild:!0,wrapped:this.pa.wrapped}),this.pa.model.bUa(this.ei,!0)):this.pa.model=
new _geo.c.V.Ya);!0===this.pa.viewcache&&this.ei.Kl(new _geo.c.V.Ek(this.pa.viewcachesize.width,this.pa.viewcachesize.height,this.pa.viewcachemode,this.pa.viewcachememorylimit,this.pa.viewcacheasync));null==this.pa.layerscontainer&&this.pa.model.bh(0,this.ei);_geo.c.qa.Bh.call(this,this.pa);this.Uc().Gf(!0);this.M5=new _geo.c.V.Dfb({keepAspectRatio:!0,horizontalAlignment:"center",verticalAlignment:"center",wrapped:this.pa.wrapped});this.MR(this.M5);a=this.pa.system;this.Daa="string"===typeof a?_geo.c.map.Fd.he.Kp().it(a):
a;this.Nr=function(){this.oEb()}.bind(this);this.eSb=function(){this.gSb.hdb()}.bind(this);this.bb(this.pa);null!=this.pa.webmap&&_geo.c.map.f.c_a.load(this,this.pa.webmap);null==this.pa.maplimits&&this.Xz(this.Daa.Uq())}var a=1.25,g=3,e=_geo.c.f.Bf.ib().Zb("px");_geo.c.na(b,_geo.c.qa.Bh);_geo.c.ja(b,"geotoolkit.map.Map");b.aa={$6b:"LayerAdded",a7b:"LayerRemoved",Exb:"LayersModified",mF:"onZoomStart",Ev:"onZoomEnd",Ly:"onDoubleClick",tR:"onResize"};b.prototype.h3=function(a,b){return this.hb(a,b,
this.Daa)};b.prototype.sVa=function(a,b){return this.hb(a,this.Daa,b)};b.prototype.hb=function(a,b,e){b=b instanceof _geo.c.map.Fd.pp?b:_geo.c.map.Fd.he.Kp().it(b);e=e instanceof _geo.c.map.Fd.pp?e:_geo.c.map.Fd.he.Kp().it(e);if(null!=b&&null!=e){if(null==this.qX||this.qX.$E()!==b||this.qX.Vt()!==e)this.qX=e.G7(b);return this.qX.transform(a)}return null};b.prototype.TFc=function(a){null==a&&null!=this.bN&&this.bN.getParent().removeChild(this.bN);a instanceof _geo.c.V.$.Image&&(null!=this.bN&&this.bN.getParent().removeChild(this.bN),
this.bN=a,this.bN.Ld(_geo.c.f.Ca.Wk),this.bN.Br(!0),this.bN.Ic(this.Uc().ha().ya(),this.Uc().ha().xa()),this.Uc().getParent().Ia(this.bN));return this};b.prototype.Y0b=function(){return this.bN};b.prototype.zoom=function(a,b,e){var g=a;if(0!==this.pa.zoom.min||window.Infinity!==this.pa.zoom.max){var k=this.Oia(),m=1/(k*a);1>a&&m>this.pa.zoom.max?g=1/(this.pa.zoom.max*k):1<a&&m<this.pa.zoom.min&&(g=1/(this.pa.zoom.min*k))}this.Nu(g,g,b,e);return this};b.prototype.I8=function(a,b){this.Uc().yV();b&&
(a/=this.p_b());a=this.X2a.Ib(a,e);0!==this.pa.zoom.min&&(a=Math.min(a,1/this.pa.zoom.min));window.Infinity!==this.pa.zoom.max&&(a=Math.max(a,1/this.pa.zoom.max));var g=Math.abs(a/this.Uc().Za().Rb()),l=Math.abs(a/this.Uc().Za().hc());this.Nu(g,l);return this};b.prototype.Oia=function(a){this.Uc().yV();var b=Math.abs(this.Uc().Za().Rb());a&&(b*=this.p_b());return e.Ib(b,this.X2a)};b.prototype.xb=function(){var a={};a.maplimits=null===this.uza?null:this.uza.clone();a.mapimage=this.bN;a.system=this.Daa;
a.mapscale=this.Oia();a.mapscaleobject=this.SW;a.scaleunit=this.vy();return a};b.prototype.bb=function(a){void 0!==a.mapimage&&this.TFc(a.mapimage);void 0!==a.maplimits&&(this.uza=a.maplimits,this.Xz(this.pa.maplimits));this.Uc().Xj(this.Daa.owb());null!=a.scaleunit&&this.O8(a.scaleunit);void 0!==a.mapscale&&this.I8(a.mapscale);void 0!==a.mapscaleobject&&this.GBb(a.mapscaleobject);return this};b.prototype.tR=function(a,e){this.Ga(a);null!==e&&this.I8(e);var g=this.Uc(),l=g.getParent(),k=l.ha();l.cb(k);
g.Ga(k);null!=this.SW&&this.SW.Ic(k.ua(),k.xa());null!=this.bN&&this.bN.Ic(k.ya(),k.xa());this.Pa(b.aa.tR,this,a)};b.prototype.it=function(){return this.Daa};b.prototype.th=function(){_geo.c.qa.Bh.prototype.th.call(this);this.He.Xj(!0);var a=_geo.c.selection.Bc(this.Fb).Ve('node => id(node) == "manipulator_layer"').ZY()[0],e=this.jv.LQa(_geo.c.controls.ia.ti.aa.kF);this.jv.removeListener(_geo.c.controls.ia.ti.aa.kF,e).addListener(_geo.c.controls.ia.ti.aa.kF,function(a,b){var d=b.OA();if("wheel"===
d||"mousewheel"===d||"onmousewheel"===d||"DOMMouseScroll"===d){var d=this.jv.mH(b),e=b.Wg();this.iXb(d,e.deltaY||-e.wheelDelta||e.detail,b)}else this.Sob(),this.m6=0,d=b.Mk(),this.CF(d.x,d.y),this.et.Cla()}.bind(this));this.jv.addListener(_geo.c.controls.ia.ti.aa.Ly,function(a,d){var e=this.jv.mH(d);this.m6=0;this.Pa(b.aa.Ly,this,d);this.iXb(e,-Math.sign(this.pa.zoom.speed),d)}.bind(this));this.jv.rbb(!0);this.VK.zc(!0).addListener(_geo.c.controls.ia.GC.aa.mF,function(a,d){this.Pa(b.aa.mF,this,d)}.bind(this)).addListener(_geo.c.controls.ia.GC.aa.Ev,
function(a,d){this.Pa(b.aa.Ev,this,d)}.bind(this));e=this.Au.LQa(_geo.c.controls.ia.oc.aa.ot);this.Au.removeListener(_geo.c.controls.ia.oc.aa.ot,e).addListener(_geo.c.controls.ia.oc.aa.ot,function(a){a.isEnabled()&&(this.jv.zc(!0),this.VK.zc(!0),this.fQ.zc(!1))}.bind(this));e=this.fQ.LQa(_geo.c.controls.ia.oc.aa.ot);this.fQ.removeListener(_geo.c.controls.ia.oc.aa.ot,e).OD(_geo.c.controls.ia.GM.jHa).addListener(_geo.c.controls.ia.oc.aa.ot,function(a){a.isEnabled()?(this.jv.zc(!1),this.Au.zc(!1),this.VK.zc(!1)):
(this.jv.zc(!0),this.VK.zc(!0))}.bind(this));this.v2a=(new _geo.c.controls.ia.Tea(a)).zc(!1).addListener(_geo.c.controls.ia.oc.aa.Rn,function(a){a.isEnabled()?(this.sda(),this.fQ.zc(!1),this.Au.zc(!1),this.jv.zc(!1),this.VK.zc(!1)):null!=this.lq&&(this.et.zc(this.lq.D5a),this.fQ.zc(this.lq.tzb),this.Au.zc(this.lq.selection),this.jv.zc(this.lq.w$a),this.VK.zc(this.lq.G7b),this.lq=null)}.bind(this));a=this.p5.rRa(this.jv);this.p5.$q(a,this.v2a);this.gSb=new _geo.c.controls.ia.khb({divelement:this.pa.tooltip.divelement,
offsetx:this.pa.tooltip.offsetx,offsety:this.pa.tooltip.offsety,alignment:this.pa.tooltip.alignment,mode:this.pa.tooltip.mode,autoupdate:this.pa.tooltip.autoupdate,group:this.ei,callback:function(a,b,d){var e=this.N7a(),f="",g=this.pa.tooltip.max;b=b.target&&d.gF(b)?d.lDa():d.FCa();for(--e;0<=e&&0<g;--e){d=this.ry(e);var u=d.rY();if(null!==u){var t=d.an(a,b);t&&(t.length>g&&(t.sort(_geo.c.map.f.AC.wVb),t.length=g),g-=t.length);f="function"===typeof u?u.call(d,t,f,a):u.format(t,f,a)}}return f}.bind(this)});
this.p5.$q(a+1,this.gSb)};b.prototype.xBb=function(a){for(var b=0;b<this.N7a();++b){var e=this.ry(b);e instanceof _geo.c.map.rc.l4&&e.vFc(a)}this.ma();return this};b.prototype.hD=function(a){return this.Vvb(a,null)};b.prototype.Xz=function(a){var b,e=this.Uc().kc(),e=e?e.Rb():0;(e=!_geo.c.f.Math.lh(e,this.pa.wrapped?3:1))&&(b=this.Oia(!0));a&&this.pa.wrapped&&!_geo.c.f.Math.lh(a.ba(),this.it().Uq().ba())&&(this.M5.bb({wrapped:!1}),this.Uc().iDb(!1));_geo.c.qa.Bh.prototype.Xz.call(this,a);e&&this.I8(b,
!0);this.ma();return this};b.prototype.p1=function(){if(null==this.uza){var a=this.ha();if(null==a)return null;null==this.vfa&&this.oEb();return this.vfa}return this.uza.ii()};b.prototype.GBb=function(a){null!=this.SW&&this.SW.getParent().removeChild(this.SW);this.SW=a;null!=this.SW&&(a=_geo.c.V.$.fn.j1(this.Uc().ha(),a.nw()),this.SW.Ic(a),this.Uc().getParent().Ia(this.SW),this.SW.W5b(this));return this};b.prototype.W0b=function(){var a=this.Uc().Wb(!0);return a.Xh()};b.prototype.h7b=function(a,b,
e){function g(a,b,d,e){function f(){var b=Math.min(Date.now(),F),g=d?q-(b-E):b-E,g=d?1-g*(p*g+u):g*(p*g+u);D.zb(a.ga()+g*h).Eb(a.ea()+g*k).rb(a.ba()+g*l).Hb(a.da()+g*m);t.Uc().gs(D,null);b<F?t.xMa=(0,window.setTimeout)(f):(t.xMa=null,e())}var h=b.ga()-a.ga(),k=b.ea()-a.ea(),l=b.ba()-a.ba(),m=b.da()-a.da(),D=new _geo.c.f.Rect,E=Date.now(),F=E+q;t.xMa=(0,window.setTimeout)(f)}a=this.hb(a,b,this.Daa)||a;if(null==a)return this;this.Sob();b=this.Uc().Wb(!0);var k=b.clone().qt(a.ga(),a.ea());a=this.Uc().va();
k.ua()<a.ua()?k.zb(a.ua()):k.ya()>a.ya()&&k.zb(a.ya()-k.ba());k.ta()<a.ta()?k.Eb(a.ta()):k.xa()>a.xa()&&k.Eb(a.xa()-k.da());if(!0!==e)return this.Uc().gs(k,null),this;var m=b.clone().zi(k);e=(b.ba()||1)/(b.da()||1);m.ba()/m.da()<e?m.Hb(m.ba()/e):m.rb(m.da()*e);m.qt((b.rd()+k.rd())/2,(b.td()+k.td())/2);e=new _geo.c.f.Rect(k.ua(),k.ta(),b.ua(),b.ta());e=Math.max(e.ba()/k.ba()||1,e.da()/k.da()||1);var q=1500;1>e?q=500:3>e&&(q=1E3);var p=-.5/(q*q),u=1.5/q,t=this;this.Zc.bm(!0);g(b,m,!1,function(){g(m,
k,!0,function(){t.Zc.bm(!1)})});return this};b.prototype.N7a=function(){return this.ei.cd()};b.prototype.ry=function(a){return this.ei.Dc(a)};b.prototype.L8b=function(a){if(null!=a){var e=this.ei.children.indexOf(a);0<=e&&(this.ei.removeChild(a),this.ma(),a.pb(_geo.c.V.Node.aa.gr,this.Nr),a.pb(_geo.c.map.Ta.aa.b_,this.eSb));a.ND(null);this.Pa(b.aa.a7b,this,this.ei.children.slice(0))}return this};b.prototype.Vvb=function(a,e){if(a instanceof _geo.c.map.rc.Wy){var g=this.ei.ip(a);this.ei.removeChild(a);
null!=e&&e<this.ei.cd()&&0<=e?(this.ei.bh(e,a),this.Pa(b.aa.Exb,this,this.ei.children.slice(0))):0>e?(this.ei.bh(0,a),this.Pa(b.aa.Exb,this,this.ei.children.slice(0))):this.ei.Ia(a);-1===g&&(a.ND(this.Daa),this.oEb(),a.tb(_geo.c.V.Node.aa.gr,this.Nr),a.tb(_geo.c.map.Ta.aa.b_,this.eSb),this.Pa(b.aa.$6b,this,this.ei.children.slice(0)))}else _geo.c.log("Layer can not be inserted! It must be based on geotoolkit.map.layers.AbstractLayer");return this};b.prototype.iXb=function(d,e,h){this.Sob();this.m6=
0===this.m6?Math.sign(e):0<this.m6===0<e?_geo.c.f.Math.Du(this.m6*a,-g,g):0;if(0!==this.m6){var l=this.pa.zoom.time;e=this.m6*this.pa.zoom.speed;var k=0<e?1/e:-e,m=1;e=k;if(0!==this.pa.zoom.min||window.Infinity!==this.pa.zoom.max){var m=this.Oia(),q=1/(m*k);1>k&&q>this.pa.zoom.max?e=1/(this.pa.zoom.max*m):1<k&&q<this.pa.zoom.min&&(e=1/(this.pa.zoom.min*m));m=Math.log(e)/Math.log(k);if(_geo.c.f.Math.lh(m,0))return}this.Pa(b.aa.mF,this,h);if(0>=l)this.Nu(e,e,d.x,d.y),this.m6=0,this.Pa(b.aa.Ev,this);
else{var p=this,u=Date.now(),t=u+l*m,r=function(){var a=Math.min(Date.now(),t),e=Math.pow(k,(a-u)/l);p.Nu(e,e,d.x,d.y);a<t?(u=a,p.dOa=(0,window.setTimeout)(r)):(p.m6=0,p.dOa=null,p.xBb(!0),p.Pa(b.aa.Ev,p))};this.xBb(!1);this.dOa=(0,window.setTimeout)(r)}}};b.prototype.el=function(){null!=this.SW&&this.SW.W5b(this)};b.prototype.oEb=function(){if(null==this.uza){var a=this.qrc();a&&a.Jd()&&(a=this.vfa);if(null==this.vfa&&this.vfa!==a||null!==this.vfa&&!this.vfa.Ij(a))this.vfa=a,this.Xz(a)}return this};
b.prototype.Sob=function(){null!=this.dOa&&((0,window.clearTimeout)(this.dOa),this.dOa=null,this.xBb(!0),this.Pa(b.aa.Ev,this));null!=this.xMa&&((0,window.clearTimeout)(this.xMa),this.xMa=null)};b.prototype.qrc=function(){for(var a=null,b=this.ei.cd(),e=0;e<b;e++)if(this.ei.Dc(e)instanceof _geo.c.map.rc.Wy){var g=this.ei.Dc(e).va();null!=g&&(null==a?a=g.clone():a.zi(g))}if((b=this.Daa.Uq())&&!b.Jd()&&a&&!a.Jd()){var k=b.ba()/b.da(),m=a.ba()/a.da(),e=a.ba(),g=a.da();k>m?(e=a.da()*k,e>b.ba()&&(e=b.ba(),
g=e/k)):k<m&&(g=a.ba()/k,g>b.da()&&(g=b.da(),e=g*k));k=(e-a.ba())/2;m=(g-a.da())/2;0!==k&&(a.ga()-b.ga()<k?(a.zb(b.ga()),a.rb(e)):b.ya()-a.ya()<k?(a.zb(b.ya()-e),a.rb(e)):a.de(k,0));0!==m&&(a.ea()-b.ea()<m?(a.Eb(b.ea()),a.Hb(g)):b.xa()-a.xa()<m?(a.Eb(b.xa()-g),a.Hb(g)):a.de(0,m))}return a};b.prototype.p_b=function(){var a=this.Uc().Wb(),b,e;2E3>a.da()?(b=this.hb(a.Xh(),this.it(),_geo.c.map.Xu.$y),b=Math.abs(1/Math.cos(b.ea()*Math.PI/180))):4E3>a.da()?(b=a.pi(),e=a.Do(),b=this.hb(b,this.it(),_geo.c.map.Xu.$y),
e=this.hb(e,this.it(),_geo.c.map.Xu.$y),b=(Math.abs(1/Math.cos(b.ea()*Math.PI/180))+Math.abs(1/Math.cos(e.ea()*Math.PI/180)))/2):(b=a.pi(),e=a.Do(),a=a.Xh(),b=this.hb(b,this.it(),_geo.c.map.Xu.$y),e=this.hb(e,this.it(),_geo.c.map.Xu.$y),a=this.hb(a,this.it(),_geo.c.map.Xu.$y),b=(Math.abs(1/Math.cos(b.ea()*Math.PI/180))+Math.abs(1/Math.cos(e.ea()*Math.PI/180))+Math.abs(4*(1/Math.cos(a.ea()*Math.PI/180))))/6);return b};b.prototype.vy=function(){return this.X2a};b.prototype.O8=function(a){a=_geo.c.f.Bf.ib().Zb(a);
this.X2a=null!=a?a:e;return this};b.prototype.Ga=function(a){var b=this.Oia();_geo.c.qa.Bh.prototype.Ga.call(this,a);this.I8(b);return this};return b}();_geo.c.map.Xp=_geo.c.map.Xp||{};_geo.c.map.Xp.Phc=_geo.c.map.Xa.Xp.lIa;_geo.c.map.Xp.Fkc=_geo.c.map.Xa.Xp.aWa;_geo.c.map.Xp.Wjc=_geo.c.map.Xa.Xp.Jdb;_geo.c.map.Xa.Uhc=_geo.c.map.Xa.Xp.DXa;_geo.c.map.Xa.Xjc=_geo.c.map.Xa.Xp.WV;_geo.c.map.eba=_geo.c.map.eba||{};_geo.c.map.eba.Ofc=_geo.c.map.Fd.pp;_geo.c.map.eba.Pfc=_geo.c.map.Fd.he;
_geo.c.map.eba.Chc=_geo.c.map.Fd.$y;_geo.c.map.eba.Elc=_geo.c.map.Fd.nna;_geo.c.map.eba.Nxa=_geo.c.map.Fd.Nxa;_geo.c.map.eba.q4=_geo.c.map.Fd.q4;_geo.c.map.eba.Cic=_geo.c.map.Fd.xIa;_geo.c.map.jf=_geo.c.map.jf||{};_geo.c.map.jf.Bkc=_geo.c.map.Xa.jf.SO;_geo.c.map.jf.Njc=_geo.c.map.Xa.jf.If;_geo.c.map.jf.Iic=_geo.c.map.Xa.jf.Rs;_geo.c.map.jf.Ljc=_geo.c.map.Xa.jf.sa;_geo.c.map.jf.Vec=_geo.c.map.Xa.jf.ZD;_geo.c.map.rc.Vhc=_geo.c.Sa.LH;_geo.c.map.rc.wkc=_geo.c.V.filters.bZa;_geo.c.map.rc.Qec=_geo.c.map.rc.Wy;
_geo.c.map.rc.Ckc=_geo.c.map.rc.l4;_geo.c.map.rc.Olc=_geo.c.map.rc.lk;_geo.c.map.rc.Nlc=_geo.c.map.rc.Pw;_geo.c.map.rc.Yec=_geo.c.map.rc.Xy;_geo.c.map.rc.Zec=_geo.c.map.rc.Mv;_geo.c.map.rc.Akc=_geo.c.map.rc.Uh;_geo.c.map.rc.Bhc=_geo.c.map.rc.dE;_geo.c.map.Xa.Thc=_geo.c.map.Xa.filters.LH;_geo.c.map.Xa.ghc=_geo.c.map.Xa.filters.ceb;_geo.c.map.Xa.Wec=_geo.c.map.Xa.filters.Bhb;_geo.c.map.Xa.klc=_geo.c.map.Xa.filters.Kdb;_geo.c.map.Xa.cfc=_geo.c.map.Xa.filters.Tdb;_geo.c.map.Xa.tfc=_geo.c.map.Xa.filters.iXa;
_geo.c.map.Xa.kjc=_geo.c.map.Xa.filters.HIa;_geo.c.map.Xa.Whc=_geo.c.map.Xa.wwa;_geo.c.map.Xa.Pec=_geo.c.map.Xa.RJ;_geo.c.map.Xa.Ijc=_geo.c.map.Xa.sa;_geo.c.map.Xa.djc=_geo.c.map.Xa.mK;_geo.c.map.Xa.Gic=_geo.c.map.Xa.Rs;_geo.c.map.Xa.cjc=_geo.c.map.Xa.lK;_geo.c.map.Xa.Mjc=_geo.c.map.Xa.If;_geo.c.map.Xa.ejc=_geo.c.map.Xa.CM;_geo.c.map.Xa.Uec=_geo.c.map.Xa.ZD;_geo.c.map.Xa.Shc=_geo.c.map.Xa.Wm.xwa;_geo.c.map.Xa.Rhc=_geo.c.map.Xa.Wm.vma;_geo.c.map.Xa.Jjc=_geo.c.map.Xa.Wm.sa;_geo.c.map.Xa.Fhc=_geo.c.map.Xa.Wm.If;
_geo.c.map.Xa.Ghc=_geo.c.map.Xa.Wm.Rs;_geo.c.map.Xa.Hic=_geo.c.map.Xa.Wm.M3;_geo.c.map.Xa.Dhc=_geo.c.map.Xa.Wm.ub;_geo.c.map.Xa.ft.fgc=_geo.c.map.Xa.ft.LZ;_geo.c.map.Xa.ft.ehc=_geo.c.map.Xa.ft.EWa;_geo.c.map.Xa.ft.Hjc=_geo.c.map.Xa.ft.Fdb;_geo.c.map.Xa.ft.Zjc=_geo.c.map.Xa.ft.dz;_geo.c.map.Xa.Ta=_geo.c.map.Xa.Ta||{};_geo.c.map.Xa.Ta.ggc=_geo.c.map.Ta.ci;_geo.c.map.Xa.Ta.fhc=_geo.c.map.Ta.cwa;_geo.c.map.Xa.Ta.Ahc=_geo.c.map.Ta.dE;_geo.c.map.Xa.Ta.$ec=_geo.c.map.Ta.Mv;_geo.c.map.Xa.ft.aa=_geo.c.map.rc.XD.aa;
(function(){var b="geotoolkit",a="Events",g="tools",e=_geo.c.hx,d=_geo.c.gx,f=null,h=null;d(f=_geo.c.map.Fd.tZa.prototype,"getA",f.g1,{g1:0});d(f,"getB",f.QPa,{QPa:0});d(f,"getE",f.nQa,{nQa:0});d(f,"getF",f.Bsb,{Bsb:0});e(b+".map.coordinatesystems.AbstractSystem",_geo.c.map.Fd.pp);d(f=_geo.c.map.Fd.pp.prototype,"getName",f.getName,{getName:0});d(f,"getUnits",f.ZN,{ZN:0});d(f,"getEpsgCode",f.WI,{WI:0});d(f,"getTransformer",f.G7,{G7:0});d(f,"isVerticalAxisUp",f.owb,{owb:0});d(f,"getDefaultModelLimits",
f.Uq,{Uq:0});d(f,"transform",f.transform,{transform:0});d(f,"inverseTransform",f.te,{te:0});e(b+".map.coordinatesystems.AbstractSystem.fromObject",_geo.c.map.Fd.pp.gb);e(b+".map.GeodeticSystem",_geo.c.map.Xu);e(b+".map.GeodeticSystem.WGS84",(h=_geo.c.map.Xu).x4);e(b+".map.GeodeticSystem.LatLon",h.$y);e(b+".map.GeodeticSystem.UTM",h.nna);e(b+".map.GeodeticSystem.None",h.cf);e(b+".map.coordinatesystems.Registry",_geo.c.map.Fd.he);d(f=_geo.c.map.Fd.he.prototype,"getCoordinateSystem",f.it,{it:0});d(f,
"registerCoordinateSystem",f.tTa,{tTa:0});e(b+".map.coordinatesystems.Registry.getDefault",_geo.c.map.Fd.he.Kp);e(b+".map.coordinatesystems.LatLon",(h=_geo.c.map.Fd).$y);d(f=_geo.c.map.Fd.$y.prototype,"getTransformer",f.G7,{G7:0});d(f,"transform",f.transform,{transform:0});d(f,"inverseTransform",f.te,{te:0});e(b+".map.coordinatesystems.UTM",h.nna);d(f=_geo.c.map.Fd.nna.prototype,"transform",f.transform,{transform:0});d(f,"getZone",f.b4b,{b4b:0});d(f,"setZone",f.xcc,{xcc:0});d(f,"setSouthernHemisphere",
f.Dbc,{Dbc:0});d(f,"isSouthernHemisphere",f.w5b,{w5b:0});d(f,"inverseTransform",f.te,{te:0});e(b+".map.coordinatesystems.WebMercator",h.Nxa);d(f=_geo.c.map.Fd.Nxa.prototype,"transform",f.transform,{transform:0});d(f,"inverseTransform",f.te,{te:0});d(f=_geo.c.map.Fd.oIb.prototype,"transform",f.transform,{transform:0});d(f,"inverseTransform",f.te,{te:0});d(f=_geo.c.map.Fd.xMb.prototype,"transform",f.transform,{transform:0});d(f,"inverseTransform",f.te,{te:0});e(b+".map.coordinatesystems.WKT",h.Mxa);
d(f=_geo.c.map.Fd.Mxa.prototype,"transform",f.transform,{transform:0});d(f,"inverseTransform",f.te,{te:0});d(f,"getSpheroid",f.I2b,{I2b:0});d(f,"getToWGS84",f.q3b,{q3b:0});d(f,"getPrimeMeridian",f.O1b,{O1b:0});d(f,"getSpheroidUnits",f.J2b,{J2b:0});e(b+".map.coordinatesystems.WKT.parse",_geo.c.map.Fd.Mxa.parse);e(b+".map.coordinatesystems.AxisDirection",_geo.c.map.Fd.GV);e(b+".map.coordinatesystems.AxisDirection.North",(h=_geo.c.map.Fd.GV).Le);e(b+".map.coordinatesystems.AxisDirection.South",h.Wc);
e(b+".map.coordinatesystems.AxisDirection.West",h.Sc);e(b+".map.coordinatesystems.AxisDirection.East",h.od);e(b+".map.coordinatesystems.Transformer",(h=_geo.c.map.Fd).q4);d(f=_geo.c.map.Fd.q4.prototype,"transform",f.transform,{transform:0});d(f,"transformPoint",f.hb,{hb:0});d(f,"transformRect",f.yb,{yb:0});d(f,"transformPolygon",f.ZDb,{ZDb:0});d(f,"setInitialCoordinateSystem",f.HR,{HR:0});d(f,"getInitialCoordinateSystem",f.$E,{$E:0});d(f,"setTargetCoordinateSystem",f.jva,{jva:0});d(f,"getTargetCoordinateSystem",
f.Vt,{Vt:0});e(b+".map.coordinatesystems.LatLonTransformer",h.xIa);d(f=_geo.c.map.Fd.xIa.prototype,"transform",f.transform,{transform:0});e(b+".map.features.IFeature",(h=_geo.c.map.Xa).wwa);d(f=_geo.c.map.Xa.wwa.prototype,"getId",f.zd,{zd:0});d(f,"getAttributes",f.MA,{MA:0});d(f,"getGeometry",f.ce,{ce:0});e(b+".map.features.AbstractFeature",h.RJ);d(f=_geo.c.map.Xa.RJ.prototype,"getId",f.zd,{zd:0});d(f,"getGeometry",f.ce,{ce:0});d(f,"getAttributes",f.MA,{MA:0});d(f,"applyMapCS",f.gy,{gy:0});e(b+".map.features.Point",
h.sa);d(f=_geo.c.map.Xa.sa.prototype,"applyMapCS",f.gy,{gy:0});e(b+".map.features.MultiPoint",h.mK);d(f=_geo.c.map.Xa.mK.prototype,"applyMapCS",f.gy,{gy:0});e(b+".map.features.LineString",h.Rs);d(f=_geo.c.map.Xa.Rs.prototype,"applyMapCS",f.gy,{gy:0});e(b+".map.features.MultiLineString",h.lK);d(f=_geo.c.map.Xa.lK.prototype,"applyMapCS",f.gy,{gy:0});e(b+".map.features.Polygon",h.If);d(f=_geo.c.map.Xa.If.prototype,"applyMapCS",f.gy,{gy:0});e(b+".map.features.MultiPolygon",h.CM);d(f=_geo.c.map.Xa.CM.prototype,
"applyMapCS",f.gy,{gy:0});e(b+".map.features.Aggregation",h.ZD);d(f=_geo.c.map.Xa.ZD.prototype,"getAggregation",f.WBa,{WBa:0});d(f,"setExpanded",f.GR,{GR:0});e(b+".map.features.strategies.IGetAnnotation",(h=_geo.c.map.Xa.Xp).lIa);d(f=_geo.c.map.Xa.Xp.lIa.prototype,"getAnnotation",f.Db,{Db:0});e(b+".map.features.strategies.AnnotationByAttribute",h.Jdb);d(f=_geo.c.map.Xa.Xp.Jdb.prototype,"getAnnotation",f.Db,{Db:0});e(b+".map.features.strategies.AnnotationById",h.aWa);d(f=_geo.c.map.Xa.Xp.aWa.prototype,
"getAnnotation",f.Db,{Db:0});e(b+".map.features.strategies.IGetId",h.DXa);d(f=_geo.c.map.Xa.Xp.DXa.prototype,"getFeatureId",f.AL,{AL:0});e(b+".map.features.strategies.IdByAttribute",h.WV);d(f=_geo.c.map.Xa.Xp.WV.prototype,"getFeatureId",f.AL,{AL:0});d(f,"getPropertyName",f.R1b,{R1b:0});d(f,"getAttributeName",f.k1,{k1:0});e(b+".map.features.formatters.SingleField",(h=_geo.c.map.Xa.zba).qZa);d(f=_geo.c.map.Xa.zba.qZa.prototype,"format",f.format,{format:0});e(b+".map.features.formatters.Table",h.ehb);
d(f=_geo.c.map.Xa.zba.ehb.prototype,"format",f.format,{format:0});e(b+".map.features.formatters.Table.fromObject",_geo.c.map.Xa.zba.ehb.gb);e(b+".map.features.filters.IFilter",(h=_geo.c.map.Xa.filters).LH);d(f=_geo.c.map.Xa.filters.LH.prototype,"filterFeatures",f.$B,{$B:0});d(f,"reset",f.reset,{reset:0});e(b+".map.features.filters.AnnotationFit",h.Kdb);d(f=_geo.c.map.Xa.filters.Kdb.prototype,"filterFeatures",f.$B,{$B:0});d(f,"reset",f.reset,{reset:0});e(b+".map.features.filters.BiggestGeometry",h.Tdb);
d(f=_geo.c.map.Xa.filters.Tdb.prototype,"filterFeatures",f.$B,{$B:0});d(f,"reset",f.reset,{reset:0});e(b+".map.features.filters.ByType",h.ceb);d(f=_geo.c.map.Xa.filters.ceb.prototype,"filterFeatures",f.$B,{$B:0});d(f,"reset",f.reset,{reset:0});e(b+".map.features.filters.EvenOddGeometry",h.iXa);d(f=_geo.c.map.Xa.filters.iXa.prototype,"filterFeatures",f.$B,{$B:0});d(f,"reset",f.reset,{reset:0});e(b+".map.features.filters.NoAnnotationOverlap",h.HIa);d(f=_geo.c.map.Xa.filters.HIa.prototype,"filterFeatures",
f.$B,{$B:0});d(f,"reset",f.reset,{reset:0});e(b+".map.features.filters.VisibilityArea",h.Bhb);d(f=_geo.c.map.Xa.filters.Bhb.prototype,"setOptions",f.bb,{bb:0});d(f,"getOptions",f.xb,{xb:0});d(f,"filterFeatures",f.$B,{$B:0});d(f,"reset",f.reset,{reset:0});e(b+".map.features.adapters.IGeometryToShape",(h=_geo.c.map.Xa.Wm).vma);d(f=_geo.c.map.Xa.Wm.vma.prototype,"apply",f.apply,{apply:0});e(b+".map.features.adapters.IGeometryToText",h.xwa);d(f=_geo.c.map.Xa.Wm.xwa.prototype,"apply",f.apply,{apply:0});
e(b+".map.features.adapters.Center",h.ub);e(b+".map.features.adapters.Center.Mode",_geo.c.map.Xa.Wm.ub.b4);e(b+".map.features.adapters.Center.Mode.Centroid",(h=_geo.c.map.Xa.Wm.ub.b4).Cfc);e(b+".map.features.adapters.Center.Mode.Incenter",h.$Hb);e(b+".map.features.adapters.Center.Mode.CentroidOrIncenter",h.QFb);e(b+".map.features.adapters.Center.Mode.Mixed",h.Vfb);d(f=_geo.c.map.Xa.Wm.ub.prototype,"apply",f.apply,{apply:0});e(b+".map.features.adapters.Edge",(h=_geo.c.map.Xa.Wm).M3);d(f=_geo.c.map.Xa.Wm.M3.prototype,
"setOptions",f.bb,{bb:0});d(f,"apply",f.apply,{apply:0});e(b+".map.features.adapters.Point",h.sa);d(f=_geo.c.map.Xa.Wm.sa.prototype,"setOptions",f.bb,{bb:0});d(f,"apply",f.apply,{apply:0});e(b+".map.features.adapters.LineString",h.Rs);d(f=_geo.c.map.Xa.Wm.Rs.prototype,"apply",f.apply,{apply:0});e(b+".map.features.adapters.Polygon",h.If);d(f=_geo.c.map.Xa.Wm.If.prototype,"apply",f.apply,{apply:0});e(b+".map.features.adapters.Path",h.Dk);d(f=_geo.c.map.Xa.Wm.Dk.prototype,"apply",f.apply,{apply:0});
e(b+".map.features.converters.BaseConverter",(h=_geo.c.map.Xa.ft).LZ);d(f=_geo.c.map.Xa.ft.LZ.prototype,"saveConvertedFeatures",f.rda,{rda:0});d(f,"getFeatures",f.py,{py:0});d(f,"removeFeatures",f.nda,{nda:0});d(f,"clear",f.clear,{clear:0});e(b+".map.features.converters.CompositeConverter",h.EWa);d(f=_geo.c.map.Xa.ft.EWa.prototype,"addFeatureConverter",f.u4a,{u4a:0});d(f,"removeFeatureConverter",f.E8b,{E8b:0});d(f,"getFeatures",f.py,{py:0});e(b+".map.features.converters.RDP",h.dz);d(f=_geo.c.map.Xa.ft.dz.prototype,
"saveConvertedFeatures",f.rda,{rda:0});d(f,"getFeatures",f.py,{py:0});d(f,"removeFeatures",f.nda,{nda:0});d(f,"clear",f.clear,{clear:0});e(b+".map.features.converters.Aggregator",h.Fdb);d(f=_geo.c.map.Xa.ft.Fdb.prototype,"saveConvertedFeatures",f.rda,{rda:0});d(f,"getFeatures",f.py,{py:0});d(f,"removeFeatures",f.nda,{nda:0});d(f,"getOptions",f.xb,{xb:0});d(f,"setOptions",f.bb,{bb:0});d(f,"clear",f.clear,{clear:0});e(b+".map.sources.connectors.AbstractConnector",(h=_geo.c.map.Ta.bd).QJ);d(f=_geo.c.map.Ta.bd.QJ.prototype,
"send",f.send,{send:0});d(f,"abort",f.abort,{abort:0});e(b+".map.sources.connectors.HttpRequest",h.VV);d(f=_geo.c.map.Ta.bd.VV.prototype,"send",f.send,{send:0});d(f,"abort",f.abort,{abort:0});d(f,"abortConnection",f.L0,{L0:0});e(b+".map.sources.connectors.DOMImage",h.ema);d(f=_geo.c.map.Ta.bd.ema.prototype,"send",f.send,{send:0});d(f,"abortConnection",f.L0,{L0:0});e(b+".map.sources.connectors.PreloadedImage",h.vgb);d(f=_geo.c.map.Ta.bd.vgb.prototype,"send",f.send,{send:0});d(f,"abort",f.abort,{abort:0});
e(b+".map.sources.connectors.Stub",h.Ygb);d(f=_geo.c.map.Ta.bd.Ygb.prototype,"send",f.send,{send:0});d(f,"abort",f.abort,{abort:0});e(b+".map.sources.connectors.WebSocket",h.WebSocket);d(f=_geo.c.map.Ta.bd.WebSocket.prototype,"send",f.send,{send:0});d(f,"abortConnection",f.L0,{L0:0});e(b+".map.sources.connectors.Proxy",h.ygb);d(f=_geo.c.map.Ta.bd.ygb.prototype,"send",f.send,{send:0});d(f,"abort",f.abort,{abort:0});e(b+".map.sources.connectors.ArcGISToken",h.Sla);d(f=_geo.c.map.Ta.bd.Sla.prototype,
"send",f.send,{send:0});d(f,"abort",f.abort,{abort:0});e(b+".map.sources.loaders.AbstractLoader",(h=_geo.c.map.Ta.Ok).kM);d(f=_geo.c.map.Ta.Ok.kM.prototype,"parse",f.parse,{parse:0});d(f,"getSettingsUrl",f.hC,{hC:0});d(f,"getRequestOptions",f.gca,{gca:0});d(f,"setQueryParameter",f.T2,{T2:0});d(f,"cloneQueryParameters",f.Uqa,{Uqa:0});e(b+".map.sources.loaders.ArcGISFeature",h.Mv);d(f=_geo.c.map.Ta.Ok.Mv.prototype,"parse",f.parse,{parse:0});d(f,"getSettingsUrl",f.hC,{hC:0});d(f,"getRequestOptions",
f.gca,{gca:0});e(b+".map.sources.loaders.ArcGISImage",h.Xy);d(f=_geo.c.map.Ta.Ok.Xy.prototype,"parse",f.parse,{parse:0});d(f,"clear",f.clear,{clear:0});d(f,"getSettingsUrl",f.hC,{hC:0});d(f,"getRequestOptions",f.gca,{gca:0});e(b+".map.sources.loaders.ArcGISTile",h.Ldb);d(f=_geo.c.map.Ta.Ok.Ldb.prototype,"parse",f.parse,{parse:0});e(b+".map.sources.loaders.WMS",h.Pw);d(f=_geo.c.map.Ta.Ok.Pw.prototype,"parse",f.parse,{parse:0});d(f,"getSettingsUrl",f.hC,{hC:0});e(b+".map.sources.loaders.WFS",h.WH);
d(f=_geo.c.map.Ta.Ok.WH.prototype,"parse",f.parse,{parse:0});d(f,"getSettingsUrl",f.hC,{hC:0});e(b+".map.sources.loaders.Bing",h.fA);d(f=_geo.c.map.Ta.Ok.fA.prototype,"parse",f.parse,{parse:0});d(f,"getSettingsUrl",f.hC,{hC:0});e(b+".map.sources.loaders.Stream",h.wp);d(f=_geo.c.map.Ta.Ok.wp.prototype,"parse",f.parse,{parse:0});e(b+".map.sources.loaders.VectorTile",h.LC);d(f=_geo.c.map.Ta.Ok.LC.prototype,"parse",f.parse,{parse:0});d(f,"getSettingsUrl",f.hC,{hC:0});e(b+".map.sources.formats.AbstractFormat",
(h=_geo.c.map.Ta.cg).iu);d(f=_geo.c.map.Ta.cg.iu.prototype,"query",f.Mf,{Mf:0});d(f,"parse",f.parse,{parse:0});d(f,"dispose",f.Ra,{Ra:0});d(f,"abort",f.abort,{abort:0});d(f,"setQueryParameter",f.T2,{T2:0});d(f,"cloneQueryParameters",f.Uqa,{Uqa:0});e(b+".map.sources.formats.ArcGISImage",h.Xy);d(f=_geo.c.map.Ta.cg.Xy.prototype,"query",f.Mf,{Mf:0});d(f,"queryGeometry",f.vO,{vO:0});d(f,"abortGeometryQueries",f.Qaa,{Qaa:0});d(f,"identify",f.Q1,{Q1:0});e(b+".map.sources.formats.ArcGISFeature",h.Mv);d(f=
_geo.c.map.Ta.cg.Mv.prototype,"query",f.Mf,{Mf:0});d(f,"abort",f.abort,{abort:0});e(b+".map.sources.formats.GeoJSON",h.dE);d(f=_geo.c.map.Ta.cg.dE.prototype,"parse",f.parse,{parse:0});e(b+".map.sources.formats.WMS",h.Pw);d(f=_geo.c.map.Ta.cg.Pw.prototype,"query",f.Mf,{Mf:0});e(b+".map.sources.formats.KML",h.mS);d(f=_geo.c.map.Ta.cg.mS.prototype,"parse",f.parse,{parse:0});e(b+".map.sources.formats.WFS",h.WH);d(f=_geo.c.map.Ta.cg.WH.prototype,"query",f.Mf,{Mf:0});d(f,"dispose",f.Ra,{Ra:0});e(b+".map.sources.formats.Tile",
h.lk);d(f=_geo.c.map.Ta.cg.lk.prototype,"query",f.Mf,{Mf:0});e(b+".map.sources.formats.CSV",h.VJ);e(b+".map.sources.formats.CSV.setDelimiter",_geo.c.map.Ta.cg.VJ.FFc);d(f=_geo.c.map.Ta.cg.VJ.prototype,"parse",f.parse,{parse:0});e(b+".map.sources.formats.GeoRSS",(h=_geo.c.map.Ta.cg).UV);d(f=_geo.c.map.Ta.cg.UV.prototype,"parse",f.parse,{parse:0});e(b+".map.sources.formats.Stream",h.wp);d(f=_geo.c.map.Ta.cg.wp.prototype,"parse",f.parse,{parse:0});e(b+".map.sources.formats.VectorTile",h.LC);d(f=_geo.c.map.Ta.cg.LC.prototype,
"query",f.Mf,{Mf:0});e(b+".map.sources.formats.Lerc",h.T3);d(f=_geo.c.map.Ta.cg.T3.prototype,"query",f.Mf,{Mf:0});d(f,"setQueryParameter",f.T2,{T2:0});d(f=_geo.c.map.Ta.lj.WR.prototype,"dispose",f.Ra,{Ra:0});d(f,"query",f.Mf,{Mf:0});d(f=_geo.c.map.Ta.lj.ci.prototype,"query",f.Mf,{Mf:0});d(f,"initFormat",f.pJ,{pJ:0});d(f,"getFromGrid",f.w7a,{w7a:0});d(f,"setFromGrid",f.kbb,{kbb:0});d(f,"queryFeaturesFromBox",f.lTa,{lTa:0});d(f,"filterUnique",f.crb,{crb:0});d(f,"getFormat",f.sQa,{sQa:0});d(f,"abort",
f.abort,{abort:0});d(f=_geo.c.map.Ta.lj.Image.prototype,"query",f.Mf,{Mf:0});d(f,"initFormat",f.pJ,{pJ:0});d(f,"abort",f.abort,{abort:0});d(f,"clear",f.clear,{clear:0});d(f=_geo.c.map.Ta.lj.lk.prototype,"query",f.Mf,{Mf:0});d(f,"initFormat",f.pJ,{pJ:0});d(f,"calculateZoomLevel",f.Mqa,{Mqa:0});d(f,"findSuitableZoomLevel",f.jrb,{jrb:0});d(f,"requestTiles",f.oab,{oab:0});d(f,"requestTile",f.tka,{tka:0});d(f,"abortOutOfBoundTiles",f.znb,{znb:0});d(f,"isTileNeeded",f.Bja,{Bja:0});d(f,"isLayerReady",f.QRa,
{QRa:0});d(f,"updateVisibleTileLimits",f.wEb,{wEb:0});d(f,"clear",f.clear,{clear:0});d(f,"abort",f.abort,{abort:0});d(f,"getLayer",f.ry,{ry:0});d(f,"getGridSize",f.aJ,{aJ:0});d(f,"getZoomLevel",f.O1,{O1:0});d(f,"getFormatter",f.bsa,{bsa:0});d(f,"setFormatter",f.Qua,{Qua:0});d(f=_geo.c.map.Ta.lj.fA.prototype,"calculateZoomLevel",f.Mqa,{Mqa:0});d(f,"getGridSize",f.aJ,{aJ:0});d(f=_geo.c.map.Ta.lj.LC.prototype,"initFormat",f.pJ,{pJ:0});d(f,"createPoolTile",f.B5a,{B5a:0});d(f,"getLayer",f.ry,{ry:0});d(f,
"getGridSize",f.aJ,{aJ:0});d(f,"requestTile",f.tka,{tka:0});d(f,"isTileNeeded",f.Bja,{Bja:0});d(f=_geo.c.map.Ta.lj.Xy.prototype,"queryGeometry",f.vO,{vO:0});d(f,"identify",f.Q1,{Q1:0});d(f,"initFormat",f.pJ,{pJ:0});e(b+".map.sources."+a+"",_geo.c.map.Ta.aa);e(b+".map.sources."+a+".FeatureAdded",(h=_geo.c.map.Ta.aa).lu);e(b+".map.sources."+a+".FeatureRemoved",h.YO);e(b+".map.sources."+a+".FeaturesCleared",h.RV);e(b+".map.sources."+a+".ImageLoaded",h.Hr);e(b+".map.sources."+a+".ImageCleared",h.FXa);
e(b+".map.sources."+a+".TilesUpdated",h.BS);e(b+".map.sources."+a+".InfoUpdated",h.b_);e(b+".map.sources.AbstractSource",_geo.c.map.Ta.HZ);d(f=_geo.c.map.Ta.HZ.prototype,"setServerURL",f.NR,{NR:0});d(f,"isDataLoaded",f.bta,{bta:0});d(f,"getServerURL",f.I1,{I1:0});d(f,"loadServerData",f.ota,{ota:0});d(f,"getModelLimits",f.va,{va:0});d(f,"setMapCoordinateSystem",f.ND,{ND:0});d(f,"getMapCoordinateSystem",f.VG,{VG:0});d(f,"setInitialCoordinateSystem",f.HR,{HR:0});d(f,"getInitialCoordinateSystem",f.$E,
{$E:0});d(f,"getTransformerToMap",f.$ub,{$ub:0});d(f,"getTransformerFromMap",f.w3b,{w3b:0});d(f,"clear",f.clear,{clear:0});d(f,"update",f.update,{update:0});d(f,"dispose",f.Ra,{Ra:0});e(b+".map.features.QueryMode",_geo.c.map.Xa.Uea);e(b+".map.features.QueryMode.All",(h=_geo.c.map.Xa.Uea).gea);e(b+".map.features.QueryMode.Bbox",h.nFb);e(b+".map.features.QueryMode.Tile",h.lk);e(b+".map.features.QueryMode.Grid",h.cK);e(b+".map.sources.Vector",(h=_geo.c.map.Ta).ci);d(f=_geo.c.map.Ta.ci.prototype,"queryFeatures",
f.EEa,{EEa:0});d(f,"addFeatures",f.w4a,{w4a:0});d(f,"removeFeature",f.REa,{REa:0});d(f,"clear",f.clear,{clear:0});d(f,"clearFeatures",f.$aa,{$aa:0});d(f,"loadData",f.Ija,{Ija:0});d(f,"requestData",f.Y8b,{Y8b:0});d(f,"setUniqueField",f.pZ,{pZ:0});d(f,"getUniqueField",f.hja,{hja:0});d(f,"setRequestResolution",f.fva,{fva:0});d(f,"getRequestResolution",f.zub,{zub:0});e(b+".map.sources.Image",h.Image);d(f=_geo.c.map.Ta.Image.prototype,"clear",f.clear,{clear:0});d(f,"setInflateRatio",f.lBb,{lBb:0});d(f,
"getInflateRatio",f.otb,{otb:0});d(f,"showLayers",f.AH,{AH:0});d(f,"hideLayers",f.Ssa,{Ssa:0});d(f,"getVisibleLayers",f.KL,{KL:0});d(f,"getLayers",f.kY,{kY:0});e(b+".map.sources.Tile",h.lk);d(f=_geo.c.map.Ta.lk.prototype,"clear",f.clear,{clear:0});d(f,"setProperties",f.ka,{ka:0});e(b+".map.sources.CompositeSource",h.cwa);d(f=_geo.c.map.Ta.cwa.prototype,"addFeatureSource",f.v4a,{v4a:0});d(f,"removeFeatureSource",f.F8b,{F8b:0});d(f,"getFeatureSourceList",f.r_b,{r_b:0});d(f,"setMapCoordinateSystem",
f.ND,{ND:0});d(f,"setInitialCoordinateSystem",f.HR,{HR:0});d(f,"setRequestResolution",f.fva,{fva:0});d(f,"setUniqueField",f.pZ,{pZ:0});d(f,"clear",f.clear,{clear:0});d(f,"dispose",f.Ra,{Ra:0});e(b+".map.sources.ArcGISFeature",h.Mv);d(f=_geo.c.map.Ta.Mv.prototype,"setRequestFields",f.mbc,{mbc:0});d(f,"getRequestFields",f.VCa,{VCa:0});d(f,"getLayers",f.kY,{kY:0});d(f,"getLayerSource",f.jsa,{jsa:0});d(f,"isMultilayerSource",f.RRa,{RRa:0});d(f,"getGlobalAlpha",f.x7a,{x7a:0});d(f,"getScaleRange",f.A8a,
{A8a:0});d(f,"getAnnotationShape",f.Fba,{Fba:0});d(f,"showLayers",f.AH,{AH:0});d(f,"getInitialModelLimits",f.EQa,{EQa:0});d(f,"getVisibleLayers",f.KL,{KL:0});d(f,"dispose",f.Ra,{Ra:0});d(f,"queryLegend",f.ZL,{ZL:0});e(b+".map.sources.ArcGISImage",h.Xy);d(f=_geo.c.map.Ta.Xy.prototype,"queryLegend",f.ZL,{ZL:0});d(f,"queryGeometry",f.vO,{vO:0});d(f,"abortGeometryQueries",f.Qaa,{Qaa:0});d(f,"identify",f.Q1,{Q1:0});d(f,"getInitialModelLimits",f.EQa,{EQa:0});d(f,"setTooltipLayers",f.RCb,{RCb:0});e(b+".map.sources.GeoJSON",
h.dE);e(b+".map.sources.KML",h.mS);e(b+".map.sources.WFS",h.WH);d(f=_geo.c.map.Ta.WH.prototype,"setFeatureTypes",f.bbb,{bbb:0});d(f,"getFeatureTypes",f.Fsb,{Fsb:0});e(b+".map.sources.WMS",h.Pw);d(f=_geo.c.map.Ta.Pw.prototype,"setImageFormat",f.Oka,{Oka:0});d(f,"getImageFormat",f.gsa,{gsa:0});d(f,"setTransparent",f.mva,{mva:0});d(f,"getTransparent",f.Hsa,{Hsa:0});d(f,"setVersion",f.setVersion,{setVersion:0});d(f,"getVersion",f.BU,{BU:0});e(b+".map.sources.CSV",h.VJ);d(f=_geo.c.map.Ta.VJ.prototype,
"setLatitudeField",f.ubb,{ubb:0});d(f,"getLatitudeField",f.xtb,{xtb:0});d(f,"setLongitudeField",f.Dbb,{Dbb:0});d(f,"getLongitudeField",f.Itb,{Itb:0});e(b+".map.sources.GeoRSS",h.UV);e(b+".map.sources.Stream",h.wp);e(b+".map.sources.Bing",h.fA);e(b+".map.sources.Bing.ImagerySet",_geo.c.map.Ta.fA.z9);e(b+".map.sources.Bing.ImagerySet.Aerial",(h=_geo.c.map.Ta.fA.z9).YEb);e(b+".map.sources.Bing.ImagerySet.AerialWithLabels",h.Edb);e(b+".map.sources.Bing.ImagerySet.AerialWithLabelsOnDemand",h.Tec);e(b+
".map.sources.Bing.ImagerySet.Birdseye",h.qFb);e(b+".map.sources.Bing.ImagerySet.BirdseyeWithLabels",h.sFb);e(b+".map.sources.Bing.ImagerySet.BirdseyeV2",h.rFb);e(b+".map.sources.Bing.ImagerySet.CanvasDark",h.qfc);e(b+".map.sources.Bing.ImagerySet.CanvasLight",h.sfc);e(b+".map.sources.Bing.ImagerySet.CanvasGray",h.rfc);e(b+".map.sources.Bing.ImagerySet.Road",h.NKb);e(b+".map.sources.Bing.ImagerySet.RoadOnDemand",h.nkc);e(b+".map.sources.Bing.ImagerySet.OrdnanceSurvey",h.pjc);d(f=_geo.c.map.Ta.fA.prototype,
"setImagerySet",f.eBb,{eBb:0});d(f,"setKey",f.pBb,{pBb:0});d(f,"setCulture",f.oAb,{oAb:0});d(f,"setCenterPoint",f.aUa,{aUa:0});e(b+".map.sources.VectorTile",(h=_geo.c.map.Ta).LC);e(b+".map.sources.Lerc",h.T3);e(b+".map.features.templates.BaseTemplate",(h=_geo.c.map.Xa.jf).SO);d(f=_geo.c.map.Xa.jf.SO.prototype,"getOptions",f.xb,{xb:0});d(f,"setOptions",f.bb,{bb:0});d(f,"getShape",f.Ub,{Ub:0});d(f,"getGeometryToShape",f.Rba,{Rba:0});d(f,"getGeometryToText",f.ZI,{ZI:0});d(f,"getTextShape",f.qm,{qm:0});
d(f,"getShapeCallback",f.aja,{aja:0});e(b+".map.features.templates.Point",h.sa);e(b+".map.features.templates.LineString",h.Rs);e(b+".map.features.templates.Polygon",h.If);e(b+".map.features.templates.Aggregation",h.ZD);d(f=_geo.c.map.Xa.jf.ZD.prototype,"setOptions",f.bb,{bb:0});e(b+".map.layers.AbstractLayer",(h=_geo.c.map.rc).Wy);d(f=_geo.c.map.rc.Wy.prototype,"getWorldTransform",f.sb,{sb:0});d(f,"getVisibleModelLimits",f.Wb,{Wb:0});d(f,"getModelLimits",f.va,{va:0});d(f,"setModelLimits",f.cb,{cb:0});
d(f,"getDefaultModelLimits",f.Uq,{Uq:0});d(f,"calculateDefaultModelLimits",f.JG,{JG:0});d(f,"getLayerAlpha",f.A0b,{A0b:0});d(f,"setLayerAlpha",f.Aac,{Aac:0});d(f,"getOptions",f.xb,{xb:0});d(f,"setOptions",f.bb,{bb:0});d(f,"getCoordinateSystem",f.it,{it:0});d(f,"setVerticalFlip",f.Xj,{Xj:0});d(f,"isVerticalFlip",f.vq,{vq:0});d(f,"render",f.Aa,{Aa:0});d(f,"renderContent",f.Ii,{Ii:0});d(f,"setCache",f.Kl,{Kl:0});d(f,"invalidate",f.ma,{ma:0});d(f,"getCache",f.LN,{LN:0});d(f,"clearCache",f.wQ,{wQ:0});
d(f,"getProperties",f.la,{la:0});d(f,"setProperties",f.ka,{ka:0});d(f,"getMapCoordinateSystem",f.VG,{VG:0});d(f,"setMapCoordinateSystem",f.ND,{ND:0});d(f,"transformPoint",f.hb,{hb:0});d(f,"transformToMap",f.h3,{h3:0});d(f,"transformFromMap",f.sVa,{sVa:0});d(f,"setServerURL",f.NR,{NR:0});d(f,"getServerURL",f.I1,{I1:0});d(f,"dispose",f.Ra,{Ra:0});d(f,"getDataSource",f.sh,{sh:0});d(f,"hitTest",f.an,{an:0});d(f,"getTooltipFormatter",f.rY,{rY:0});e(b+".map.layers.AbstractFeatureLayer",h.XD);e(b+".map.layers.AbstractFeatureLayer."+
a+"",_geo.c.map.rc.XD.aa);e(b+".map.layers.AbstractFeatureLayer."+a+".FeaturesUpdated",_geo.c.map.rc.XD.aa.x9);d(f=_geo.c.map.rc.XD.prototype,"getFeatures",f.py,{py:0});d(f,"getGeometryToText",f.ZI,{ZI:0});d(f,"getFeatureById",f.q_b,{q_b:0});d(f,"queryFeatures",f.EEa,{EEa:0});d(f,"renderFeatures",f.C2,{C2:0});d(f,"renderAnnotations",f.pua,{pua:0});d(f,"renderContent",f.Ii,{Ii:0});d(f,"setMapCoordinateSystem",f.ND,{ND:0});d(f,"getTooltipFormatter",f.rY,{rY:0});d(f,"getProperties",f.la,{la:0});d(f,
"setProperties",f.ka,{ka:0});d(f,"setOptions",f.bb,{bb:0});d(f,"toGeoJSON",f.mVa,{mVa:0});d(f,"dispose",f.Ra,{Ra:0});e(b+".map.layers.Template",(h=_geo.c.map.rc).l4);d(f=_geo.c.map.rc.l4.prototype,"resetFeatureTemplates",f.b9b,{b9b:0});d(f,"getTemplate",f.bja,{bja:0});d(f,"setTemplate",f.dGa,{dGa:0});d(f,"calculateDefaultModelLimits",f.JG,{JG:0});d(f,"updateGeometry",f.oh,{oh:0});d(f,"addFeature",f.q6,{q6:0});d(f,"removeFeature",f.REa,{REa:0});d(f,"clearFeatures",f.$aa,{$aa:0});d(f,"render",f.Aa,
{Aa:0});d(f,"renderContent",f.Ii,{Ii:0});d(f,"renderFeatures",f.C2,{C2:0});d(f,"getModelLimits",f.va,{va:0});d(f,"getGeometryToText",f.ZI,{ZI:0});d(f,"renderAnnotations",f.pua,{pua:0});d(f,"hitTest",f.an,{an:0});d(f,"setMapCoordinateSystem",f.ND,{ND:0});d(f,"onFeaturesUpdated",f.Lta,{Lta:0});d(f,"invalidate",f.ma,{ma:0});e(b+".map.layers.Image",h.Image);d(f=_geo.c.map.rc.Image.prototype,"render",f.Aa,{Aa:0});d(f,"renderContent",f.Ii,{Ii:0});d(f,"getLayers",f.kY,{kY:0});d(f,"getVisibleLayers",f.KL,
{KL:0});d(f,"showLayers",f.AH,{AH:0});d(f,"hideLayers",f.Ssa,{Ssa:0});d(f,"getProperties",f.la,{la:0});d(f,"setProperties",f.ka,{ka:0});e(b+".map.layers.Vector",h.ci);d(f=_geo.c.map.rc.ci.prototype,"loadData",f.Ija,{Ija:0});d(f,"setUniqueField",f.pZ,{pZ:0});d(f,"getUniqueField",f.hja,{hja:0});d(f,"getProperties",f.la,{la:0});d(f,"setProperties",f.ka,{ka:0});e(b+".map.layers.Tile",h.lk);d(f=_geo.c.map.rc.lk.prototype,"render",f.Aa,{Aa:0});d(f,"renderContent",f.Ii,{Ii:0});d(f,"getMinLod",f.VQa,{VQa:0});
d(f,"getMaxLod",f.TQa,{TQa:0});d(f,"getTileResolution",f.k3b,{k3b:0});d(f,"setImageFormatter",f.kac,{kac:0});d(f,"getImageFormatter",f.jtb,{jtb:0});d(f,"getProperties",f.la,{la:0});d(f,"setProperties",f.ka,{ka:0});d(f,"setLods",f.Gac,{Gac:0});d(f,"getZoomLevel",f.O1,{O1:0});d(f,"setTileResolution",f.acc,{acc:0});e(b+".map.layers.Shape",h.Uh);d(f=_geo.c.map.rc.Uh.prototype,"calculateDefaultModelLimits",f.JG,{JG:0});d(f,"getShapes",f.Zq,{Zq:0});d(f,"addShape",f.RAa,{RAa:0});d(f,"removeShape",f.N8b,
{N8b:0});d(f,"clearShapes",f.kVb,{kVb:0});d(f,"renderContent",f.Ii,{Ii:0});d(f,"getTooltipFormatter",f.rY,{rY:0});d(f,"hitTest",f.an,{an:0});e(b+".map.layers.WMS",h.Pw);d(f=_geo.c.map.rc.Pw.prototype,"setImageFormat",f.Oka,{Oka:0});d(f,"getImageFormat",f.gsa,{gsa:0});d(f,"setTransparent",f.mva,{mva:0});d(f,"getTransparent",f.Hsa,{Hsa:0});d(f,"setVersion",f.setVersion,{setVersion:0});d(f,"getVersion",f.BU,{BU:0});d(f,"getProperties",f.la,{la:0});d(f,"setProperties",f.ka,{ka:0});e(b+".map.layers.WFS",
h.WH);d(f=_geo.c.map.rc.WH.prototype,"getProperties",f.la,{la:0});d(f,"setProperties",f.ka,{ka:0});e(b+".map.layers.ArcGISImage",h.Xy);d(f=_geo.c.map.rc.Xy.prototype,"queryLegend",f.ZL,{ZL:0});d(f,"hitTest",f.an,{an:0});d(f,"getTooltipFormatter",f.rY,{rY:0});e(b+".map.layers.ArcGISFeature",h.Mv);d(f=_geo.c.map.rc.Mv.prototype,"getRequestFields",f.VCa,{VCa:0});d(f,"getProperties",f.la,{la:0});d(f,"setProperties",f.ka,{ka:0});d(f,"showLayers",f.AH,{AH:0});d(f,"getVisibleLayers",f.KL,{KL:0});d(f,"renderFeatures",
f.C2,{C2:0});d(f,"queryLegend",f.ZL,{ZL:0});e(b+".map.layers.GeoJSON",h.dE);d(f=_geo.c.map.rc.dE.prototype,"loadGeoJson",f.M5b,{M5b:0});e(b+".map.layers.KML",h.mS);e(b+".map.layers.CSV",h.VJ);d(f=_geo.c.map.rc.VJ.prototype,"getProperties",f.la,{la:0});d(f,"setProperties",f.ka,{ka:0});e(b+".map.layers.GeoRSS",h.UV);e(b+".map.layers.Stream",h.wp);e(b+".map.layers.Bing",h.fA);d(f=_geo.c.map.rc.fA.prototype,"renderContent",f.Ii,{Ii:0});e(b+".map.layers.VectorTile",h.LC);d(f=_geo.c.map.rc.LC.prototype,
"getFeatures",f.py,{py:0});e(b+".map."+g+".AggregationSelection",_geo.c.map.ia.ZEb);d(f=_geo.c.map.ia.ZEb.prototype,"setEnabled",f.zc,{zc:0});e(b+".map.util.FeatureUtil.createIfNotExists",(h=_geo.c.map.f.AC).UVb);e(b+".map.util.FeatureUtil.comparePriority",h.wVb);e(b+".map.util.FeatureUtil.toHash",h.Pcb);e(b+".map.util.FeatureUtil.equalsGeometry",h.h6a);e(b+".map.util.FeatureUtil.findFeature",h.drb);e(b+".map.util.FeatureUtil.paramsToEncode",h.Rxb);e(b+".map.util.FeatureUtil.encodeParamsRequest",
h.MBa);e(b+".map.util.FeatureUtil.checkTextBoundsCollision",h.Sqa);e(b+".map.util.ArcGIS",_geo.c.map.f.Ex);e(b+".map.util.ArcGIS.parse",_geo.c.map.f.Ex.parse);e(b+".map.util.Geometry",_geo.c.map.f.bK);e(b+".map.util.Geometry.getCachedGeometryBounds",(h=_geo.c.map.f.bK).EQ);e(b+".map.util.Geometry.isClockwise",h.V4b);e(b+".map.util.Query",(h=_geo.c.map.f).N9);d(f=_geo.c.map.f.N9.prototype,"setGeometry",f.Qu,{Qu:0});d(f,"setProperties",f.ka,{ka:0});d(f,"setName",f.Qb,{Qb:0});d(f,"getName",f.getName,
{getName:0});d(f,"getGeometry",f.ce,{ce:0});d(f,"getProperties",f.la,{la:0});d(f,"setFilter",f.P$b,{P$b:0});d(f,"getFilter",f.qQa,{qQa:0});e(b+".map.util.MapScale",h.YIb);d(f=_geo.c.map.f.YIb.prototype,"setMapScale",f.I8,{I8:0});d(f,"render",f.Aa,{Aa:0});e(b+".map.util.GeoJSON",h.dE);e(b+".map.util.GeoJSON.parse",(h=_geo.c.map.f.dE).parse);e(b+".map.util.GeoJSON.toGeoJSON",h.mVa);e(b+".map.util.KML",_geo.c.map.f.mS);e(b+".map.util.KML.parse",_geo.c.map.f.mS.parse);e(b+".map.util.GeoRSS.parse",(h=
_geo.c.map.f.UV).parse);e(b+".map.util.GeoRSS.parseElements",h.Yxb);e(b+".map.util.GeoRSS.parseElement",h.Ny);e(b+".map.util.GeoRSS.parseSimple",h.t7b);e(b+".map.util.GeoRSS.parseGeometry",h.$ca);e(b+".map.util.GeoRSS.parseW3C",h.z7b);e(b+".map.util.GML.parse",(h=_geo.c.map.f.uHb).parse);e(b+".map.util.GML.parsePoint",h.ika);e(b+".map.util.GML.parseEnvelope",h.l7b);e(b+".map.util.GML.parsePointGeometry",h.F$a);e(b+".map.util.GML.parseLineString",h.TSa);e(b+".map.util.GML.parsePolygon",h.XSa);e(b+
".map.util.GML.parseBoundary",h.Uxb);e(b+".map.util.GML.addFeature",h.q6);e(b+".map.util.WebMap",_geo.c.map.f.c_a);e(b+".map.util.WebMap.load",(h=_geo.c.map.f.c_a).load);e(b+".map.util.WebMap.setBingMapsKey",h.tFc);e(b+".map.util.Mapbox.parse",(h=_geo.c.map.f.Qfb).parse);e(b+".map.util.Mapbox.clipTileGeometry",h.o5a);e(b+".map.util.Mapbox.parseStyles",h.I$a);e(b+".map.util.Mapbox.applyTemplate",h.STb);e(b+".map.util.Mapbox.parseTemplate",h.w7b);e(b+".map.util.Mapbox.parseLayout",h.o7b);e(b+".map.util.Mapbox.parseTextStyle",
h.x7b);e(b+".map.util.Mapbox.mergeTextStyles",h.k6b);e(b+".map.util.Mapbox.parseLineStyle",h.p7b);e(b+".map.util.Mapbox.mergeLineStyle",h.Ywb);e(b+".map.util.Mapbox.parseColor",h.Hi);e(b+".map.util.Mapbox.parseValue",h.wR);e(b+".map.util.Mapbox.parseFilter",h.A$a);e(b+".map.util.XML.parse",(h=_geo.c.map.f.jz).parse);e(b+".map.util.XML.queryScope",h.AR);e(b+".map.util.XML.getChildren",h.fk);e(b+".map.util.XML.xmlToObject",h.Hva);e(b+".map.Map",_geo.c.map.Map);e(b+".map.Map."+a+"",_geo.c.map.Map.aa);
e(b+".map.Map."+a+".onLayerAdded",(h=_geo.c.map.Map.aa).$6b);e(b+".map.Map."+a+".onLayerRemoved",h.a7b);e(b+".map.Map."+a+".onLayersModified",h.Exb);e(b+".map.Map."+a+".onZoomStart",h.mF);e(b+".map.Map."+a+".onZoomEnd",h.Ev);e(b+".map.Map."+a+".onDoubleClick",h.Ly);e(b+".map.Map."+a+".onResize",h.tR);d(f=_geo.c.map.Map.prototype,"transformToMap",f.h3,{h3:0});d(f,"transformFromMap",f.sVa,{sVa:0});d(f,"transformPoint",f.hb,{hb:0});d(f,"getMapImage",f.Y0b,{Y0b:0});d(f,"zoom",f.zoom,{zoom:0});d(f,"setMapScale",
f.I8,{I8:0});d(f,"getMapScale",f.Oia,{Oia:0});d(f,"getOptions",f.xb,{xb:0});d(f,"setOptions",f.bb,{bb:0});d(f,"onResize",f.tR,{tR:0});d(f,"getCoordinateSystem",f.it,{it:0});d(f,"initializeTools",f.th,{th:0});d(f,"addLayer",f.hD,{hD:0});d(f,"setCenterModelLimits",f.Xz,{Xz:0});d(f,"getCenterModelLimits",f.p1,{p1:0});d(f,"setMapScaleObject",f.GBb,{GBb:0});d(f,"getMapCenter",f.W0b,{W0b:0});d(f,"panTo",f.h7b,{h7b:0});d(f,"getLayerCount",f.N7a,{N7a:0});d(f,"getLayer",f.ry,{ry:0});d(f,"removeLayer",f.L8b,
{L8b:0});d(f,"insertLayer",f.Vvb,{Vvb:0});d(f,"getScaleUnit",f.vy,{vy:0});d(f,"setScaleUnit",f.O8,{O8:0});d(f,"setBounds",f.Ga,{Ga:0});e(b+".map.strategies.IAnnotationStrategy",(h=_geo.c.map.Xp).Phc);e(b+".map.strategies.SimpleAnnotationStrategy",h.Fkc);e(b+".map.strategies.PropertyToAnnotation",h.Wjc);e(b+".map.features.IGetFeatureId",(h=_geo.c.map.Xa).Uhc);e(b+".map.features.PropertyToFeatureId",h.Xjc);e(b+".map.coordinatesystem.CoordinateSystem",(h=_geo.c.map.eba).Ofc);e(b+".map.coordinatesystem.CoordinateSystemRegistry",
h.Pfc);e(b+".map.coordinatesystem.GeographicCoordinateSystem",h.Chc);e(b+".map.coordinatesystem.UTMCoordinateSystem",h.Elc);e(b+".map.coordinatesystem.WebMercator",h.Nxa);e(b+".map.coordinatesystem.Transformer",h.q4);e(b+".map.coordinatesystem.LatLongTransformer",h.Cic);e(b+".map.templates.ShapeTemplate",(h=_geo.c.map.jf).Bkc);e(b+".map.templates.PolygonTemplate",h.Njc);e(b+".map.templates.LineStringTemplate",h.Iic);e(b+".map.templates.PointTemplate",h.Ljc);e(b+".map.templates.AggregationTemplate",
h.Vec);e(b+".map.layers.ILayerFilter",(h=_geo.c.map.rc).Vhc);e(b+".map.layers.ScaleRangeLayerFilter",h.wkc);e(b+".map.layers.AbstractMapLayer",h.Qec);e(b+".map.layers.ShapeTemplateFeatureLayer",h.Ckc);e(b+".map.layers.WMTSLayer",h.Olc);e(b+".map.layers.WMSLayer",h.Nlc);e(b+".map.layers.ArcGISDynamicLayer",h.Yec);e(b+".map.layers.ArcGISFeatureLayer",h.Zec);e(b+".map.layers.ShapeLayer",h.Akc);e(b+".map.layers.GeoJSONLayer",h.Bhc);e(b+".map.features.IFeaturesFilter",(h=_geo.c.map.Xa).Thc);e(b+".map.features.FeatureTypeFeaturesFilter",
h.ghc);e(b+".map.features.AnchoredShapeFeaturesFilter",h.Wec);e(b+".map.features.TextFitFeaturesFilter",h.klc);e(b+".map.features.BiggestGeometryTextFilter",h.cfc);e(b+".map.features.CascadeGeometryTextFilter",h.tfc);e(b+".map.features.NoOverlapTextFilter",h.kjc);e(b+".map.features.IMapFeature",h.Whc);e(b+".map.features.AbstractMapFeature",h.Pec);e(b+".map.features.PointMapFeature",h.Ijc);e(b+".map.features.MultiPointMapFeature",h.djc);e(b+".map.features.LineStringMapFeature",h.Gic);e(b+".map.features.MultiLineStringMapFeature",
h.cjc);e(b+".map.features.PolygonMapFeature",h.Mjc);e(b+".map.features.MultiPolygonMapFeature",h.ejc);e(b+".map.features.AggregationMapFeature",h.Uec);e(b+".map.features.IFeatureGeometryToText",h.Shc);e(b+".map.features.IFeatureGeometryToShape",h.Rhc);e(b+".map.features.PointMapFeatureToAnchor",h.Jjc);e(b+".map.features.GeometryToPolygon",h.Fhc);e(b+".map.features.GeometryToPolyline",h.Ghc);e(b+".map.features.LineStringMapFeatureToAnchor",h.Hic);e(b+".map.features.GeometryCenterToAnchor",h.Dhc);e(b+
".map.features.converters.DefaultFeatureConverter",(h=_geo.c.map.Xa.ft).fgc);e(b+".map.features.converters.FeatureConverterGroup",h.ehc);e(b+".map.features.converters.PointAggregationConverter",h.Hjc);e(b+".map.features.converters.RDPFeatureConverter",h.Zjc);e(b+".map.features.sources.DefaultFeatureSource",(h=_geo.c.map.Xa.Ta).ggc);e(b+".map.features.sources.FeatureSourceGroup",h.fhc);e(b+".map.features.sources.GeoJSONFeatureSource",h.Ahc);e(b+".map.features.sources.ArcGISFeatureSource",h.$ec);e(b+
".map.features.converters."+a+"",_geo.c.map.Xa.ft.aa)})();

    return _geo;
}));
/* eslint-enable */
/* tslint:enable */