
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Welcome to dcrhino_lib’s documentation! &#8212; dcrhino_lib 0.0.1 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="welcome-to-dcrhino-lib-s-documentation">
<h1>Welcome to dcrhino_lib’s documentation!<a class="headerlink" href="#welcome-to-dcrhino-lib-s-documentation" title="Permalink to this headline">¶</a></h1>
</div>
<div class="section" id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
<span class="target" id="module-bin.rhino_gui"></span><p>Rhino GUI
Created on Tue Aug 14 00:58:14 2018</p>
<p>User interface to manage the acquisition of Rhino data and transmission to cloud</p>
<p>&#64;author: natal</p>
<dl class="py class">
<dt id="bin.rhino_gui.GUI">
<em class="property">class </em><code class="sig-prename descclassname">bin.rhino_gui.</code><code class="sig-name descname">GUI</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">master</span></em><span class="sig-paren">)</span><a class="headerlink" href="#bin.rhino_gui.GUI" title="Permalink to this definition">¶</a></dt>
<dd><p>Graphical User Interface that allows creation of the configuration file, start/stop acquisition, upload files to
the cloud, playback of local files, editing of header information, merging h5 files.  It is built upon the
tkinter platform</p>
<dl class="py method">
<dt id="bin.rhino_gui.GUI.acquisition_daemon">
<code class="sig-name descname">acquisition_daemon</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#bin.rhino_gui.GUI.acquisition_daemon" title="Permalink to this definition">¶</a></dt>
<dd><p>Main daemon that controls the data acquisition of rhino data.  It will start the other required
subprocesses, system_health_plotter, sensor_stats_plotter, and the experimental rhino_gps_tracker.  These
subprocesses are assigned to different processors to avoid interference with the main acquisition routine.</p>
</dd></dl>

<dl class="py method">
<dt id="bin.rhino_gui.GUI.acquisition_daemon_stop">
<code class="sig-name descname">acquisition_daemon_stop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#bin.rhino_gui.GUI.acquisition_daemon_stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Terminates the main acquisition process as well as the additional subprocesses</p>
</dd></dl>

<dl class="py method">
<dt id="bin.rhino_gui.GUI.exit">
<code class="sig-name descname">exit</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#bin.rhino_gui.GUI.exit" title="Permalink to this definition">¶</a></dt>
<dd><p>Clean-up routine executed when the exit button is pressed.  Stops all other subprocesses and closes the
GUI window.</p>
</dd></dl>

<dl class="py method">
<dt id="bin.rhino_gui.GUI.merge_files">
<code class="sig-name descname">merge_files</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#bin.rhino_gui.GUI.merge_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Launches the File Merging GUI</p>
</dd></dl>

<dl class="py method">
<dt id="bin.rhino_gui.GUI.playback_daemon">
<code class="sig-name descname">playback_daemon</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#bin.rhino_gui.GUI.playback_daemon" title="Permalink to this definition">¶</a></dt>
<dd><p>Prompts the file that needs to be played back and runs another python script. This only works for raw
data (RTR*.h5 files).</p>
</dd></dl>

<dl class="py method">
<dt id="bin.rhino_gui.GUI.playback_daemon_stop">
<code class="sig-name descname">playback_daemon_stop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#bin.rhino_gui.GUI.playback_daemon_stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Kill the payback process if there is one active</p>
</dd></dl>

<dl class="py method">
<dt id="bin.rhino_gui.GUI.rename_temp_files">
<code class="sig-name descname">rename_temp_files</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#bin.rhino_gui.GUI.rename_temp_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Renames temporary rhino files by calling this module’s rename_temp_files method</p>
</dd></dl>

<dl class="py method">
<dt id="bin.rhino_gui.GUI.rhino_installation_settings">
<code class="sig-name descname">rhino_installation_settings</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#bin.rhino_gui.GUI.rhino_installation_settings" title="Permalink to this definition">¶</a></dt>
<dd><p>Launches the Configuration File GUI</p>
</dd></dl>

<dl class="py method">
<dt id="bin.rhino_gui.GUI.rsync_daemon">
<code class="sig-name descname">rsync_daemon</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#bin.rhino_gui.GUI.rsync_daemon" title="Permalink to this definition">¶</a></dt>
<dd><p>Data transmission daemon.  Will run the shell script ‘send_files.sh’ enabling an rsync command to upload
files to the cloud.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>All the required control parameters passed to shell script are read directly from the
configuration file. If there are any changes in the configuration file, the upload process must be
restarted.  The configuration file where these parameters can be found is
dcrhino3/acquisition/data_transmission_settings.cfg</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>local_folder</strong> – str: path to the local folder where the files exist</p></li>
<li><p><strong>server</strong> – str: in the form of <a class="reference external" href="mailto:user&#37;&#52;&#48;server&#46;ip&#46;address">user<span>&#64;</span>server<span>&#46;</span>ip<span>&#46;</span>address</a> for rsync connection</p></li>
<li><p><strong>remote_folder</strong> – str: path to the folder in the server where the pre-established folder structure will be created and files uploaded</p></li>
<li><p><strong>sleep_interval</strong> – int: waiting period in seconds between looking for new data after upload has been completed</p></li>
<li><p><strong>stats_folder</strong> – str: path to the local folder where the stats numpy folder is being generated.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="bin.rhino_gui.GUI.rsync_daemon_stop">
<code class="sig-name descname">rsync_daemon_stop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#bin.rhino_gui.GUI.rsync_daemon_stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Kills the rsync process to stop uploading files to the cloud</p>
</dd></dl>

<dl class="py method">
<dt id="bin.rhino_gui.GUI.stop_rx">
<code class="sig-name descname">stop_rx</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">active</span></em><span class="sig-paren">)</span><a class="headerlink" href="#bin.rhino_gui.GUI.stop_rx" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Stops the data transfer from the Rhino receiver to the edge device by calling this module’s stop_rx method</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>active</strong> – bool. Represents the active status of data transmission from Rhino receiver and edge device. If true, transmission was active</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="bin.rhino_gui.GUI.update_h5_headers">
<code class="sig-name descname">update_h5_headers</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#bin.rhino_gui.GUI.update_h5_headers" title="Permalink to this definition">¶</a></dt>
<dd><p>Launches the Header Updating GUI</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="bin.rhino_gui.goodbye">
<code class="sig-prename descclassname">bin.rhino_gui.</code><code class="sig-name descname">goodbye</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#bin.rhino_gui.goodbye" title="Permalink to this definition">¶</a></dt>
<dd><p>Clean-up when the GUI is closed without properly stoping all other subprocesses and using the exit button.  It
will run stop_rx and finalize the realtime temporary h5 files</p>
</dd></dl>

<dl class="py function">
<dt id="bin.rhino_gui.rename_temp_files">
<code class="sig-prename descclassname">bin.rhino_gui.</code><code class="sig-name descname">rename_temp_files</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#bin.rhino_gui.rename_temp_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Realtime files are saved locally in the Edge device with a tmp extension so that they are not transmitted to the
cloud until they are finalized.  This methold will rename those files so they are ready to be uploaded.  This
method is called when the GUI is closed or when there is a filename change based on the file recording length</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data_path</strong> – str: Path to local directory where files exist</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="bin.rhino_gui.stop_rx">
<code class="sig-prename descclassname">bin.rhino_gui.</code><code class="sig-name descname">stop_rx</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">active</span></em>, <em class="sig-param"><span class="n">baud_rate</span></em><span class="sig-paren">)</span><a class="headerlink" href="#bin.rhino_gui.stop_rx" title="Permalink to this definition">¶</a></dt>
<dd><p>Will close the usb serial port and send a command to Rhino receiver to stop sending data to ege device and
prepares it to listen for a new start_rx command</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>active</strong> – bool:  Represents the active status of data transmission from Rhino receiver and edge device. If true, transmission was active</p></li>
<li><p><strong>baud_rate</strong> – int: baud rate of usb serial connection</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<span class="target" id="module-dcrhino3.acquisition.merge_gui"></span><p>Merge Files GUI
Created on Tue Aug 14 00:58:14 2018</p>
<p>This module is a GUI for the user to select RTR.h5 files that will be merged into a single file.  The user will
select the parent folder where the files exist, an output folder and the configuration file that will be saved in the resulting merged file</p>
<p>&#64;author: natal</p>
<dl class="py class">
<dt id="dcrhino3.acquisition.merge_gui.GUI">
<em class="property">class </em><code class="sig-prename descclassname">dcrhino3.acquisition.merge_gui.</code><code class="sig-name descname">GUI</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">master</span></em>, <em class="sig-param"><span class="n">config</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.acquisition.merge_gui.GUI" title="Permalink to this definition">¶</a></dt>
<dd><p>This form contains three fields, one for the path to the parent folder of the files that will be merged,
one for the path of the output folder where the resulting merged file will be saved and one for the path to
the configuration file that will be saved in the merged file.  Each field has an action button that will
launch a file dialog for the user to browse for the appropriate locations.  If the user does not want to use
the dialogs, they can write the full path in the text fields</p>
<dl class="py method">
<dt id="dcrhino3.acquisition.merge_gui.GUI.get_cfg_path">
<code class="sig-name descname">get_cfg_path</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.acquisition.merge_gui.GUI.get_cfg_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Launches a file dialog for the user to select the configuration file that will be saved in the merged file
Returns:
str: Absolute path to desired folder</p>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.acquisition.merge_gui.GUI.get_dir_path">
<code class="sig-name descname">get_dir_path</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.acquisition.merge_gui.GUI.get_dir_path" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Generic folder selection dialog</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Absolute path of folder selected</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The initial_path is read from the configuration file</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.acquisition.merge_gui.GUI.get_file_path">
<code class="sig-name descname">get_file_path</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">extension</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.acquisition.merge_gui.GUI.get_file_path" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Generic file selection dialog</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>extension</strong> – str: File extension used to filter only desired files</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Absolute path of file selected</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The initial_path is read from the configuration file</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.acquisition.merge_gui.GUI.get_merge_path">
<code class="sig-name descname">get_merge_path</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.acquisition.merge_gui.GUI.get_merge_path" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Launches a file dialog for the user to select the parent directory of the files to merge and writes it in the text field</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Absolute path to source folder</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.acquisition.merge_gui.GUI.get_output_path">
<code class="sig-name descname">get_output_path</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.acquisition.merge_gui.GUI.get_output_path" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Launches a file dialog for the user to select the output directory for the merged file and writes it in the text field</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Absolute path to output folder</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.acquisition.merge_gui.GUI.merge_files">
<code class="sig-name descname">merge_files</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.acquisition.merge_gui.GUI.merge_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Starts the file merging process by executing the python script merge_raw_data_h5.py</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="dcrhino3.acquisition.merge_gui.main">
<code class="sig-prename descclassname">dcrhino3.acquisition.merge_gui.</code><code class="sig-name descname">main</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.acquisition.merge_gui.main" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Main method used to generate and instance of the GUI class and load it.  It acts as the interface to other
modules</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>config</strong> – obj. Instance of Config2</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="module-dcrhino3.acquisition.rhino_threads"></span><p>Rhino Threads</p>
<p>Monitoring threads for Rhino Edge Device</p>
<p>&#64;author natal</p>
<dl class="py class">
<dt id="dcrhino3.acquisition.rhino_threads.GPSThread">
<em class="property">class </em><code class="sig-prename descclassname">dcrhino3.acquisition.rhino_threads.</code><code class="sig-name descname">GPSThread</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ignore_gpsd</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.acquisition.rhino_threads.GPSThread" title="Permalink to this definition">¶</a></dt>
<dd><p>This thread will monitor GPS signal.  It will continuosly watch a socket on port 2947 (GPSd).  Accessing the
property satellite_count will provide the number of satellites that are visible by the receiver and can be used
as a measure of signal quality.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ignore_gpsd</strong> – boolean, if True turns GPS monitoring off</p>
</dd>
</dl>
<dl class="py method">
<dt id="dcrhino3.acquisition.rhino_threads.GPSThread.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.acquisition.rhino_threads.GPSThread.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Continuousy unpacks every stream of new data and extracts the number of satellites visible by the receiver and
updates the property satellite_count accordingly.  If :param ignore_gpsd is set to True, then the run method
will be bypassed and there will be no continuous monitoring.</p>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.acquisition.rhino_threads.GPSThread.satellite_count">
<em class="property">property </em><code class="sig-name descname">satellite_count</code><a class="headerlink" href="#dcrhino3.acquisition.rhino_threads.GPSThread.satellite_count" title="Permalink to this definition">¶</a></dt>
<dd><p>number of satellites that are visible by the GPS receiver</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Int</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="dcrhino3.acquisition.rhino_threads.NetworkThread">
<em class="property">class </em><code class="sig-prename descclassname">dcrhino3.acquisition.rhino_threads.</code><code class="sig-name descname">NetworkThread</code><a class="headerlink" href="#dcrhino3.acquisition.rhino_threads.NetworkThread" title="Permalink to this definition">¶</a></dt>
<dd><p>This thread will monitor the internet connection every 10 seconds.  It has a property network_status that reports if
the internet connection is OK or if there is No Connection</p>
<dl class="py method">
<dt id="dcrhino3.acquisition.rhino_threads.NetworkThread.network_status">
<em class="property">property </em><code class="sig-name descname">network_status</code><a class="headerlink" href="#dcrhino3.acquisition.rhino_threads.NetworkThread.network_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Status of internet connection on the edge device. Possible options are OK or No Connection</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.acquisition.rhino_threads.NetworkThread.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.acquisition.rhino_threads.NetworkThread.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Method representing the thread’s activity.</p>
<p>You may override this method in a subclass. The standard run() method
invokes the callable object passed to the object’s constructor as the
target argument, if any, with sequential and keyword arguments taken
from the args and kwargs arguments, respectively.</p>
</dd></dl>

</dd></dl>

<span class="target" id="module-dcrhino3.acquisition.merge_raw_data_h5"></span><p>Merge Raw Data H5</p>
<p>This module is used to merge various h5 files into a single one.  It can be used in a reduced form from the Rhino GUI
but it provides more flexibility when used in a command line interface</p>
<p>&#64;author Natal</p>
<dl class="py function">
<dt id="dcrhino3.acquisition.merge_raw_data_h5.main">
<code class="sig-prename descclassname">dcrhino3.acquisition.merge_raw_data_h5.</code><code class="sig-name descname">main</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.acquisition.merge_raw_data_h5.main" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>args</strong> – <p>Argparser instance with the following options:</p>
<p>-i: String, Input path to the source h5 files</p>
<p>-o: String, Output path for merged file</p>
<p>-s: String, Sensor type. Supported values are ‘ssx’ and ‘rhino’</p>
<p>-cfg: String, Path to the config file that will be saved in the merged h5 file</p>
</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="module-dcrhino3.acquisition.daily_health_plotter"></span><p>Daily Health Plotter</p>
<dl class="simple">
<dt>This module will plot the following columns as time series to analyze rhino and edge device performance :”date”,</dt><dd><p>“samples”, “battery”, “temperature”, “rssi”, “delay”, “counter_changes”, “corrupt”, “tx_status”, “drift”,
“real_delay”, “disk_usage”, “ram_usage”, “tablet_temperature”, “tablet_battery_status”,
“tablet_battery_percentage”, “tablet_battery_life”, “tablet_cpu_usage”</p>
</dd>
</dl>
<p>&#64;author Natal</p>
<dl class="py function">
<dt id="dcrhino3.acquisition.daily_health_plotter.main">
<code class="sig-prename descclassname">dcrhino3.acquisition.daily_health_plotter.</code><code class="sig-name descname">main</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">start_date</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">end_date</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">input_path</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.acquisition.daily_health_plotter.main" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start_date</strong> – String, in the format “%Y_%m_%d”. This will chose the initial date for the plots.  If None is passed, the earliest date found in the logs will be used</p></li>
<li><p><strong>end_date</strong> – String, in the format “%Y_%m_%d”. This will chose the final date for the plots. If None is passed, the latest date found in the logs will be used</p></li>
<li><p><strong>input_path</strong> – String, path to where the health logs are found.  If None is passed, the default LOGS_PATH declared in constants.py will be used</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<span class="target" id="module-dcrhino3.acquisition.real_time_acquisition_v4"></span><p>Real Time Acquisition Module</p>
<p>This module handles all the rhino data acuisition related tasks.  It is divided in 5 threads:</p>
<blockquote>
<div><ul class="simple">
<li><p>SerialThread: Receives individual data packets from Rhino receiver, filters corrupt packets and places the remaining good packets in a queue for further processing.</p></li>
<li><p>FileFlusher.  Receives packets from serial queue, decodes them and splits them into info and data packets.  Data packets are saved into a flushQ for further processing</p></li>
<li><p>CollectionDaemonThread: Reads packets from flushQ, generates the traces</p></li>
<li></li>
</ul>
</div></blockquote>
<dl class="py class">
<dt id="dcrhino3.acquisition.real_time_acquisition_v4.CollectionDaemonThread">
<em class="property">class </em><code class="sig-prename descclassname">dcrhino3.acquisition.real_time_acquisition_v4.</code><code class="sig-name descname">CollectionDaemonThread</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">bufferQ</span></em>, <em class="sig-param"><span class="n">tracesQ</span></em>, <em class="sig-param"><span class="n">logQ</span></em>, <em class="sig-param"><span class="n">displayQ</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.acquisition.real_time_acquisition_v4.CollectionDaemonThread" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py method">
<dt id="dcrhino3.acquisition.real_time_acquisition_v4.CollectionDaemonThread.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.acquisition.real_time_acquisition_v4.CollectionDaemonThread.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Method representing the thread’s activity.</p>
<p>You may override this method in a subclass. The standard run() method
invokes the callable object passed to the object’s constructor as the
target argument, if any, with sequential and keyword arguments taken
from the args and kwargs arguments, respectively.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="dcrhino3.acquisition.real_time_acquisition_v4.DummyComport">
<em class="property">class </em><code class="sig-prename descclassname">dcrhino3.acquisition.real_time_acquisition_v4.</code><code class="sig-name descname">DummyComport</code><a class="headerlink" href="#dcrhino3.acquisition.real_time_acquisition_v4.DummyComport" title="Permalink to this definition">¶</a></dt>
<dd><p>Dummy class needed only to run acquisition simulations.  It only has one variable, corrupt_packets and it’s
always set at zero.</p>
</dd></dl>

<dl class="py class">
<dt id="dcrhino3.acquisition.real_time_acquisition_v4.FileFlusher">
<em class="property">class </em><code class="sig-prename descclassname">dcrhino3.acquisition.real_time_acquisition_v4.</code><code class="sig-name descname">FileFlusher</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">flushq</span></em>, <em class="sig-param"><span class="n">logQ</span></em>, <em class="sig-param"><span class="n">displayQ</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.acquisition.real_time_acquisition_v4.FileFlusher" title="Permalink to this definition">¶</a></dt>
<dd><p>This class will read a raw packet from the serial Q (flushQ), unpack it, and classify it as an info or data
packet.  If it is a data packet, it will save a dictionary with the decoded packet along with other necessary
identifying information into a bufferQ for further processing in another thread.  In case of an info packet,
a message will be displayed in the log display console and the system’s temperature, battery level and sleep
interval will be updated.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>flushq</strong> – obj: Instance of a Queue.  Contains the raw packets that have been received by the SerialThread</p></li>
<li><p><strong>logQ</strong> – obj: Instance of a Queue.  Global variable that is accessed by all threads for logging purposes</p></li>
<li><p><strong>displayQ</strong> – obj: Instance of a Queue.  Global variable that is accessed by all threads to display information on the system’s log display console.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="dcrhino3.acquisition.real_time_acquisition_v4.FileFlusher.calculate_packet_timestamp">
<code class="sig-name descname">calculate_packet_timestamp</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">packet</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.acquisition.real_time_acquisition_v4.FileFlusher.calculate_packet_timestamp" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Receives a packet and calculates the timestamp associated with it based on the sequence number generated
on the Rhino transmitter.  This method calculates the elapsed_tx_sequences by comparing the system’s last
saved sequence and the current packet’s sequence. Ideally only one sequence has elapsed meaning that
there was no missed packets in the transmission. The current packet’s timestamp is calculating by
multiplying elapsed_tx_sequences by delta_t (this global variable is 1/sampling_rate, 500 ms for a 2000
Hz sampling rate) and adding that to the system’s last saved timestamp.</p>
<p>Another important aspect of this method is that it updates a flag on each packet to identify if there
were more than a predetermined number of allowed missing packets in a row.  This flag will be used later
in the trace processing to select an appropriate interpolation method.</p>
<p>We know that we are expecting sampling_rate samples per second (usually 2000).  So we can use the
elapsed_tx_sequences to calculate an index of each packet in the trace.  We use this index instead
of a simple counter because we have to account for the possibility of missed pakets.  However,
sometimes that index number can be slightly larger, so we track that surplus of packets in the variable
offset.  This variable will be used once we change from one second in time to the next to adjust the
position of the first packet received for the next second.</p>
<p>Once we reach the expected number of packets per second, we check and adjust for clock drift. Since each
packet’s timestamp is calculated based on the edge device’s clock, there is drift associated
with this calculation.  We have determined an acceptable clock drift. When the calculated drift is
greater than the pre-established threshold, the current’s packet time will not be calculated anymore but
instead will be set as the system’s current time.</p>
<p>Every time we swithc from one second to the next or there is a clock drift adjustment, a message is
displayed in the log display console.  The variable counter_changes represents the number of times we
have switched from one second in time to the next.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>packet</strong> – obj: Instance of Packet_v11</p>
</dd>
</dl>
<p>Returns: obj: Same packet that was received with an updated timestamp</p>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.acquisition.real_time_acquisition_v4.FileFlusher.drift">
<em class="property">property </em><code class="sig-name descname">drift</code><a class="headerlink" href="#dcrhino3.acquisition.real_time_acquisition_v4.FileFlusher.drift" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns:
float: Calculated clock drift on the last second in time processed</p>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.acquisition.real_time_acquisition_v4.FileFlusher.first_packet_received">
<code class="sig-name descname">first_packet_received</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">packet</span></em>, <em class="sig-param"><span class="n">timestamp</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.acquisition.real_time_acquisition_v4.FileFlusher.first_packet_received" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>This method is run when the first packet of the the acquisition session is received or when the Rhino
transmitter’s clock counter rolls over, and it assigns the packet an epoch timestamp based on the
system’s clock. This timestamp is recorded when the packet is read from the serial queue.  This timestamp
does not take into account the latency between the packet generation in the Rhino Transmitter and when
this process takes place.  However, this time offset is negligible for our application.</p>
<p>A few class variables are updated for subsequent timing calculations.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>packet</strong> – obj: Instance of class Packet_V11</p></li>
<li><p><strong>timestamp</strong> – float: Epoch based timestamp generated when the packet was read from the serial queue</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.acquisition.real_time_acquisition_v4.FileFlusher.get_data_from_q">
<code class="sig-name descname">get_data_from_q</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.acquisition.real_time_acquisition_v4.FileFlusher.get_data_from_q" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Reads a raw packet from the flushQ (serial queue)</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Raw packet</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>struct</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.acquisition.real_time_acquisition_v4.FileFlusher.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.acquisition.real_time_acquisition_v4.FileFlusher.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Thread activity.  It will run the method run_v11</p>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.acquisition.real_time_acquisition_v4.FileFlusher.run_v11">
<code class="sig-name descname">run_v11</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.acquisition.real_time_acquisition_v4.FileFlusher.run_v11" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves a packet from the serial q, unpacks it’s information and classifies it as a
data or info packet.  If it is an info packet, the values for current_temperature (degC), current_batt
(voltage) and sleep_time (sec) will be updated. These values will be used for all subsequent packets
until a new info message is received.</p>
<p>if it is a data packet, the timestamp is calculated and saved in a dictionary to a bufferQ for further
processing on the CollectionDaemonThread.</p>
<p>This method will log/display a message when the first packet in the acquisition session is received,
it will ignore duplicated packets (same tx_sequence as previous packet) and will adjust for clock
rollover (tx_sequence less than previous packet).  Another message will be displayed when the an info
packet is received.</p>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.acquisition.real_time_acquisition_v4.FileFlusher.save_row_to_processing_q">
<code class="sig-name descname">save_row_to_processing_q</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">packet</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.acquisition.real_time_acquisition_v4.FileFlusher.save_row_to_processing_q" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Saves dictionary with the packet and extra identifiers information to the bufferQ that will be accessed
by other threads to generate traces</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>packet</strong> – obj. Instance of Packet_v11</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.acquisition.real_time_acquisition_v4.FileFlusher.stop">
<code class="sig-name descname">stop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.acquisition.real_time_acquisition_v4.FileFlusher.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Intended to trigger an event when the thread is stopped.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="dcrhino3.acquisition.real_time_acquisition_v4.LogFileDaemonThread">
<em class="property">class </em><code class="sig-prename descclassname">dcrhino3.acquisition.real_time_acquisition_v4.</code><code class="sig-name descname">LogFileDaemonThread</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">logQ</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.acquisition.real_time_acquisition_v4.LogFileDaemonThread" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Writes messages from the logQ to a log file.  Each file is one hour long and it changes on the hour.</p>
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The path where the logs are stored is read from constants.py</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>logQ</strong> – obj. Instance of a queue used to collect logging messages from various threads and write them to a file</p>
</dd>
</dl>
<dl class="py method">
<dt id="dcrhino3.acquisition.real_time_acquisition_v4.LogFileDaemonThread.change_files">
<code class="sig-name descname">change_files</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.acquisition.real_time_acquisition_v4.LogFileDaemonThread.change_files" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Close the current file and create one with the new filename</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> – str. Full path for the new file to be created.  The it will have the following format ‘%Y_%m_%d_%H.log’</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.acquisition.real_time_acquisition_v4.LogFileDaemonThread.log">
<code class="sig-name descname">log</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.acquisition.real_time_acquisition_v4.LogFileDaemonThread.log" title="Permalink to this definition">¶</a></dt>
<dd><p>Write all the messages from logQ into the current file, but does not close the file.</p>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.acquisition.real_time_acquisition_v4.LogFileDaemonThread.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.acquisition.real_time_acquisition_v4.LogFileDaemonThread.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Thread activity.  Will change filenames when necessary and call the log method to write all the log
messages to a file</p>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.acquisition.real_time_acquisition_v4.LogFileDaemonThread.stop">
<code class="sig-name descname">stop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.acquisition.real_time_acquisition_v4.LogFileDaemonThread.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs at the end of the logging process.  It will write all the messages from the logQ to the current file
until the queue is empty and close the file.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="dcrhino3.acquisition.real_time_acquisition_v4.Packet_v11">
<em class="property">class </em><code class="sig-prename descclassname">dcrhino3.acquisition.real_time_acquisition_v4.</code><code class="sig-name descname">Packet_v11</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">q_data</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.acquisition.real_time_acquisition_v4.Packet_v11" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Class used to handle the raw data transmitted from the Rhino receiver (Firmware version 1.1) and
convert it into a packet object that contains all the necessary information as attributes and is easier to
handle and pass long.</p>
<p>Each raw packet is 21 bits long (for v1.1) and contains a begin of frame bit, a message identifyer bit (data or
info), rx_sequence (sequence number assigned at the receiver), data bits (tx_sequence, x, y, z, rssi for data
packets and rssi, temp, voltage, and sleep_time for info packets) and an end of frame bit.</p>
<p>tx_sequence is assigned at the Rhino Transmitter.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>q_data</strong> – struct: raw data packet from Rhino receiver</p>
</dd>
</dl>
<dl class="py method">
<dt id="dcrhino3.acquisition.real_time_acquisition_v4.Packet_v11.calc_batt">
<code class="sig-name descname">calc_batt</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">val</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.acquisition.real_time_acquisition_v4.Packet_v11.calc_batt" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Converts the battery level value reported by the Rhino receiver to voltage. This formula was provided by
the firmware developer as is</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>val</strong> – int: Value representing the battery level</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Calculated battery voltage</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.acquisition.real_time_acquisition_v4.Packet_v11.calc_rssi_value">
<code class="sig-name descname">calc_rssi_value</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">rssi_val</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.acquisition.real_time_acquisition_v4.Packet_v11.calc_rssi_value" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Convert the reported signal strength to dBs.  This formula was provided by the firmware developer as is.
In order to conver the signal strength to dB’s there needs to be an offset of -72 applied to the
calculated value.  Ideally, this offset is applied in the Rhino receiver, but if for any reason it is
not, then it can be applied in this conversion. This rssi_offset is read directly from the configuration
file and can be found and edited in the acquisition_settings.cfg</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>rssi_val</strong> – int: Signal strength value as reported by the Rhino receiver</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Calculated signal strength in dB’s</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.acquisition.real_time_acquisition_v4.Packet_v11.calc_temp_in_c">
<code class="sig-name descname">calc_temp_in_c</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">val</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.acquisition.real_time_acquisition_v4.Packet_v11.calc_temp_in_c" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Converts the temperature value reported by the Rhino receiver to Celsius. This formula was provided by the
firmware developer as is</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>val</strong> – int: Value representing the board temperature</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Calculated board temperature in Celsius</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.acquisition.real_time_acquisition_v4.Packet_v11.packet_decoder">
<code class="sig-name descname">packet_decoder</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pkt</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.acquisition.real_time_acquisition_v4.Packet_v11.packet_decoder" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Decodes the raw packet struct into a packet object and sets it’s attributes accordingly</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pkt</strong> – struct: Raw value as transmitted to the edge device by the Rhino Receiver</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="dcrhino3.acquisition.real_time_acquisition_v4.SerialThread">
<em class="property">class </em><code class="sig-prename descclassname">dcrhino3.acquisition.real_time_acquisition_v4.</code><code class="sig-name descname">SerialThread</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">comport</span></em>, <em class="sig-param"><span class="n">brate</span></em>, <em class="sig-param"><span class="n">pktlen</span></em>, <em class="sig-param"><span class="n">flushq</span></em>, <em class="sig-param"><span class="n">logQ</span></em>, <em class="sig-param"><span class="n">displayQ</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.acquisition.real_time_acquisition_v4.SerialThread" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Class that handles the data transfer from Rhino receiver to the edge device.  Upon starting, the thread will
send a start_rx command to the Rhino receiver that will enable the data transmission.  It will then
continuously receive raw packets through the specified comport, make sure they were not corrupted during the
transmission and then save them to a flushQ for further processing.</p>
<p>This thread will look for <em>pktlen</em> data chunks and will confirm that the beginning of frame and end of frame
bits are <code class="docutils literal notranslate"><span class="pre">0x002</span></code> and <code class="docutils literal notranslate"><span class="pre">0x003</span></code> respectively.  If the size is correct and the expected bits are found,
the packet is deemed good and saved in the flushQ.  If not, the corrupt_packets property is incremented by one
and the serial handler will begin  reading one bit at a time until the next <code class="docutils literal notranslate"><span class="pre">0x003</span></code> is found.  At this
point it is assumed that we reached  another end of frame bit and will read another 21 bits assuming that we
are reading a new packet.  If this  new assumed packet passes the validity test, it is then saved to the
flusQ and we resume the process  normally.  Otherwise, we return to reading one bit at a time trying to find
the next end of frame bit until we successfully read a new packet.</p>
<p>If no data is received through the comport, the thread will run start_rx and print the message
<em>ATEMPTING TO RESTART ACQUISITION</em> until new data is received.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>comport</strong> – str: Comport where the Rhino Receiver is connected to the edge device</p></li>
<li><p><strong>brate</strong> – int: Baud rate for the Comport</p></li>
<li><p><strong>pktlen</strong> – int: Expected bit size of the packet</p></li>
<li><p><strong>flushq</strong> – obj: Instance of a Queue. This is where the raw data packages will be saved</p></li>
<li><p><strong>logQ</strong> – obj: Instance of a Queue. This is where all the messages will be saved and then written to a log file</p></li>
<li><p><strong>displayQ</strong> – obj: Instance of a Queue. This is where all the messages will be saved and then displayed on the log display console</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <em>pktlen</em> and <em>brate</em> parameters are read from the config file and can be updated in the
acquisition_settings.cfg file</p>
</div>
<dl class="py method">
<dt id="dcrhino3.acquisition.real_time_acquisition_v4.SerialThread.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.acquisition.real_time_acquisition_v4.SerialThread.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Method representing the thread’s activity.</p>
<p>You may override this method in a subclass. The standard run() method
invokes the callable object passed to the object’s constructor as the
target argument, if any, with sequential and keyword arguments taken
from the args and kwargs arguments, respectively.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="dcrhino3.acquisition.real_time_acquisition_v4.SimulationThread">
<em class="property">class </em><code class="sig-prename descclassname">dcrhino3.acquisition.real_time_acquisition_v4.</code><code class="sig-name descname">SimulationThread</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file_input</span></em>, <em class="sig-param"><span class="n">file_flusher</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.acquisition.real_time_acquisition_v4.SimulationThread" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py method">
<dt id="dcrhino3.acquisition.real_time_acquisition_v4.SimulationThread.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.acquisition.real_time_acquisition_v4.SimulationThread.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Method representing the thread’s activity.</p>
<p>You may override this method in a subclass. The standard run() method
invokes the callable object passed to the object’s constructor as the
target argument, if any, with sequential and keyword arguments taken
from the args and kwargs arguments, respectively.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="dcrhino3.acquisition.real_time_acquisition_v4.get_rhino_ttyusb">
<code class="sig-prename descclassname">dcrhino3.acquisition.real_time_acquisition_v4.</code><code class="sig-name descname">get_rhino_ttyusb</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.acquisition.real_time_acquisition_v4.get_rhino_ttyusb" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Finds the USB port where the Rhino receiver is connected</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>USB port where Rhino receiver is connected. None if it can’t be found.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="module-dcrhino3.feature_extraction.external_feature_derivations"></span><p>Created on Tue Dec 18 19:29:08 2018</p>
<p>&#64;author: kkappler</p>
<dl class="py class">
<dt id="dcrhino3.feature_extraction.external_feature_derivations.DerivedFeatureExtractorV0">
<em class="property">class </em><code class="sig-prename descclassname">dcrhino3.feature_extraction.external_feature_derivations.</code><code class="sig-name descname">DerivedFeatureExtractorV0</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.feature_extraction.external_feature_derivations.DerivedFeatureExtractorV0" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes as input the extracted features dataframe (or csv-loads)
and calcualtes the derived features;
May factor this into axial, tangential but for now do as all-one
a_delay
a_dens
a_mod
a_reflection_coefficient
a_vel
a_str
c_modulus
c_strength
c_velocity
density
Error_Flag
hole_id
QC_FLAG
s_modulus
s_velocity
t_delay
t_mod
t_reflection_coef
a_delay:  a_delay = axial_multiple_peak_time_sample - axial_primary_peak_time_sample</p>
<p>This formula resulted in a ‘blocky’ looking log because the sample-granularity
that was applied resulted in only a few discrete values being observed.
Variation over a blasthole was often only observed to have three or four
distinct values.  When smoothing was applied to these logs they looked
somewhat plausible.  We can reduce the blockyness by using
axial_multiple_peak_time_poly, and axial_primary_peak_time_poly, i.e.
the polyfit critical points rather than those at sample granularity.</p>
<p>a_dens:  a_reflection_coef / a_vel^2
Previously known as “pseudo_density”, we have been calculating it as:
a_dens = reflection_coefficient_sample / primary_pseudo_velocity_sample**2
Where the primary_pseudo_velocity_sample = 1. / self.primary_wavelet_width_sample
Which can be expressed as
a_dens = reflection_coefficient_sample * self.primary_wavelet_width_sample**2
N.B.: this used primary_wavelet_width_sample which has been suggested is not a valid measurement:  For the record:
primary_wavelet_width_sample = axial_primary_zero_crossing_after_sample - axial_primary_left_trough_time</p>
<p>a_mod:  k1 * a_reflection_coef
Not previously calculated, just plotted as reflection_coef, i.e. k1=1.0;
k1 a constant to be determined; may depend on MWD</p>
<p>a_reflection_coef: (1-R) / (1+R)
where R is the multiple-to-primary-amplitude ratio (axial)</p>
<p>a_str:  sqrt(self.axial_primary_peak_sample)
Previously known as pseudo_ucs;  We looked at logs of this quantity with
_sample resolution vs _poly (polynomail fit) and found little difference to
first order behaviour.</p>
<p>a_vel:  1 / a_delay
This is the “delay velocity”.  It is the one that has been ‘blocky’ in the past</p>
<p>c_density:  This will be some scaled version of a_dens, for now we set equal to a_dens
c_modulus:  This will be some scaled version of a_mod, for now we set equal to a_mod
c_strength:  This will be some scaled version of a_str, for now we set equal to a_str
c_velocity:  This will be some scaled version of a_vel, for now we set equal to a_vel</p>
<p>t_delay:   tangential_delay = tangential_multiple1_time_poly - tangential_primary_time_poly
Here we are using polynomial fits so we are not so ‘blocky’.  The label for this feature is 1810_tangential_delay</p>
<p>t_mod:  k2 * t_reflection_coef
Not previously calculated, k2 a constant to be determined; may depend on MWD</p>
<p>t_reflection_coef: (1-R) / (1+R) where R is the multiple-to-primary-amplitude ratio (tangential)</p>
<p>tangential_amplitude_ratio’ =  features[‘tangential_multiple1_amplitude_poly’] / ‘tangential_primary_amplitude_poly’]</p>
<p>t_vel:  1 / t_delay</p>
<p>s_modulus: This will be some scaled version of t_mod, for now we set equal to t_mod</p>
<p>s_velocity :This will be some scaled version of s_vel, for now we set equal to s_vel</p>
<dl class="py method">
<dt id="dcrhino3.feature_extraction.external_feature_derivations.DerivedFeatureExtractorV0.a_amplitude_ratio">
<em class="property">property </em><code class="sig-name descname">a_amplitude_ratio</code><a class="headerlink" href="#dcrhino3.feature_extraction.external_feature_derivations.DerivedFeatureExtractorV0.a_amplitude_ratio" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the ratio between the primary peak amplitude and the
multiple peak amplitude.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>None</strong> – </p>
</dd>
<dt class="field-even">Other Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>feature version</strong> (<em>str</em>) – version of extractor deriver (here: ‘J0’)</p></li>
<li><p><strong>axial_primary_peak_sample</strong> (<em>float</em>) – value of primary peak amplitude
from dataframe “df”</p></li>
<li><p><strong>axial_multiple_peak_sample</strong> (<em>float</em>) – value of multiple peak amplitude
from dataframe “df”</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Returns</dt><dd><p>(float): <strong>a_amplitude_ratio</strong>, the ratio between the primary peak
amplitude and the multiple peak amplitude</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.feature_extraction.external_feature_derivations.DerivedFeatureExtractorV0.a_delay">
<em class="property">property </em><code class="sig-name descname">a_delay</code><a class="headerlink" href="#dcrhino3.feature_extraction.external_feature_derivations.DerivedFeatureExtractorV0.a_delay" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the time delay between axial primary peak and axial multiple
peak. This is the “delay velocity”.  It is the one that has been
‘blocky’ in the past</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>None</strong> – </p>
</dd>
<dt class="field-even">Other Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>feature version</strong> (<em>str</em>) – version of extractor deriver (here: ‘J0’)</p></li>
<li><p><strong>axial_primary_peak_time_sample</strong> (<em>float</em>) – time of the axial
primary peak from dataframe “df”</p></li>
<li><p><strong>axial_multiple_peak_time_sample</strong> (<em>float</em>) – time of the axial
multiple peak from datafram “df”</p></li>
</ul>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><dl class="simple">
<dt><strong>a_delay</strong>, the time delay between axial primary peak and</dt><dd><p>multiple peak</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>(float)</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In v1 this feature was calculated in direct features;
extracted_features_df[‘axial_delay’] =
extracted_features_df[‘axial_multiple_peak_time_sample’] -
extracted_features_df[‘axial_primary_peak_time_sample’]
Now we calc as a derived feature.</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.feature_extraction.external_feature_derivations.DerivedFeatureExtractorV0.a_dens">
<em class="property">property </em><code class="sig-name descname">a_dens</code><a class="headerlink" href="#dcrhino3.feature_extraction.external_feature_derivations.DerivedFeatureExtractorV0.a_dens" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates density of rock based on reflection coefficient and velocity,
Previously known as “pseudo_density”.</p>
<div class="line-block">
<div class="line">We have been calculating it as:</div>
<div class="line-block">
<div class="line">a_dens = reflection_coefficient_sample / primary_pseudo_velocity_sample**2</div>
</div>
</div>
<div class="line-block">
<div class="line">Which can be expressed as:</div>
<div class="line-block">
<div class="line">a_dens = reflection_coefficient_sample * self.primary_wavelet_width_sample**2</div>
</div>
</div>
<div class="line-block">
<div class="line">N.B.: this used primary_wavelet_width_sample which has been suggested is not a valid measurement.</div>
<div class="line">For the record:</div>
<div class="line-block">
<div class="line">primary_wavelet_width_sample = axial_primary_zero_crossing_after_sample - axial_primary_left_trough_time</div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>None</strong> – </p>
</dd>
<dt class="field-even">Other Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>a_reflection_coef</strong> (<em>float</em>) – calculated in <code class="xref py py-meth docutils literal notranslate"><span class="pre">a_reflection_coef()</span></code></p></li>
<li><p><strong>a_vel</strong> (<em>float</em>) – calculated in <code class="xref py py-meth docutils literal notranslate"><span class="pre">a_vel()</span></code></p></li>
</ul>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the derived density of the rock surrounding drill head</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>(float)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.feature_extraction.external_feature_derivations.DerivedFeatureExtractorV0.a_mod">
<em class="property">property </em><code class="sig-name descname">a_mod</code><a class="headerlink" href="#dcrhino3.feature_extraction.external_feature_derivations.DerivedFeatureExtractorV0.a_mod" title="Permalink to this definition">¶</a></dt>
<dd><p>Scales the reflection coefficient based on drill setup to find modulus,</p>
<div class="line-block">
<div class="line">a_mod = k1 * a_reflection_coef.</div>
</div>
<p>Not previously calculated, just plotted as reflection_coef, i.e. k1=1.0;
k1 a constant to be determined; may depend on MWD.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>None</strong> – </p>
</dd>
<dt class="field-even">Other Parameters</dt>
<dd class="field-even"><p><strong>a_reflection_coef</strong> (<em>float</em>) – calculated in <code class="xref py py-meth docutils literal notranslate"><span class="pre">a_reflection_coef()</span></code></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>a_mod</strong>, the modulus from axial component features</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>(float)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.feature_extraction.external_feature_derivations.DerivedFeatureExtractorV0.a_reflection_coef">
<em class="property">property </em><code class="sig-name descname">a_reflection_coef</code><a class="headerlink" href="#dcrhino3.feature_extraction.external_feature_derivations.DerivedFeatureExtractorV0.a_reflection_coef" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the reflection coefficient between the drill/rock interface
from the axial primary and multiple peaks.</p>
<div class="line-block">
<div class="line">a_reflection_coef: (1-R) / (1+R)</div>
</div>
<p>Where R is the multiple-to-primary-amplitude ratio (axial)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>None</strong> – </p>
</dd>
<dt class="field-even">Other Parameters</dt>
<dd class="field-even"><p><strong>a_amplitude_ratio</strong> (<em>float</em>) – calculated in <code class="xref py py-meth docutils literal notranslate"><span class="pre">a_amplitude_ratio()</span></code></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the reflection coefficient from axial component features</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>(float)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.feature_extraction.external_feature_derivations.DerivedFeatureExtractorV0.a_str">
<em class="property">property </em><code class="sig-name descname">a_str</code><a class="headerlink" href="#dcrhino3.feature_extraction.external_feature_derivations.DerivedFeatureExtractorV0.a_str" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the square root of the axial primary peak amplitude. Previously
known as pseudo_ucs;  We looked at logs of this quantity with _sample
resolution vs _poly (polynomail fit) and found little difference to
first order behaviour.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>None</strong> – </p>
</dd>
<dt class="field-even">Other Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>feature version</strong> (<em>str</em>) – version of extractor deriver (here: ‘J0’)</p></li>
<li><p><strong>axial_primary_peak_sample</strong> (<em>float</em>) – the primary peak amplitude from
the dataframe “df”</p></li>
</ul>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>a_str</strong>, the sqrt of the axial primary peak amplitude</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>(float)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.feature_extraction.external_feature_derivations.DerivedFeatureExtractorV0.a_vel">
<em class="property">property </em><code class="sig-name descname">a_vel</code><a class="headerlink" href="#dcrhino3.feature_extraction.external_feature_derivations.DerivedFeatureExtractorV0.a_vel" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the relative velocity of the axial wave using the inverse of
a_delay. This is the “delay velocity”.  It is the one that has been ‘blocky’
in the past</p>
<blockquote>
<div><div class="line-block">
<div class="line">a_vel:  1 / a_delay</div>
</div>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>None</strong> – </p>
</dd>
<dt class="field-even">Other Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>feature version</strong> (<em>str</em>) – version of extractor deriver (here: ‘J0’)</p></li>
<li><p><strong>a_delay</strong> (<em>float</em>) – calculated in <code class="xref py py-meth docutils literal notranslate"><span class="pre">a_delay()</span></code></p></li>
</ul>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>a_vel</strong>, the delay velocity calculated from the axial component</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>(float)</p>
</dd>
</dl>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This does not take into account the distance from instrument
to tip, so this is not absolute velocity</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.feature_extraction.external_feature_derivations.DerivedFeatureExtractorV0.c_density">
<em class="property">property </em><code class="sig-name descname">c_density</code><a class="headerlink" href="#dcrhino3.feature_extraction.external_feature_derivations.DerivedFeatureExtractorV0.c_density" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition-todo admonition" id="id1">
<p class="admonition-title">Todo</p>
<p>20181224 This will be some scaled version of a_dens, for now we set equal to a_dens</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.feature_extraction.external_feature_derivations.DerivedFeatureExtractorV0.c_modulus">
<em class="property">property </em><code class="sig-name descname">c_modulus</code><a class="headerlink" href="#dcrhino3.feature_extraction.external_feature_derivations.DerivedFeatureExtractorV0.c_modulus" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition-todo admonition" id="id2">
<p class="admonition-title">Todo</p>
<p>20181224 This will be some scaled version of a_mod, for now we set equal to a_mod</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.feature_extraction.external_feature_derivations.DerivedFeatureExtractorV0.c_strength">
<em class="property">property </em><code class="sig-name descname">c_strength</code><a class="headerlink" href="#dcrhino3.feature_extraction.external_feature_derivations.DerivedFeatureExtractorV0.c_strength" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition-todo admonition" id="id3">
<p class="admonition-title">Todo</p>
<p>20181224 This will be some scaled version of a_str, for now we set equal to a_str</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.feature_extraction.external_feature_derivations.DerivedFeatureExtractorV0.c_velocity">
<em class="property">property </em><code class="sig-name descname">c_velocity</code><a class="headerlink" href="#dcrhino3.feature_extraction.external_feature_derivations.DerivedFeatureExtractorV0.c_velocity" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition-todo admonition" id="id4">
<p class="admonition-title">Todo</p>
<p>20181224 This will be some scaled version of a_vel, for now we set equal to a_vel</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.feature_extraction.external_feature_derivations.DerivedFeatureExtractorV0.s_modulus">
<em class="property">property </em><code class="sig-name descname">s_modulus</code><a class="headerlink" href="#dcrhino3.feature_extraction.external_feature_derivations.DerivedFeatureExtractorV0.s_modulus" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition-todo admonition" id="id5">
<p class="admonition-title">Todo</p>
<p>20181224 This will be some scaled version of t_mod, for now we set equal to t_mod</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.feature_extraction.external_feature_derivations.DerivedFeatureExtractorV0.s_velocity">
<em class="property">property </em><code class="sig-name descname">s_velocity</code><a class="headerlink" href="#dcrhino3.feature_extraction.external_feature_derivations.DerivedFeatureExtractorV0.s_velocity" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition-todo admonition" id="id6">
<p class="admonition-title">Todo</p>
<p>20181224 This will be some scaled version of t_vel, for now we set equal to t_vel</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.feature_extraction.external_feature_derivations.DerivedFeatureExtractorV0.t_amplitude_ratio">
<em class="property">property </em><code class="sig-name descname">t_amplitude_ratio</code><a class="headerlink" href="#dcrhino3.feature_extraction.external_feature_derivations.DerivedFeatureExtractorV0.t_amplitude_ratio" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the ratio between the primary peak amplitude and the
multiple peak amplitude on the tangential component.</p>
<blockquote>
<div><div class="line-block">
<div class="line">tangential_amplitude_ratio =  ‘tangential_multiple1_amplitude_poly’ / ‘tangential_primary_amplitude_poly’</div>
</div>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>None</strong> – </p>
</dd>
<dt class="field-even">Other Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>feature version</strong> (<em>str</em>) – version of extractor deriver (here: ‘1810’)</p></li>
<li><p><strong>tangential_primary_amplitude_poly</strong> (<em>float</em>) – value of primary peak amplitude
from dataframe “df”</p></li>
<li><p><strong>tangential_multiple1_amplitude_poly</strong> (<em>float</em>) – value of multiple peak amplitude
from dataframe “df”</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Returns</dt><dd><p>(float): <strong>t_amplitude_ratio</strong>, the ratio between the primary peak
amplitude and the multiple peak amplitude</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This was calculated in the 1810 features, but because it is not a derived
quantity I would rather calculate it here.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>1810 features were applying a square root to the amplitude ratio;
fixed here.</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.feature_extraction.external_feature_derivations.DerivedFeatureExtractorV0.t_delay">
<em class="property">property </em><code class="sig-name descname">t_delay</code><a class="headerlink" href="#dcrhino3.feature_extraction.external_feature_derivations.DerivedFeatureExtractorV0.t_delay" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the tangential time delay between the arrival of the primary peak
and the multiple peak. Here we are using polynomial fits so we are not
so ‘blocky’.  The label for this feature is 1810_tangential_delay.</p>
<blockquote>
<div><div class="line-block">
<div class="line">tangential_delay = tangential_multiple1_time_poly - tangential_primary_time_poly</div>
</div>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>None</strong> – </p>
</dd>
<dt class="field-even">Other Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>1810_tangential_primary_time_poly</strong> (<em>float</em>) – arrival time of the primary
peak along the tangential component</p></li>
<li><p><strong>1810_tangential_multiple1_time_poly</strong> (<em>float</em>) – arrival time of the first
multiple peak along the tangential component</p></li>
</ul>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><dl class="simple">
<dt><strong>t_delay</strong>, the time betweent the arrival of the primary</dt><dd><p>and first multiple peaks along the tangential component.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>(float)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.feature_extraction.external_feature_derivations.DerivedFeatureExtractorV0.t_mod">
<em class="property">property </em><code class="sig-name descname">t_mod</code><a class="headerlink" href="#dcrhino3.feature_extraction.external_feature_derivations.DerivedFeatureExtractorV0.t_mod" title="Permalink to this definition">¶</a></dt>
<dd><p>Scales the reflection coefficient based on drill setup to find modulus,</p>
<blockquote>
<div><div class="line-block">
<div class="line">t_mod:  k2 * t_reflection_coef</div>
</div>
</div></blockquote>
<p>Not previously calculated, just plotted as reflection_coef, i.e. k1=1.0;
k2 a constant to be determined; may depend on MWD.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>None</strong> – </p>
</dd>
<dt class="field-even">Other Parameters</dt>
<dd class="field-even"><p><strong>t_reflection_coef</strong> (<em>float</em>) – calculated in <code class="xref py py-meth docutils literal notranslate"><span class="pre">t_reflection_coef()</span></code></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>t_mod</strong>, the modulus from tangential component features</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>(float)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.feature_extraction.external_feature_derivations.DerivedFeatureExtractorV0.t_reflection_coef">
<em class="property">property </em><code class="sig-name descname">t_reflection_coef</code><a class="headerlink" href="#dcrhino3.feature_extraction.external_feature_derivations.DerivedFeatureExtractorV0.t_reflection_coef" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the reflection coefficient between the drill/rock interface
from the tangential primary and multiple peaks.</p>
<blockquote>
<div><div class="line-block">
<div class="line">t_reflection_coef: (1-R) / (1+R)</div>
</div>
</div></blockquote>
<p>Where R is the multiple-to-primary-amplitude ratio (tangential)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>None</strong> – </p>
</dd>
<dt class="field-even">Other Parameters</dt>
<dd class="field-even"><p><strong>t_amplitude_ratio</strong> (<em>float</em>) – calculated in <code class="xref py py-meth docutils literal notranslate"><span class="pre">t_amplitude_ratio()</span></code></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the reflection coefficient from tangential component features</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>(float)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.feature_extraction.external_feature_derivations.DerivedFeatureExtractorV0.t_vel">
<em class="property">property </em><code class="sig-name descname">t_vel</code><a class="headerlink" href="#dcrhino3.feature_extraction.external_feature_derivations.DerivedFeatureExtractorV0.t_vel" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the relative velocity of the tangential wave using the inverse of
t_delay. This is the “delay velocity”.  It is the one that has been ‘blocky’
in the past</p>
<blockquote>
<div><div class="line-block">
<div class="line">t_vel:  1 / t_delay</div>
</div>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>None</strong> – </p>
</dd>
<dt class="field-even">Other Parameters</dt>
<dd class="field-even"><p><strong>t_delay</strong> (<em>float</em>) – calculated in <code class="xref py py-meth docutils literal notranslate"><span class="pre">t_delay()</span></code></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>t_vel</strong>, the delay velocity calculated from the tangential component</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>(float)</p>
</dd>
</dl>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This does not take into account the distance from instrument
to tip, so this is not absolute velocity but delay velocity</p>
</div>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="dcrhino3.feature_extraction.external_feature_derivations.extracted_features_df_to_external_features">
<code class="sig-prename descclassname">dcrhino3.feature_extraction.external_feature_derivations.</code><code class="sig-name descname">extracted_features_df_to_external_features</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">extracted_features</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.feature_extraction.external_feature_derivations.extracted_features_df_to_external_features" title="Permalink to this definition">¶</a></dt>
<dd><p>Consolidates derived features and adds them to already extracted features.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>extracted_features</strong> (<em>dataframe</em>) – the features extracted prior to derived features</p>
</dd>
<dt class="field-even">Other Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>a_delay</strong> (<em>float</em>) – found here <code class="xref py py-meth docutils literal notranslate"><span class="pre">a_delay()</span></code></p></li>
<li><p><strong>a_dens</strong> (<em>float</em>) – found here <code class="xref py py-meth docutils literal notranslate"><span class="pre">a_dens()</span></code></p></li>
<li><p><strong>a_mod</strong> (<em>float</em>) – found here <code class="xref py py-meth docutils literal notranslate"><span class="pre">a_mod()</span></code></p></li>
<li><p><strong>a_reflection_coef</strong> (<em>float</em>) – found here <code class="xref py py-meth docutils literal notranslate"><span class="pre">a_reflection_coef()</span></code></p></li>
<li><p><strong>a_vel</strong> (<em>float</em>) – found here <code class="xref py py-meth docutils literal notranslate"><span class="pre">a_vel()</span></code></p></li>
<li><p><strong>c_modulus</strong> (<em>float</em>) – found here <code class="xref py py-meth docutils literal notranslate"><span class="pre">c_modulus()</span></code></p></li>
<li><p><strong>c_strength</strong> (<em>float</em>) – found here <code class="xref py py-meth docutils literal notranslate"><span class="pre">c_strength()</span></code></p></li>
<li><p><strong>c_velocity</strong> (<em>float</em>) – found here <code class="xref py py-meth docutils literal notranslate"><span class="pre">c_velocity()</span></code></p></li>
<li><p><strong>c_density</strong> (<em>float</em>) – found here <code class="xref py py-meth docutils literal notranslate"><span class="pre">c_density()</span></code></p></li>
<li><p><strong>t_delay</strong> (<em>float</em>) – found here <code class="xref py py-meth docutils literal notranslate"><span class="pre">t_delay()</span></code></p></li>
<li><p><strong>t_mod</strong> (<em>float</em>) – found here <code class="xref py py-meth docutils literal notranslate"><span class="pre">t_mod()</span></code></p></li>
<li><p><strong>t_reflection_coef</strong> (<em>float</em>) – found here <code class="xref py py-meth docutils literal notranslate"><span class="pre">t_reflection_coef()</span></code></p></li>
<li><p><strong>s_modulus</strong> (<em>float</em>) – found here <code class="xref py py-meth docutils literal notranslate"><span class="pre">s_modulus()</span></code></p></li>
<li><p><strong>s_velocity</strong> (<em>float</em>) – found here <code class="xref py py-meth docutils literal notranslate"><span class="pre">s_velocity()</span></code></p></li>
</ul>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>output_features</strong>, dataframe of extracted features and
derived features</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>(dataframe)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="dcrhino3.feature_extraction.external_feature_derivations.main">
<code class="sig-prename descclassname">dcrhino3.feature_extraction.external_feature_derivations.</code><code class="sig-name descname">main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.feature_extraction.external_feature_derivations.main" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="dcrhino3.feature_extraction.external_feature_derivations.test">
<code class="sig-prename descclassname">dcrhino3.feature_extraction.external_feature_derivations.</code><code class="sig-name descname">test</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.feature_extraction.external_feature_derivations.test" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<span class="target" id="module-dcrhino3.feature_extraction.feature_extractor_j2"></span><p>Author kkappler</p>
<dl class="py class">
<dt id="dcrhino3.feature_extraction.feature_extractor_j2.FeatureExtractorJ2">
<em class="property">class </em><code class="sig-prename descclassname">dcrhino3.feature_extraction.feature_extractor_j2.</code><code class="sig-name descname">FeatureExtractorJ2</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">component_id</span></em>, <em class="sig-param"><span class="n">trimmed_trace</span></em>, <em class="sig-param"><span class="n">transformed_args</span></em>, <em class="sig-param"><span class="n">timestamp</span></em>, <em class="sig-param"><span class="n">sampling_rate</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.feature_extraction.feature_extractor_j2.FeatureExtractorJ2" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Class with parameters and methods for extracting features from individual traces.
Parameters:</p>
<blockquote>
<div><p>component_id (str): ‘axial’, ‘tangential’, ‘radial’
trimmed_trace (float): SymmetricTrace() object
transformed_args (Thiago to describe): specialty class for passing args to process flow
timestamp (datetime, unix format?): the time associated with the trace at the
granularity of time series “chunk” processing
sampling_rate (float) : sampling rate of the trace.  Carried with Symmetric trace
and can be merged</p>
</div></blockquote>
<p>Parameters here are ivars of the class.</p>
<div class="admonition-todo admonition" id="id7">
<p class="admonition-title">Todo</p>
<p>window_boundaries time should just have a .to_index() method</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>given this is run component-by-component we can simplify window_boundaries
to a simple dict {} rather than having ‘axial’, ‘tangential’,</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Originally this was picking values on windows based on multiple, theoretical times     and then picks based on manual windows.  Then we switched to jazz1 (originally called     “additional_pick_based” features).  Then jazz2 was requested, this is basically a way     to non-manually pick the windows for jazz1 but rather to select them based on zero-crossings.     This was implemented but before it ran we we changed it again to jazz3.  This is like jazz2     but we only consider the region between the peak of the primary and the first trough to the left and right.</p>
</div>
<div class="admonition-todo admonition" id="id8">
<p class="admonition-title">Todo</p>
<p>The logic for amplitude picking is still dependant on some assumptions about time picking.  This should be changed.    Will do after time-picking for polarity-aware zero-crossings is implemented.</p>
</div>
<div class="admonition-todo admonition" id="id9">
<p class="admonition-title">Todo</p>
<p>Add support for max, min as well as integrated absolute amplitude for ampltiude_picks</p>
</div>
<div class="admonition-todo admonition" id="id10">
<p class="admonition-title">Todo</p>
<p>Differentiate between integrated absolute amplitude and integrated average amplitude</p>
</div>
<div class="admonition-todo admonition" id="id11">
<p class="admonition-title">Todo</p>
<p>Add to doc the choices for the json and what is needed or not; Especially     time_picks is one of {maxmium, minimum, zero_crossing, zero_crossing_positive_slope,     zero_crossing_negative_slope, amplitude_picks  is one of {integrated_absolute_amplitude,    maximum_value, minimum_value}</p>
</div>
<div class="admonition-todo admonition" id="id12">
<p class="admonition-title">Todo</p>
<p>Describe the logic for phase rotation and calculation of ampltiudes based on time_pick and wavelet_id;    i.e. primary, integrated_absolute_amplitude, is centered on the time_pick,    multiple_1, integrated_absolute_amplitude, is centered on the zero_crossing time_pick, with data -90deg rotated    but in general we should have a tree of {time_pick_type, amplitude_pick_type} –&gt; algortihm description</p>
</div>
<div class="admonition-todo admonition" id="id13">
<p class="admonition-title">Todo</p>
<p>factor the additional_pick_based_amplitude_windows (original manual jazz hack out)</p>
</div>
<p>Example json control block follows</p>
</div></blockquote>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
 <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;j2&quot;</span><span class="p">,</span>
 <span class="nt">&quot;output_to_file&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
 <span class="nt">&quot;args&quot;</span><span class="p">:</span> <span class="p">{</span>
   <span class="nt">&quot;upsample_sampling_rate&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;|global_config.upsample_sampling_rate|&quot;</span><span class="p">,</span> <span class="mf">50000.0</span><span class="p">],</span>
   <span class="nt">&quot;sensor_distance_to_source&quot;</span><span class="p">:</span> <span class="s2">&quot;|global_config.sensor_distance_to_source|&quot;</span><span class="p">,</span>
   <span class="nt">&quot;sensor_distance_to_shocksub&quot;</span><span class="p">:</span> <span class="s2">&quot;|global_config.sensor_distance_to_shocksub|&quot;</span><span class="p">,</span>
   <span class="nt">&quot;sensor_saturation_g&quot;</span><span class="p">:</span> <span class="s2">&quot;|global_config.sensor_saturation_g|&quot;</span><span class="p">,</span>
   <span class="nt">&quot;ACOUSTIC_VELOCITY&quot;</span><span class="p">:</span> <span class="s2">&quot;|global_config.ACOUSTIC_VELOCITY|&quot;</span><span class="p">,</span>
   <span class="nt">&quot;SHEAR_VELOCITY&quot;</span><span class="p">:</span> <span class="s2">&quot;|global_config.SHEAR_VELOCITY|&quot;</span><span class="p">,</span>

   <span class="nt">&quot;time_picks&quot;</span><span class="p">:{</span>
     <span class="nt">&quot;axial&quot;</span><span class="p">:</span>
         <span class="p">{</span>
             <span class="nt">&quot;primary&quot;</span><span class="p">:</span> <span class="s2">&quot;maximum&quot;</span><span class="p">,</span>
             <span class="nt">&quot;multiple_1&quot;</span><span class="p">:</span> <span class="s2">&quot;zero_crossing&quot;</span><span class="p">,</span>
             <span class="nt">&quot;multiple_2&quot;</span><span class="p">:</span> <span class="s2">&quot;minimum&quot;</span><span class="p">,</span>
             <span class="nt">&quot;multiple_3&quot;</span><span class="p">:</span> <span class="s2">&quot;zero_crossing&quot;</span>

         <span class="p">},</span>

     <span class="nt">&quot;tangential&quot;</span><span class="p">:</span>
         <span class="p">{</span>
             <span class="nt">&quot;primary&quot;</span><span class="p">:</span> <span class="s2">&quot;maximum&quot;</span><span class="p">,</span>
             <span class="nt">&quot;multiple_1&quot;</span><span class="p">:</span> <span class="s2">&quot;zero_crossing&quot;</span><span class="p">,</span>
             <span class="nt">&quot;multiple_2&quot;</span><span class="p">:</span> <span class="s2">&quot;minimum&quot;</span><span class="p">,</span>
             <span class="nt">&quot;multiple_3&quot;</span><span class="p">:</span> <span class="s2">&quot;zero_crossing&quot;</span>

         <span class="p">}</span>

      <span class="p">},</span>

     <span class="nt">&quot;manual_time_windows&quot;</span> <span class="p">:</span> <span class="p">{</span>
           <span class="nt">&quot;axial&quot;</span><span class="p">:</span> <span class="p">{</span>
               <span class="nt">&quot;primary&quot;</span><span class="p">:</span> <span class="s2">&quot;|process_flow.axial_primary|&quot;</span><span class="p">,</span>
               <span class="nt">&quot;multiple_1&quot;</span><span class="p">:</span> <span class="s2">&quot;|process_flow.axial_multiple_1|&quot;</span><span class="p">,</span>
               <span class="nt">&quot;multiple_2&quot;</span><span class="p">:</span> <span class="s2">&quot;|process_flow.axial_multiple_2|&quot;</span><span class="p">,</span>
               <span class="nt">&quot;multiple_3&quot;</span><span class="p">:</span> <span class="s2">&quot;|process_flow.axial_multiple_3|&quot;</span>

                   <span class="p">},</span>
           <span class="nt">&quot;tangential&quot;</span><span class="p">:</span> <span class="p">{</span>
             <span class="nt">&quot;primary&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">-0.002</span><span class="p">,</span> <span class="mf">0.002</span><span class="p">],</span>
             <span class="nt">&quot;multiple_1&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.013</span><span class="p">,</span> <span class="mf">0.017</span><span class="p">],</span>
             <span class="nt">&quot;multiple_2&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.030</span><span class="p">,</span> <span class="mf">0.034</span><span class="p">],</span>
             <span class="nt">&quot;multiple_3&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.044</span><span class="p">,</span> <span class="mf">0.055</span><span class="p">]</span>

           <span class="p">}</span>
           <span class="p">},</span>
     <span class="nt">&quot;amplitude_picks&quot;</span> <span class="p">:</span> <span class="p">{</span>
         <span class="nt">&quot;axial&quot;</span><span class="p">:{</span>
         <span class="nt">&quot;primary&quot;</span><span class="p">:</span> <span class="s2">&quot;integrated_absolute_amplitude&quot;</span><span class="p">,</span>
         <span class="nt">&quot;multiple_1&quot;</span><span class="p">:</span> <span class="s2">&quot;integrated_absolute_amplitude&quot;</span><span class="p">,</span>
         <span class="nt">&quot;multiple_2&quot;</span><span class="p">:</span> <span class="s2">&quot;integrated_absolute_amplitude&quot;</span><span class="p">,</span>
         <span class="nt">&quot;multiple_3&quot;</span><span class="p">:</span> <span class="s2">&quot;integrated_absolute_amplitude&quot;</span>
     <span class="p">},</span>
         <span class="nt">&quot;tangential&quot;</span><span class="p">:{</span>
         <span class="nt">&quot;primary&quot;</span><span class="p">:</span> <span class="s2">&quot;integrated_absolute_amplitude&quot;</span><span class="p">,</span>
         <span class="nt">&quot;multiple_1&quot;</span><span class="p">:</span> <span class="s2">&quot;integrated_absolute_amplitude&quot;</span><span class="p">,</span>
         <span class="nt">&quot;multiple_2&quot;</span><span class="p">:</span> <span class="s2">&quot;integrated_absolute_amplitude&quot;</span><span class="p">,</span>
         <span class="nt">&quot;multiple_3&quot;</span><span class="p">:</span> <span class="s2">&quot;integrated_absolute_amplitude&quot;</span>

     <span class="p">}</span>
   <span class="p">},</span>
         <span class="nt">&quot;amplitude_half_widths&quot;</span> <span class="p">:</span> <span class="p">{</span>
         <span class="nt">&quot;axial&quot;</span><span class="p">:{</span>
         <span class="nt">&quot;primary&quot;</span><span class="p">:</span> <span class="mf">0.00105</span><span class="p">,</span>
         <span class="nt">&quot;multiple_1&quot;</span><span class="p">:</span> <span class="mf">0.00105</span><span class="p">,</span>
         <span class="nt">&quot;multiple_2&quot;</span><span class="p">:</span> <span class="mf">0.00105</span><span class="p">,</span>
         <span class="nt">&quot;multiple_3&quot;</span><span class="p">:</span> <span class="mf">0.00105</span>

     <span class="p">},</span>
         <span class="nt">&quot;tangential&quot;</span><span class="p">:{</span>
         <span class="nt">&quot;primary&quot;</span><span class="p">:</span> <span class="mf">0.00105</span><span class="p">,</span>
         <span class="nt">&quot;multiple_1&quot;</span><span class="p">:</span> <span class="mf">0.00105</span><span class="p">,</span>
         <span class="nt">&quot;multiple_2&quot;</span><span class="p">:</span> <span class="mf">0.00105</span><span class="p">,</span>
         <span class="nt">&quot;multiple_3&quot;</span><span class="p">:</span> <span class="mf">0.00105</span>

     <span class="p">}</span>

   <span class="p">}</span>

 <span class="p">}</span>
 <span class="p">}</span>
</pre></div>
</div>
<dl class="py method">
<dt id="dcrhino3.feature_extraction.feature_extractor_j2.FeatureExtractorJ2.extract_features">
<code class="sig-name descname">extract_features</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.feature_extraction.feature_extractor_j2.FeatureExtractorJ2.extract_features" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition-todo admonition" id="id14">
<p class="admonition-title">Todo</p>
<p>lists of time_wavelets to pick should be taken from json, rather than explicitly hard coded here</p>
</div>
<div class="admonition-todo admonition" id="id15">
<p class="admonition-title">Todo</p>
<p>review rotation angles for mult1/3 zerocrossings</p>
</div>
<div class="admonition-todo admonition" id="id16">
<p class="admonition-title">Todo</p>
<p>remove support for ambiguous zero_crossing pick type</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.feature_extraction.feature_extractor_j2.FeatureExtractorJ2.extract_integrated_amplitudes">
<code class="sig-name descname">extract_integrated_amplitudes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">time_center</span></em>, <em class="sig-param"><span class="n">window_half_width</span></em>, <em class="sig-param"><span class="n">rotate_angle</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.feature_extraction.feature_extractor_j2.FeatureExtractorJ2.extract_integrated_amplitudes" title="Permalink to this definition">¶</a></dt>
<dd><p>returns integrated area and integrated-absolute-area under peak centered
at time_center, of width 2*window_half_width</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time_center</strong> – float, this is the time at which to center the window            on the time axis of the symmetric trace object</p></li>
<li><p><strong>window_half_width</strong> – float, units of seconds (TBC)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.feature_extraction.feature_extractor_j2.FeatureExtractorJ2.jazz1">
<code class="sig-name descname">jazz1</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">extracted_features_dict</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.feature_extraction.feature_extractor_j2.FeatureExtractorJ2.jazz1" title="Permalink to this definition">¶</a></dt>
<dd><p>probably make this an extension of FeatureExtractorJ2() would be cleaner codewise</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="dcrhino3.feature_extraction.feature_extractor_j2.full_feature_label">
<code class="sig-prename descclassname">dcrhino3.feature_extraction.feature_extractor_j2.</code><code class="sig-name descname">full_feature_label</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">component_id</span></em>, <em class="sig-param"><span class="n">wavelet_id</span></em>, <em class="sig-param"><span class="n">feature_id</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.feature_extraction.feature_extractor_j2.full_feature_label" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>component_id</strong> – ‘axial’, ‘tangential’, or ‘radial’</p></li>
<li><p><strong>wavelet_id</strong> – </p></li>
<li><p><strong>feature_id</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>string label for feature</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="module-dcrhino3.feature_extraction.feature_windowing"></span><p>Created on Sun Mar  3 17:23:16 2019</p>
<p>&#64;author: kkappler</p>
<dl class="py class">
<dt id="dcrhino3.feature_extraction.feature_windowing.AmplitudeWindow">
<em class="property">class </em><code class="sig-prename descclassname">dcrhino3.feature_extraction.feature_windowing.</code><code class="sig-name descname">AmplitudeWindow</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.feature_extraction.feature_windowing.AmplitudeWindow" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt id="dcrhino3.feature_extraction.feature_windowing.AmplitudeWindows">
<em class="property">class </em><code class="sig-prename descclassname">dcrhino3.feature_extraction.feature_windowing.</code><code class="sig-name descname">AmplitudeWindows</code><a class="headerlink" href="#dcrhino3.feature_extraction.feature_windowing.AmplitudeWindows" title="Permalink to this definition">¶</a></dt>
<dd><p>20190401: baked in default values … will move to json ASAP</p>
<dl class="py method">
<dt id="dcrhino3.feature_extraction.feature_windowing.AmplitudeWindows.populate_from_transformed_args">
<code class="sig-name descname">populate_from_transformed_args</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">amplitude_half_widths</span></em>, <em class="sig-param"><span class="n">amplitude_picks</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.feature_extraction.feature_windowing.AmplitudeWindows.populate_from_transformed_args" title="Permalink to this definition">¶</a></dt>
<dd><p>method to assign window start and end from json, also could be from gui
or otherwhere</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="dcrhino3.feature_extraction.feature_windowing.AmplitudeWindowsOld">
<em class="property">class </em><code class="sig-prename descclassname">dcrhino3.feature_extraction.feature_windowing.</code><code class="sig-name descname">AmplitudeWindowsOld</code><a class="headerlink" href="#dcrhino3.feature_extraction.feature_windowing.AmplitudeWindowsOld" title="Permalink to this definition">¶</a></dt>
<dd><p>20190401: baked in default values … will move to json ASAP</p>
<dl class="py method">
<dt id="dcrhino3.feature_extraction.feature_windowing.AmplitudeWindowsOld.populate_from_transformed_args">
<code class="sig-name descname">populate_from_transformed_args</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">amplitude_half_widths</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.feature_extraction.feature_windowing.AmplitudeWindowsOld.populate_from_transformed_args" title="Permalink to this definition">¶</a></dt>
<dd><p>method to assign window start and end from json, also could be from gui
or otherwhere</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="dcrhino3.feature_extraction.feature_windowing.ManualTimeWindows">
<em class="property">class </em><code class="sig-prename descclassname">dcrhino3.feature_extraction.feature_windowing.</code><code class="sig-name descname">ManualTimeWindows</code><a class="headerlink" href="#dcrhino3.feature_extraction.feature_windowing.ManualTimeWindows" title="Permalink to this definition">¶</a></dt>
<dd><p>prototype, to make so changes propagate through J2, and eventually into
plotter and json</p>
<p>old WindowBoundaries() class.  It is less important which format we follow, can
change old class to use this, or make this match the old …</p>
<dl class="py method">
<dt id="dcrhino3.feature_extraction.feature_windowing.ManualTimeWindows.get_time_window">
<code class="sig-name descname">get_time_window</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">window_label</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.feature_extraction.feature_windowing.ManualTimeWindows.get_time_window" title="Permalink to this definition">¶</a></dt>
<dd><p>yes, this sucks and should be done with a dict BUT it is flexible
for half-baked test changes … so live with it for now</p>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.feature_extraction.feature_windowing.ManualTimeWindows.populate_from_transformed_args">
<code class="sig-name descname">populate_from_transformed_args</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">manual_time_windows</span></em>, <em class="sig-param"><span class="n">time_picks</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.feature_extraction.feature_windowing.ManualTimeWindows.populate_from_transformed_args" title="Permalink to this definition">¶</a></dt>
<dd><p>method to assign window start and end from json, also could be from gui
or otherwhere</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="dcrhino3.feature_extraction.feature_windowing.SearchWindow">
<em class="property">class </em><code class="sig-prename descclassname">dcrhino3.feature_extraction.feature_windowing.</code><code class="sig-name descname">SearchWindow</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.feature_extraction.feature_windowing.SearchWindow" title="Permalink to this definition">¶</a></dt>
<dd><p>this is intended to be used for “time-picks”,
Can be modified to support search in frequency domain, but maybe better
to create a FrequencyInterval class
.. :note if this gets cumbersome because of the underlying TimePeriod class
we can just add lower_bound, and upper_bound attrs directly to this class</p>
</dd></dl>

<dl class="py function">
<dt id="dcrhino3.feature_extraction.feature_windowing.get_default_time_windows">
<code class="sig-prename descclassname">dcrhino3.feature_extraction.feature_windowing.</code><code class="sig-name descname">get_default_time_windows</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">transformed_args</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.feature_extraction.feature_windowing.get_default_time_windows" title="Permalink to this definition">¶</a></dt>
<dd><p>prototype, to make so changes propagate through J2, and eventually into
plotter and json.  Rather than start fresh here (whihc I would like to)
will use the WindowBoundaries class so that these default windows are those used
by J1, K0 … this can be changed later.</p>
<p>old WindowBoundaries() class.  It is less important which format we follow, can
change old class to use this, or make this match the old …</p>
</dd></dl>

<dl class="py function">
<dt id="dcrhino3.feature_extraction.feature_windowing.main">
<code class="sig-prename descclassname">dcrhino3.feature_extraction.feature_windowing.</code><code class="sig-name descname">main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.feature_extraction.feature_windowing.main" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="dcrhino3.feature_extraction.feature_windowing.test_populate_window_data_dict">
<code class="sig-prename descclassname">dcrhino3.feature_extraction.feature_windowing.</code><code class="sig-name descname">test_populate_window_data_dict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">trace_data_window_dict</span></em>, <em class="sig-param"><span class="n">trace_time_vector_dict</span></em>, <em class="sig-param"><span class="n">trimmed_trace</span></em>, <em class="sig-param"><span class="n">trimmed_time_vector</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.feature_extraction.feature_windowing.test_populate_window_data_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the trace in black line and multicolor scatter, label axis/legend, show.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>trace_data_window_dict</strong> (<em>dict</em>) – trace data</p></li>
<li><p><strong>trace_time_vector_dict</strong> (<em>dict</em>) – trace time data</p></li>
<li><p><strong>trimmed_trace</strong> – 1D trace data (to be plotted)</p></li>
<li><p><strong>trimmed_time_vector</strong> – 1D trace time data (to be plotted)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="simple">
<dt>#.. automodule:: dcrhino3.feature_extraction.intermediate_derived_features</dt><dd><dl class="field-list simple">
<dt class="field-odd">members</dt>
<dd class="field-odd"><p></p></dd>
</dl>
</dd>
</dl>
<span class="target" id="module-dcrhino3.feature_extraction.intermediate_derived_features_j2"></span><p>Author: kkappler</p>
<div class="admonition-todo admonition" id="id17">
<p class="admonition-title">Todo</p>
<p>20190220: The features extracted here are not pulled directly from wavelets, so
we refer to them as derived features rather than ‘direct’ features.  THey
will in future versions of the rhino software be superceded log processing,
and possibly reinstututed once log-processing and calibrations are better understood.</p>
</div>
<div class="admonition-todo admonition" id="id18">
<p class="admonition-title">Todo</p>
<p>20190403: factor this into an axial and a tangential function that takes</p>
</div>
<p>component_id on __init__</p>
<dl class="py class">
<dt id="dcrhino3.feature_extraction.intermediate_derived_features_j2.IntermediateFeatureDeriver">
<em class="property">class </em><code class="sig-prename descclassname">dcrhino3.feature_extraction.intermediate_derived_features_j2.</code><code class="sig-name descname">IntermediateFeatureDeriver</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">component_id</span></em>, <em class="sig-param"><span class="n">manual_windows</span></em>, <em class="sig-param"><span class="n">df_dict</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.feature_extraction.intermediate_derived_features_j2.IntermediateFeatureDeriver" title="Permalink to this definition">¶</a></dt>
<dd><p>Derives the following features:</p>
<blockquote>
<div><ul class="simple">
<li><p>axial_primary_peak</p></li>
<li><p>axial_amplitude_ratio_1</p></li>
<li><p>axial_amplitude_ratio_2</p></li>
<li><p>axial_reflection_coefficient_1</p></li>
<li><p>axial_reflection_coefficient_2</p></li>
<li><p>axial_delay_1</p></li>
<li><p>axial_delay_2</p></li>
<li><p>axial_pseudo_velocity_1</p></li>
<li><p>axial_pseudo_velocity_2</p></li>
<li><p>pseudo_ucs</p></li>
<li><p>pseudo_density</p></li>
<li><p>tangential_primary_peak</p></li>
<li><p>tangential_primary_peak_time</p></li>
<li><p>tangential_delay_1</p></li>
<li><p>tangential_delay_2</p></li>
<li><p>tangential_amplitude_ratio_1</p></li>
<li><p>tangential_amplitude_ratio_2</p></li>
<li><p>tangential_reflection_coefficient_1</p></li>
<li><p>tangential_reflection_coefficient_2</p></li>
<li><p>tangential_pseudo_velocity_1</p></li>
</ul>
</div></blockquote>
<dl class="py method">
<dt id="dcrhino3.feature_extraction.intermediate_derived_features_j2.IntermediateFeatureDeriver.derive_features">
<code class="sig-name descname">derive_features</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">component_id</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.feature_extraction.intermediate_derived_features_j2.IntermediateFeatureDeriver.derive_features" title="Permalink to this definition">¶</a></dt>
<dd><p>Store certain features in dictionary, based on component_id.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>component_id</strong> (<em>str</em>) – axial/tangential</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>derived features</p>
<blockquote>
<div><p>For axial:</p>
<blockquote>
<div><ul class="simple">
<li><p>pseudo ucs</p></li>
<li><p>axial pseudo velocity 1</p></li>
<li><p>pseudo density</p></li>
<li><p>axial reflection coeff</p></li>
</ul>
</div></blockquote>
<p>For tangential:</p>
<blockquote>
<div><ul class="simple">
<li><p>tangential reflection coeff 1</p></li>
<li><p>tangential reflection coeff 2</p></li>
<li><p>tangential delay 1</p></li>
<li><p>tangential pseudo velocity 1</p></li>
</ul>
</div></blockquote>
</div></blockquote>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(dict)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.feature_extraction.intermediate_derived_features_j2.IntermediateFeatureDeriver.multiple_1_peak">
<em class="property">property </em><code class="sig-name descname">multiple_1_peak</code><a class="headerlink" href="#dcrhino3.feature_extraction.intermediate_derived_features_j2.IntermediateFeatureDeriver.multiple_1_peak" title="Permalink to this definition">¶</a></dt>
<dd><p>multiple_1_peak_feature &lt;– get from a control argument</p>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.feature_extraction.intermediate_derived_features_j2.IntermediateFeatureDeriver.multiple_1_time">
<em class="property">property </em><code class="sig-name descname">multiple_1_time</code><a class="headerlink" href="#dcrhino3.feature_extraction.intermediate_derived_features_j2.IntermediateFeatureDeriver.multiple_1_time" title="Permalink to this definition">¶</a></dt>
<dd><p>multiple_1_time_feature &lt;– get from a control argument
default: ‘zero_crossing_time’
.. todo:: there are two ways to do this</p>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.feature_extraction.intermediate_derived_features_j2.IntermediateFeatureDeriver.multiple_2_peak">
<em class="property">property </em><code class="sig-name descname">multiple_2_peak</code><a class="headerlink" href="#dcrhino3.feature_extraction.intermediate_derived_features_j2.IntermediateFeatureDeriver.multiple_2_peak" title="Permalink to this definition">¶</a></dt>
<dd><p>multiple_2_peak_feature &lt;– get from a control argument</p>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.feature_extraction.intermediate_derived_features_j2.IntermediateFeatureDeriver.multiple_2_time">
<em class="property">property </em><code class="sig-name descname">multiple_2_time</code><a class="headerlink" href="#dcrhino3.feature_extraction.intermediate_derived_features_j2.IntermediateFeatureDeriver.multiple_2_time" title="Permalink to this definition">¶</a></dt>
<dd><p>multiple_1_time_feature &lt;– get from a control argument
default: J0, J1, K0: ‘min_time’
default: J2, ‘minimum_time’</p>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.feature_extraction.intermediate_derived_features_j2.IntermediateFeatureDeriver.primary_peak">
<em class="property">property </em><code class="sig-name descname">primary_peak</code><a class="headerlink" href="#dcrhino3.feature_extraction.intermediate_derived_features_j2.IntermediateFeatureDeriver.primary_peak" title="Permalink to this definition">¶</a></dt>
<dd><p>primary_peak_feature &lt;– get from a control argument</p>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.feature_extraction.intermediate_derived_features_j2.IntermediateFeatureDeriver.primary_time">
<em class="property">property </em><code class="sig-name descname">primary_time</code><a class="headerlink" href="#dcrhino3.feature_extraction.intermediate_derived_features_j2.IntermediateFeatureDeriver.primary_time" title="Permalink to this definition">¶</a></dt>
<dd><p>primary_time_feature &lt;– get from a control argument
default: J0, J1, K0: ‘max_time’
default: J2, ‘maximum_time’</p>
</dd></dl>

</dd></dl>

<span class="target" id="module-dcrhino3.helpers.general_helper_functions"></span><p>Created on Sat Apr 26 13:59:10 2014</p>
<p>Author: kkappler</p>
<p>Basic tools to help write Python script, mostly taken from websites.</p>
<dl class="py function">
<dt id="dcrhino3.helpers.general_helper_functions.StandardString">
<code class="sig-prename descclassname">dcrhino3.helpers.general_helper_functions.</code><code class="sig-name descname">StandardString</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">s</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.helpers.general_helper_functions.StandardString" title="Permalink to this definition">¶</a></dt>
<dd><p>historical method from SEGY-land
:param s: string to be standardized
:type s: str</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>cleaned, standardized string with underscores instead of spaces</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>(str)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="dcrhino3.helpers.general_helper_functions.add_inverse_dictionary">
<code class="sig-prename descclassname">dcrhino3.helpers.general_helper_functions.</code><code class="sig-name descname">add_inverse_dictionary</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">my_map</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.helpers.general_helper_functions.add_inverse_dictionary" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://stackoverflow.com/questions/483666/python-reverse-invert-a-mapping">https://stackoverflow.com/questions/483666/python-reverse-invert-a-mapping</a></p>
</dd></dl>

<dl class="py function">
<dt id="dcrhino3.helpers.general_helper_functions.check_if_sequence_log_lin_orother">
<code class="sig-prename descclassname">dcrhino3.helpers.general_helper_functions.</code><code class="sig-name descname">check_if_sequence_log_lin_orother</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">seq</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.helpers.general_helper_functions.check_if_sequence_log_lin_orother" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if sequence is logarithmic, linear, or other.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>seq</strong> (<em>list</em>) – sequence to be checked</p>
</dd>
<dt class="field-even">Yields</dt>
<dd class="field-even"><p>prints an answer string</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Taken from some calibration file development stuff, not sure if
needed. This should work for lin or log progressions.</p>
</div>
</dd></dl>

<dl class="py function">
<dt id="dcrhino3.helpers.general_helper_functions.check_timestamp">
<code class="sig-prename descclassname">dcrhino3.helpers.general_helper_functions.</code><code class="sig-name descname">check_timestamp</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.helpers.general_helper_functions.check_timestamp" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if a file was recently updated/created.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<em>str</em>) – the file in quesion</p></li>
<li><p><strong>kwargs ageThreshold</strong> (<em>**</em>) – how old a file can be before warn/raises exception</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="dcrhino3.helpers.general_helper_functions.count_directories">
<code class="sig-prename descclassname">dcrhino3.helpers.general_helper_functions.</code><code class="sig-name descname">count_directories</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">directory</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.helpers.general_helper_functions.count_directories" title="Permalink to this definition">¶</a></dt>
<dd><p>Count number of subdirectories in deirectory specified.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>directory</strong> (<em>str</em>) – directory whose contents to count</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>number of subdirectories in directory</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(int)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="dcrhino3.helpers.general_helper_functions.count_lines">
<code class="sig-prename descclassname">dcrhino3.helpers.general_helper_functions.</code><code class="sig-name descname">count_lines</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fileName</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.helpers.general_helper_functions.count_lines" title="Permalink to this definition">¶</a></dt>
<dd><p>Counts lines in file specified. (Acts like wc -l in unix)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number of lines present in fileName or -1 if file does not exist</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>(int)</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>IOError</strong> – if fileName does not exist.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="dcrhino3.helpers.general_helper_functions.create_folders_if_needed">
<code class="sig-prename descclassname">dcrhino3.helpers.general_helper_functions.</code><code class="sig-name descname">create_folders_if_needed</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.helpers.general_helper_functions.create_folders_if_needed" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a folder if one does not already exist.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> (<em>str</em>) – path to place folder</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="dcrhino3.helpers.general_helper_functions.dict_to_object">
<code class="sig-prename descclassname">dcrhino3.helpers.general_helper_functions.</code><code class="sig-name descname">dict_to_object</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">var</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.helpers.general_helper_functions.dict_to_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts dictionary to object.</p>
<p>:raises <code class="code docutils literal notranslate"><span class="pre">NameError:</span> <span class="pre">name</span> <span class="pre">'namedtuple'</span> <span class="pre">is</span> <span class="pre">not</span> <span class="pre">defined</span></code>:</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Does not plug and play.</p>
</div>
</dd></dl>

<dl class="py function">
<dt id="dcrhino3.helpers.general_helper_functions.execute_command">
<code class="sig-prename descclassname">dcrhino3.helpers.general_helper_functions.</code><code class="sig-name descname">execute_command</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cmd</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.helpers.general_helper_functions.execute_command" title="Permalink to this definition">¶</a></dt>
<dd><p>Executes command in terminal from script.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cmd</strong> (<em>str</em>) – command to exectute from a terminal</p></li>
<li><p><strong>kwargs</strong> – exec_dir (str): the directory from which to execute</p></li>
<li><p><strong>kwargs</strong> – no_exception: suppress output if exception</p></li>
</ul>
</dd>
<dt class="field-even">Other Parameters</dt>
<dd class="field-even"><p><strong>exit_status</strong> – <code class="code docutils literal notranslate"><span class="pre">0</span></code> is good, otherwise there is some problem</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When executing <code class="code docutils literal notranslate"><span class="pre">rm</span> <span class="pre">*</span></code> this crashes if the directory we are removing
from is empty</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>if you can you should probably use execute_subprocess() instead</p>
</div>
</dd></dl>

<dl class="py function">
<dt id="dcrhino3.helpers.general_helper_functions.execute_subprocess">
<code class="sig-prename descclassname">dcrhino3.helpers.general_helper_functions.</code><code class="sig-name descname">execute_subprocess</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cmd</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.helpers.general_helper_functions.execute_subprocess" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>cmd</strong> (<em>str</em>) – command to exectute from a terminal</p>
</dd>
<dt class="field-even">Other Parameters</dt>
<dd class="field-even"><p><strong>exit_status</strong> – 0 is good, otherwise there is some problem</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When executing <code class="code docutils literal notranslate"><span class="pre">rm</span> <span class="pre">*</span></code> this crashes if the directory we are removing
from is empty</p>
</div>
</dd></dl>

<dl class="py function">
<dt id="dcrhino3.helpers.general_helper_functions.expound">
<code class="sig-prename descclassname">dcrhino3.helpers.general_helper_functions.</code><code class="sig-name descname">expound</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">someObj</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.helpers.general_helper_functions.expound" title="Permalink to this definition">¶</a></dt>
<dd><p>This function prints the contents of an object so a user can see values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>someObj</strong> (<em>object</em>) – object to explore</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="dcrhino3.helpers.general_helper_functions.find_files">
<code class="sig-prename descclassname">dcrhino3.helpers.general_helper_functions.</code><code class="sig-name descname">find_files</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">directory</span></em>, <em class="sig-param"><span class="n">pattern</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.helpers.general_helper_functions.find_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Recursively search for files matching pattern in directory:</p>
<blockquote>
<div><p><a class="reference external" href="http://stackoverflow.com/questions/2186525/use-a-glob-to-find-files-recursively-in-python">Stackoverflow find files</a></p>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt id="dcrhino3.helpers.general_helper_functions.flatten">
<code class="sig-prename descclassname">dcrhino3.helpers.general_helper_functions.</code><code class="sig-name descname">flatten</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">d</span></em>, <em class="sig-param"><span class="n">parent_key</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">sep</span><span class="o">=</span><span class="default_value">'_'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.helpers.general_helper_functions.flatten" title="Permalink to this definition">¶</a></dt>
<dd><p>Flatten nested python dictionaries to unindent.</p>
<blockquote>
<div><p><a class="reference external" href="https://stackoverflow.com/questions/6027558/flatten-nested-python-dictionaries-compressing-keys">Stackoverflow Flatten</a></p>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt id="dcrhino3.helpers.general_helper_functions.generate_enumerated_folder">
<code class="sig-prename descclassname">dcrhino3.helpers.general_helper_functions.</code><code class="sig-name descname">generate_enumerated_folder</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">target_dir</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.helpers.general_helper_functions.generate_enumerated_folder" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition-todo admonition" id="id19">
<p class="admonition-title">Todo</p>
<p>change count_directories() function here to support using
glob.glob and allowing a particular directory string to be matched</p>
</div>
</dd></dl>

<dl class="py function">
<dt id="dcrhino3.helpers.general_helper_functions.get_modification_date">
<code class="sig-prename descclassname">dcrhino3.helpers.general_helper_functions.</code><code class="sig-name descname">get_modification_date</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.helpers.general_helper_functions.get_modification_date" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> (<em>str</em>) – the file in question</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the last time the file was modified</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(datetime)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="dcrhino3.helpers.general_helper_functions.identify_time_columns">
<code class="sig-prename descclassname">dcrhino3.helpers.general_helper_functions.</code><code class="sig-name descname">identify_time_columns</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">manual</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.helpers.general_helper_functions.identify_time_columns" title="Permalink to this definition">¶</a></dt>
<dd><p>gets you a list of ‘datelike’ columns</p>
<p>in the case that you are reading from csv files, sometimes we have datetimes
and these need to be converted to pd.datetime format.  parse_dates=True
does not always work.  If you know the columns you want to cast as dates
that is OK, but if you don’t then use this to get a list of datelike cols</p>
<p>Also Supports a manually supplied list.</p>
<p>Could make this use a list of accepted formats (%Y-%m-%d %H:%M:%S, etc)
for multiple lambda funcitons</p>
</dd></dl>

<dl class="py function">
<dt id="dcrhino3.helpers.general_helper_functions.init_logging">
<code class="sig-prename descclassname">dcrhino3.helpers.general_helper_functions.</code><code class="sig-name descname">init_logging</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.helpers.general_helper_functions.init_logging" title="Permalink to this definition">¶</a></dt>
<dd><p>Start a basic logger.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – name of logger</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>logger to record DataCloud-specific warnings, errors, and steps.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="dcrhino3.helpers.general_helper_functions.init_logging_to_file">
<code class="sig-prename descclassname">dcrhino3.helpers.general_helper_functions.</code><code class="sig-name descname">init_logging_to_file</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.helpers.general_helper_functions.init_logging_to_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Start a basic logger.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – name of logger</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>logger to record DataCloud-specific warnings, errors, and steps.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="dcrhino3.helpers.general_helper_functions.json_string_to_object">
<code class="sig-prename descclassname">dcrhino3.helpers.general_helper_functions.</code><code class="sig-name descname">json_string_to_object</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">_str</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.helpers.general_helper_functions.json_string_to_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts json string to object using json.loads()</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>_str</strong> – Json string to be converted</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>dictionary created from json string</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(dict)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="dcrhino3.helpers.general_helper_functions.merge_two_dicts">
<code class="sig-prename descclassname">dcrhino3.helpers.general_helper_functions.</code><code class="sig-name descname">merge_two_dicts</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">y</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.helpers.general_helper_functions.merge_two_dicts" title="Permalink to this definition">¶</a></dt>
<dd><p>Merge two dictionaries.</p>
<blockquote>
<div><p><a class="reference external" href="https://stackoverflow.com/questions/38987/how-to-merge-two-dictionaries-in-a-single_expression">Stackoverflow Merge</a></p>
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In python 3.5 and higher use <code class="code docutils literal notranslate"><span class="pre">z</span> <span class="pre">=</span> <span class="pre">{**x,</span> <span class="pre">**y}</span></code> But for now use this</p>
</div>
</dd></dl>

<dl class="py function">
<dt id="dcrhino3.helpers.general_helper_functions.pretty_print_array">
<code class="sig-prename descclassname">dcrhino3.helpers.general_helper_functions.</code><code class="sig-name descname">pretty_print_array</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">RA</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.helpers.general_helper_functions.pretty_print_array" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition-todo admonition" id="id20">
<p class="admonition-title">Todo</p>
<p>20151223: need this to compare arrays</p>
</div>
</dd></dl>

<dl class="py function">
<dt id="dcrhino3.helpers.general_helper_functions.remove_unicode">
<code class="sig-prename descclassname">dcrhino3.helpers.general_helper_functions.</code><code class="sig-name descname">remove_unicode</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">list_of_unicodes</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.helpers.general_helper_functions.remove_unicode" title="Permalink to this definition">¶</a></dt>
<dd><p>pandas columns always has u’name’ style.  This can be a PITA when you have
many such columns and need to paste and work with them.  THis strips the u
list_of_unicodes:</p>
</dd></dl>

<dl class="py function">
<dt id="dcrhino3.helpers.general_helper_functions.var_or_dict_from_json_str">
<code class="sig-prename descclassname">dcrhino3.helpers.general_helper_functions.</code><code class="sig-name descname">var_or_dict_from_json_str</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">var</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.helpers.general_helper_functions.var_or_dict_from_json_str" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert json string to variable or dictionary, returns them.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>var</strong> (<em>var</em>) – json serialized string to be decoded</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>dictionary from json string or (var) if json.load(var) raises exception</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="module-dcrhino3.helpers.dataframe_helpers"></span><p>Created on Tue Sep 10 11:34:15 2019</p>
<p>&#64;author: kkappler</p>
<p>Catchall for methods that are dataframe specific that do not really belong in
general_helper_functions (which is more for string methods, pathing, etc)</p>
<dl class="py function">
<dt id="dcrhino3.helpers.dataframe_helpers.df_component_as_array">
<code class="sig-prename descclassname">dcrhino3.helpers.dataframe_helpers.</code><code class="sig-name descname">df_component_as_array</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">component_id</span></em>, <em class="sig-param"><span class="n">dataframe</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.helpers.dataframe_helpers.df_component_as_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the data form component as a 2d numpy array with trace index
running along rows (zero-index).  Useful for slicing data and linalg.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>component_id</strong> (<em>str</em>) – axial/tangential/radial</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>extracted trace, selected by component_id</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(array)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="dcrhino3.helpers.dataframe_helpers.main">
<code class="sig-prename descclassname">dcrhino3.helpers.dataframe_helpers.</code><code class="sig-name descname">main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.helpers.dataframe_helpers.main" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="dcrhino3.helpers.dataframe_helpers.my_function">
<code class="sig-prename descclassname">dcrhino3.helpers.dataframe_helpers.</code><code class="sig-name descname">my_function</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.helpers.dataframe_helpers.my_function" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="dcrhino3.helpers.dataframe_helpers.split_data_frame_into_smaller">
<code class="sig-prename descclassname">dcrhino3.helpers.dataframe_helpers.</code><code class="sig-name descname">split_data_frame_into_smaller</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">chunk_size</span><span class="o">=</span><span class="default_value">10000</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.helpers.dataframe_helpers.split_data_frame_into_smaller" title="Permalink to this definition">¶</a></dt>
<dd><p>Slices up DataFrame into small “chunks”</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>DataFrame</em>) – to be sliced up</p></li>
<li><p><strong>chunk_size</strong> (<em>positive integer</em>) – max index length of each slice</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list of DataFrames (1 DataFrame = 1 slice)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(list)</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="module-dcrhino3.helpers.mwd_rhino_merger"></span><p>Created on Tue Jan 22 14:54:20 2019</p>
<p>Author: thiago</p>
<dl class="py class">
<dt id="dcrhino3.helpers.mwd_rhino_merger.MWDRhinoMerger">
<em class="property">class </em><code class="sig-prename descclassname">dcrhino3.helpers.mwd_rhino_merger.</code><code class="sig-name descname">MWDRhinoMerger</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file_list</span></em>, <em class="sig-param"><span class="n">mwd_dc_df</span></em>, <em class="sig-param"><span class="n">generate</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.helpers.mwd_rhino_merger.MWDRhinoMerger" title="Permalink to this definition">¶</a></dt>
<dd><p>Merges MWD with trace data by demarcating timestamps, retrieving data, matching and merging.</p>
<dl class="py method">
<dt id="dcrhino3.helpers.mwd_rhino_merger.MWDRhinoMerger.get_interpolated_categorical_column">
<code class="sig-name descname">get_interpolated_categorical_column</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">time_vector</span></em>, <em class="sig-param"><span class="n">mwd_hole_df</span></em>, <em class="sig-param"><span class="n">column_label</span></em>, <em class="sig-param"><span class="n">end_time_column_label</span><span class="o">=</span><span class="default_value">'start_time'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.helpers.mwd_rhino_merger.MWDRhinoMerger.get_interpolated_categorical_column" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time_vector</strong> (<em>Pandas Date Range</em>) – period of interest, for example:
pd.date_range(start=row.time_start, periods=num_traces_in_blasthole, freq=’1S’)</p></li>
<li><p><strong>mwd_hole_df</strong> (<em>Dataframe</em>) – dataframe containing column_label, to be interpolated</p></li>
<li><p><strong>column_label</strong> (<em>str</em>) – what to interp … for example ‘computed_elevation’</p></li>
</ul>
</dd>
<dt class="field-even">Other Parameters</dt>
<dd class="field-even"><p><strong>end_time_column_label</strong> (<em>str</em>) – ‘start_time’ to select timeframe to interp</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Interped data, for example the depths of the traces</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Uses kneigbors nearest vote interp function instead of the
1D, linear interpolation method used in <a class="reference internal" href="#dcrhino3.helpers.mwd_rhino_merger.MWDRhinoMerger.get_interpolated_column" title="dcrhino3.helpers.mwd_rhino_merger.MWDRhinoMerger.get_interpolated_column"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_interpolated_column()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.helpers.mwd_rhino_merger.MWDRhinoMerger.get_interpolated_column">
<code class="sig-name descname">get_interpolated_column</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">time_vector</span></em>, <em class="sig-param"><span class="n">mwd_hole_df</span></em>, <em class="sig-param"><span class="n">column_label</span></em>, <em class="sig-param"><span class="n">end_time_column_label</span><span class="o">=</span><span class="default_value">'start_time'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.helpers.mwd_rhino_merger.MWDRhinoMerger.get_interpolated_column" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time_vector</strong> (<em>Pandas Date Range</em>) – period of interest, for example:
pd.date_range(start=row.time_start, periods=num_traces_in_blasthole, freq=’1S’)</p></li>
<li><p><strong>mwd_hole_df</strong> (<em>Dataframe</em>) – dataframe containing column_label, to be interpolated</p></li>
<li><p><strong>column_label</strong> (<em>str</em>) – what to interp … for example ‘computed_elevation’</p></li>
</ul>
</dd>
<dt class="field-even">Other Parameters</dt>
<dd class="field-even"><p><strong>end_time_column_label</strong> (<em>str</em>) – ‘start_time’ to select timeframe to interp</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Interped data, for example the depths of the traces</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Uses 1D, linear interpolation function instead of the kneighbors
method used in <a class="reference internal" href="#dcrhino3.helpers.mwd_rhino_merger.MWDRhinoMerger.get_interpolated_categorical_column" title="dcrhino3.helpers.mwd_rhino_merger.MWDRhinoMerger.get_interpolated_categorical_column"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_interpolated_categorical_column()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.helpers.mwd_rhino_merger.MWDRhinoMerger.get_min_max_time">
<code class="sig-name descname">get_min_max_time</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">bench_name</span></em>, <em class="sig-param"><span class="n">pattern_name</span></em>, <em class="sig-param"><span class="n">hole_name</span></em>, <em class="sig-param"><span class="n">hole_id</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.helpers.mwd_rhino_merger.MWDRhinoMerger.get_min_max_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the min and max timestamps for each hole id</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>hole_id</strong> (<em>str</em>) – hole identifier</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>minimum and maximum timestamps</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.helpers.mwd_rhino_merger.MWDRhinoMerger.get_mwd_interpolated_by_second">
<code class="sig-name descname">get_mwd_interpolated_by_second</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">hole_mwd</span></em>, <em class="sig-param"><span class="n">time_vector</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.helpers.mwd_rhino_merger.MWDRhinoMerger.get_mwd_interpolated_by_second" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve interpolated mwd values from dataframe only for a specific time vector.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>hole_mwd</strong> (<em>DataFrame</em>) – mwd dataframe</p></li>
<li><p><strong>tme_vector</strong> (<em>Pandas Date Range</em>) – time to take snippet from</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>interpolated mwd from time specified</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(DataFrame)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.helpers.mwd_rhino_merger.MWDRhinoMerger.merge_mwd_with_trace">
<code class="sig-name descname">merge_mwd_with_trace</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">hole_mwd</span></em>, <em class="sig-param"><span class="n">trace_data</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.helpers.mwd_rhino_merger.MWDRhinoMerger.merge_mwd_with_trace" title="Permalink to this definition">¶</a></dt>
<dd><p>Concatenate (along columns) rhino traces and interpolated hole mwd data from
<a class="reference internal" href="#dcrhino3.helpers.mwd_rhino_merger.MWDRhinoMerger.get_mwd_interpolated_by_second" title="dcrhino3.helpers.mwd_rhino_merger.MWDRhinoMerger.get_mwd_interpolated_by_second"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_mwd_interpolated_by_second()</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>hole_mwd</strong> (<em>Dataframe</em>) – hole mwd data</p></li>
<li><p><strong>trace_data</strong> (<em>Dataframe</em>) – trace data</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>dataframe combining the two dataframes’ columns</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(DataFrame)</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<span class="target" id="module-dcrhino3.helpers.process_flow_helper_functions"></span><p>Created on Mon Jun  3 14:04:10 2019</p>
<p>&#64;author: kkappler</p>
<p>Note this is helper functions rather than a class.</p>
<dl class="py function">
<dt id="dcrhino3.helpers.process_flow_helper_functions.handle_supplied_txt_file">
<code class="sig-prename descclassname">dcrhino3.helpers.process_flow_helper_functions.</code><code class="sig-name descname">handle_supplied_txt_file</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">txt_filename</span></em>, <em class="sig-param"><span class="n">json_path</span></em>, <em class="sig-param"><span class="n">txt_path</span></em>, <em class="sig-param"><span class="n">default_json</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.helpers.process_flow_helper_functions.handle_supplied_txt_file" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a list of tuples.  [(), (), (), …()]
where each tuple has the form (h5_filename, json)</p>
</dd></dl>

<dl class="py function">
<dt id="dcrhino3.helpers.process_flow_helper_functions.main">
<code class="sig-prename descclassname">dcrhino3.helpers.process_flow_helper_functions.</code><code class="sig-name descname">main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.helpers.process_flow_helper_functions.main" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="dcrhino3.helpers.process_flow_helper_functions.parse_txt_list_of_h5_and_json">
<code class="sig-prename descclassname">dcrhino3.helpers.process_flow_helper_functions.</code><code class="sig-name descname">parse_txt_list_of_h5_and_json</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">process_in_file</span></em>, <em class="sig-param"><span class="n">default_process_json</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.helpers.process_flow_helper_functions.parse_txt_list_of_h5_and_json" title="Permalink to this definition">¶</a></dt>
<dd><p>The .txt file can be either a list of h5 files to process, OR it can
also be a list of files and process_json separated by a space.
This is the parser for those txt files after they have been read and
are a list of one line per element.
20190603: modified so that json is requires full path if given in .txt</p>
</dd></dl>

<dl class="py function">
<dt id="dcrhino3.helpers.process_flow_helper_functions.test">
<code class="sig-prename descclassname">dcrhino3.helpers.process_flow_helper_functions.</code><code class="sig-name descname">test</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.helpers.process_flow_helper_functions.test" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<span class="target" id="module-dcrhino3.models.config"></span><p>Author: thiago</p>
<dl class="py class">
<dt id="dcrhino3.models.config.Config">
<em class="property">class </em><code class="sig-prename descclassname">dcrhino3.models.config.</code><code class="sig-name descname">Config</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">metadata</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">env_config_parser</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">config_parser</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.config.Config" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py method">
<dt id="dcrhino3.models.config.Config.component_index">
<code class="sig-name descname">component_index</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">component_id</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.config.Config.component_index" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#dcrhino3.models.config.Config.get_component_index" title="dcrhino3.models.config.Config.get_component_index"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_component_index()</span></code></a></p>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.config.Config.components_to_process">
<em class="property">property </em><code class="sig-name descname">components_to_process</code><a class="headerlink" href="#dcrhino3.models.config.Config.components_to_process" title="Permalink to this definition">¶</a></dt>
<dd><p>D</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list of strings of components to collect/process</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.config.Config.get_component_index">
<code class="sig-name descname">get_component_index</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">component_id</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.config.Config.get_component_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns integer, representing the index of that component in component_id.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>component_id</strong> (<em>str</em>) – ‘axial’, ‘tangentia’, or ‘radial’</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>this is the index assocaited with the component label</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(int)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.config.Config.ideal_timestamps">
<em class="property">property </em><code class="sig-name descname">ideal_timestamps</code><a class="headerlink" href="#dcrhino3.models.config.Config.ideal_timestamps" title="Permalink to this definition">¶</a></dt>
<dd><p>Set ideal timestamps of equal interval for our trace length.</p>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.config.Config.installed_resonant_length">
<em class="property">property </em><code class="sig-name descname">installed_resonant_length</code><a class="headerlink" href="#dcrhino3.models.config.Config.installed_resonant_length" title="Permalink to this definition">¶</a></dt>
<dd><p>this is the distance from the bottom of the shocksub to the bottom of the bit</p>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.config.Config.json_string">
<code class="sig-name descname">json_string</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.config.Config.json_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Store current variables in json string.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>JSON string of module variables</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>(json)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.config.Config.n_samples_trimmed_trace">
<em class="property">property </em><code class="sig-name descname">n_samples_trimmed_trace</code><a class="headerlink" href="#dcrhino3.models.config.Config.n_samples_trimmed_trace" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns:
(int): the total number of samples in the trimmed_trace, calculated</p>
<blockquote>
<div><p>by sampling_rate and time ecnompassed.</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.config.Config.n_spiking_decon_filter_taps">
<em class="property">property </em><code class="sig-name descname">n_spiking_decon_filter_taps</code><a class="headerlink" href="#dcrhino3.models.config.Config.n_spiking_decon_filter_taps" title="Permalink to this definition">¶</a></dt>
<dd><p>D</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>number of <em>spiking</em> decon filter coefficients (a.k.a. the order)</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>(int)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.config.Config.num_taps_in_decon_filter">
<em class="property">property </em><code class="sig-name descname">num_taps_in_decon_filter</code><a class="headerlink" href="#dcrhino3.models.config.Config.num_taps_in_decon_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Save number of coefficients in the deconvolution filter, calculated with
<code class="xref py py-func docutils literal notranslate"><span class="pre">_get_num_decon_taps()</span></code></p>
<div class="admonition-todo admonition" id="id21">
<p class="admonition-title">Todo</p>
<p>confirm type is int returned by get_num_decon_taps()</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.config.Config.samples_per_trace">
<em class="property">property </em><code class="sig-name descname">samples_per_trace</code><a class="headerlink" href="#dcrhino3.models.config.Config.samples_per_trace" title="Permalink to this definition">¶</a></dt>
<dd><p>D</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>number of samples per trace</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>(int)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.config.Config.set_config_parser">
<code class="sig-name descname">set_config_parser</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config_parser</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.config.Config.set_config_parser" title="Permalink to this definition">¶</a></dt>
<dd><p>Can be the env_config_parser here …</p>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.config.Config.set_metadata">
<code class="sig-name descname">set_metadata</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">metadata</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.config.Config.set_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert datetime objects (in metadata) to strings to facilitate <code class="xref py py-func docutils literal notranslate"><span class="pre">json_str()</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>metadata</strong> (<em>dataframe</em>) – metadata on the hole/mine/process</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>20181212: json.dump does not seem to like datetime objects,
so we cast as strings
#key_list = [key for key, data_type in METADATA_HEADER_FORMAT_KEYS.items()]</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.config.Config.trimmed_trace_duration">
<em class="property">property </em><code class="sig-name descname">trimmed_trace_duration</code><a class="headerlink" href="#dcrhino3.models.config.Config.trimmed_trace_duration" title="Permalink to this definition">¶</a></dt>
<dd><p>Re-assign duration to reflect trimmed trace.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>duration of trimmed trace</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>(float)</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<span class="target" id="module-dcrhino3.models.config2"></span><p>Author: thiago</p>
<dl class="py class">
<dt id="dcrhino3.models.config2.Config">
<em class="property">class </em><code class="sig-prename descclassname">dcrhino3.models.config2.</code><code class="sig-name descname">Config</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">acquisition_config</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">json_data</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.config2.Config" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py method">
<dt id="dcrhino3.models.config2.Config.component_index">
<code class="sig-name descname">component_index</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">component_id</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.config2.Config.component_index" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#dcrhino3.models.config2.Config.get_component_index" title="dcrhino3.models.config2.Config.get_component_index"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_component_index()</span></code></a></p>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.config2.Config.components_to_process">
<em class="property">property </em><code class="sig-name descname">components_to_process</code><a class="headerlink" href="#dcrhino3.models.config2.Config.components_to_process" title="Permalink to this definition">¶</a></dt>
<dd><p>D</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list of strings of components to collect/process</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.config2.Config.duplicate_config">
<code class="sig-name descname">duplicate_config</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.config2.Config.duplicate_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates an independent copy of an instance of the object
:return: a new copy of the object</p>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.config2.Config.get_component_index">
<code class="sig-name descname">get_component_index</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">component_id</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.config2.Config.get_component_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns integer, representing the index of that component in component_id.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>component_id</strong> (<em>str</em>) – ‘axial’, ‘tangentia’, or ‘radial’</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>this is the index assocaited with the component label</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(int)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.config2.Config.json_string">
<code class="sig-name descname">json_string</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.config2.Config.json_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Store current variables in json string.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>JSON string of module variables</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>(json)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.config2.Config.keys">
<code class="sig-name descname">keys</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.config2.Config.keys" title="Permalink to this definition">¶</a></dt>
<dd><p>only returns the keys that are important for the config file that is saved in the h5 files (pipeline_files)</p>
<p>:return:a dictionary with the keys of the pipeline files</p>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.config2.Config.level_0_path">
<em class="property">property </em><code class="sig-name descname">level_0_path</code><a class="headerlink" href="#dcrhino3.models.config2.Config.level_0_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns:
Path from <code class="xref py py-func docutils literal notranslate"><span class="pre">field_base_path()</span></code> joined by level_0</p>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.config2.Config.n_samples_trimmed_trace">
<em class="property">property </em><code class="sig-name descname">n_samples_trimmed_trace</code><a class="headerlink" href="#dcrhino3.models.config2.Config.n_samples_trimmed_trace" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns:
(int): the total number of samples in the trimmed_trace, calculated</p>
<blockquote>
<div><p>by sampling_rate and time ecnompassed.</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.config2.Config.n_spiking_decon_filter_taps">
<em class="property">property </em><code class="sig-name descname">n_spiking_decon_filter_taps</code><a class="headerlink" href="#dcrhino3.models.config2.Config.n_spiking_decon_filter_taps" title="Permalink to this definition">¶</a></dt>
<dd><p>D</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>number of <em>spiking</em> decon filter coefficients (a.k.a. the order)</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>(int)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.config2.Config.num_taps_in_decon_filter">
<em class="property">property </em><code class="sig-name descname">num_taps_in_decon_filter</code><a class="headerlink" href="#dcrhino3.models.config2.Config.num_taps_in_decon_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Save number of coefficients in the deconvolution filter, calculated with
<code class="xref py py-func docutils literal notranslate"><span class="pre">_get_num_decon_taps()</span></code></p>
<div class="admonition-todo admonition" id="id22">
<p class="admonition-title">Todo</p>
<p>confirm type is int returned by get_num_decon_taps()</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.config2.Config.samples_per_trace">
<em class="property">property </em><code class="sig-name descname">samples_per_trace</code><a class="headerlink" href="#dcrhino3.models.config2.Config.samples_per_trace" title="Permalink to this definition">¶</a></dt>
<dd><p>D</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>number of samples per trace</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>(int)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.config2.Config.trimmed_trace_duration">
<em class="property">property </em><code class="sig-name descname">trimmed_trace_duration</code><a class="headerlink" href="#dcrhino3.models.config2.Config.trimmed_trace_duration" title="Permalink to this definition">¶</a></dt>
<dd><p>Re-assign duration to reflect trimmed trace.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>duration of trimmed trace</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>(float)</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<span class="target" id="module-dcrhino3.models.env_config"></span><dl class="py class">
<dt id="dcrhino3.models.env_config.EnvConfig">
<em class="property">class </em><code class="sig-prename descclassname">dcrhino3.models.env_config.</code><code class="sig-name descname">EnvConfig</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">env_conf_json_path</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.env_config.EnvConfig" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py method">
<dt id="dcrhino3.models.env_config.EnvConfig.get_hole_h5_interpolated_cache_folder">
<code class="sig-name descname">get_hole_h5_interpolated_cache_folder</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mine_name</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.env_config.EnvConfig.get_hole_h5_interpolated_cache_folder" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>mine_name</strong> (<em>str</em>) – mine name</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Path to h5 interpolated cache folder for the mine named, False if missing</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.env_config.EnvConfig.get_hole_h5_processed_cache_folder">
<code class="sig-name descname">get_hole_h5_processed_cache_folder</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mine_name</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.env_config.EnvConfig.get_hole_h5_processed_cache_folder" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>mine_name</strong> (<em>str</em>) – mine name</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Path to h5 processed cache folder for the mine named, False if missing</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.env_config.EnvConfig.get_mp_config">
<code class="sig-name descname">get_mp_config</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mine_name</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.env_config.EnvConfig.get_mp_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Get database configuration from mine_cfg dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>mine_cfg[‘mwd’][‘db’] or False if mwd missing from keys of mine_cfg</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.env_config.EnvConfig.get_mwd_csv_cfg">
<code class="sig-name descname">get_mwd_csv_cfg</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mine_name</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.env_config.EnvConfig.get_mwd_csv_cfg" title="Permalink to this definition">¶</a></dt>
<dd><p>Get csv configuration from mine_cfg dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>mine_cfg[‘mwd’][‘csv’] or False if mwd missing from keys of mine_cfg</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.env_config.EnvConfig.get_mwd_db_cfg">
<code class="sig-name descname">get_mwd_db_cfg</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mine_name</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.env_config.EnvConfig.get_mwd_db_cfg" title="Permalink to this definition">¶</a></dt>
<dd><p>Get database configuration from mine_cfg dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>mine_cfg[‘mwd’][‘db’] or False if mwd missing from keys of mine_cfg</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.env_config.EnvConfig.get_mwd_type">
<code class="sig-name descname">get_mwd_type</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mine_name</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.env_config.EnvConfig.get_mwd_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Get data file type.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>CSV or DATABASE to MwdType key</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.env_config.EnvConfig.get_rhino_db_connection_from_mine_name">
<code class="sig-name descname">get_rhino_db_connection_from_mine_name</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mine_name</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.env_config.EnvConfig.get_rhino_db_connection_from_mine_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Search env_config.json for rhino_db_connection credentials.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>rhino_db_connection (host,user,password,database),
or False if missing from env_config</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.env_config.EnvConfig.get_sensor_files_storage_folder">
<code class="sig-name descname">get_sensor_files_storage_folder</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mine_name</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.env_config.EnvConfig.get_sensor_files_storage_folder" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>mine_name</strong> (<em>str</em>) – mine name</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Path to h5 interpolated cache folder for the mine named, False if missing</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.env_config.EnvConfig.is_file_blacklisted">
<code class="sig-name descname">is_file_blacklisted</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.env_config.EnvConfig.is_file_blacklisted" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True is blacklisted, False if not</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>(bool)</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="dcrhino3.models.env_config.MwdType">
<em class="property">class </em><code class="sig-prename descclassname">dcrhino3.models.env_config.</code><code class="sig-name descname">MwdType</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.env_config.MwdType" title="Permalink to this definition">¶</a></dt>
<dd><p>An enumeration.</p>
</dd></dl>

<span class="target" id="module-dcrhino3.models.interval"></span><p>Source <a class="reference external" href="https://github.com/internetarchive/analyze_ocr/blob/master/interval.py">https://github.com/internetarchive/analyze_ocr/blob/master/interval.py</a>
Liscence Not Specified</p>
<p>Provides the Interval and IntervalSet classes</p>
<p>The interval module provides the Interval and IntervalSet data types.
Intervals describe continuous ranges that can be open, closed, half-open,
or infinite.  IntervalSets contain zero to many disjoint sets of
Intervals.</p>
<p>Intervals don’t have to pertain to numbers.  They can contain any data
that is comparable via the Python operators &lt;, &lt;=, ==, &gt;=, and &gt;.  Here’s
an example of how strings can be used with Intervals:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">volume1</span> <span class="o">=</span> <span class="n">Interval</span><span class="o">.</span><span class="n">between</span><span class="p">(</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;Foe&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">volume2</span> <span class="o">=</span> <span class="n">Interval</span><span class="o">.</span><span class="n">between</span><span class="p">(</span><span class="s2">&quot;Fog&quot;</span><span class="p">,</span> <span class="s2">&quot;McAfee&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">volume3</span> <span class="o">=</span> <span class="n">Interval</span><span class="o">.</span><span class="n">between</span><span class="p">(</span><span class="s2">&quot;McDonalds&quot;</span><span class="p">,</span> <span class="s2">&quot;Space&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">volume4</span> <span class="o">=</span> <span class="n">Interval</span><span class="o">.</span><span class="n">between</span><span class="p">(</span><span class="s2">&quot;Spade&quot;</span><span class="p">,</span> <span class="s2">&quot;Zygote&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">encyclopedia</span> <span class="o">=</span> <span class="n">IntervalSet</span><span class="p">([</span><span class="n">volume1</span><span class="p">,</span> <span class="n">volume2</span><span class="p">,</span> <span class="n">volume3</span><span class="p">,</span> <span class="n">volume4</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mySet</span> <span class="o">=</span> <span class="n">IntervalSet</span><span class="p">([</span><span class="n">volume1</span><span class="p">,</span> <span class="n">volume3</span><span class="p">,</span> <span class="n">volume4</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s2">&quot;Meteor&quot;</span> <span class="ow">in</span> <span class="n">encyclopedia</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s2">&quot;Goose&quot;</span> <span class="ow">in</span> <span class="n">encyclopedia</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s2">&quot;Goose&quot;</span> <span class="ow">in</span> <span class="n">mySet</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">volume2</span> <span class="ow">in</span> <span class="p">(</span><span class="n">encyclopedia</span> <span class="o">^</span> <span class="n">mySet</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Here’s an example of how times can be used with Intervals:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">officeHours</span> <span class="o">=</span> <span class="n">IntervalSet</span><span class="o">.</span><span class="n">between</span><span class="p">(</span><span class="s2">&quot;08:00&quot;</span><span class="p">,</span> <span class="s2">&quot;17:00&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">myLunch</span> <span class="o">=</span> <span class="n">IntervalSet</span><span class="o">.</span><span class="n">between</span><span class="p">(</span><span class="s2">&quot;11:30&quot;</span><span class="p">,</span> <span class="s2">&quot;12:30&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">myHours</span> <span class="o">=</span> <span class="n">IntervalSet</span><span class="o">.</span><span class="n">between</span><span class="p">(</span><span class="s2">&quot;08:30&quot;</span><span class="p">,</span> <span class="s2">&quot;19:30&quot;</span><span class="p">)</span> <span class="o">-</span> <span class="n">myLunch</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">myHours</span><span class="o">.</span><span class="n">issubset</span><span class="p">(</span><span class="n">officeHours</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s2">&quot;12:00&quot;</span> <span class="ow">in</span> <span class="n">myHours</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s2">&quot;15:30&quot;</span> <span class="ow">in</span> <span class="n">myHours</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inOffice</span> <span class="o">=</span> <span class="n">officeHours</span> <span class="o">&amp;</span> <span class="n">myHours</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">inOffice</span>
<span class="go">[&#39;08:30&#39;..&#39;11:30&#39;),(&#39;12:30&#39;..&#39;17:00&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">overtime</span> <span class="o">=</span> <span class="n">myHours</span> <span class="o">-</span> <span class="n">officeHours</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">overtime</span>
<span class="go">(&#39;17:00&#39;..&#39;19:30&#39;]</span>
</pre></div>
</div>
<dl class="py class">
<dt id="dcrhino3.models.interval.BaseIntervalSet">
<em class="property">class </em><code class="sig-prename descclassname">dcrhino3.models.interval.</code><code class="sig-name descname">BaseIntervalSet</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">items</span><span class="o">=</span><span class="default_value">[]</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.interval.BaseIntervalSet" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for IntervalSet and FrozenIntervalSet.</p>
<dl class="py method">
<dt id="dcrhino3.models.interval.BaseIntervalSet.all">
<em class="property">classmethod </em><code class="sig-name descname">all</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.interval.BaseIntervalSet.all" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an interval set containing all values</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">IntervalSet</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
<span class="go">(...)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.interval.BaseIntervalSet.between">
<em class="property">classmethod </em><code class="sig-name descname">between</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">a</span></em>, <em class="sig-param"><span class="n">b</span></em>, <em class="sig-param"><span class="n">closed</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.interval.BaseIntervalSet.between" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an IntervalSet of all values between a and b.</p>
<p>If closed is True, then the endpoints are included; otherwise, they
aren’t.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">IntervalSet</span><span class="o">.</span><span class="n">between</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="go">[0..100]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">IntervalSet</span><span class="o">.</span><span class="n">between</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">[-1..1]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.interval.BaseIntervalSet.bounds">
<code class="sig-name descname">bounds</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.interval.BaseIntervalSet.bounds" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an interval that encompasses the entire BaseIntervalSet</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">IntervalSet</span><span class="p">([</span><span class="n">Interval</span><span class="o">.</span><span class="n">between</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">12</span><span class="p">])</span><span class="o">.</span><span class="n">bounds</span><span class="p">()</span>
<span class="go">[2..12]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">IntervalSet</span><span class="p">()</span><span class="o">.</span><span class="n">bounds</span><span class="p">()</span>
<span class="go">&lt;Empty&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">IntervalSet</span><span class="o">.</span><span class="n">all</span><span class="p">()</span><span class="o">.</span><span class="n">bounds</span><span class="p">()</span>
<span class="go">(...)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.interval.BaseIntervalSet.copy">
<code class="sig-name descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.interval.BaseIntervalSet.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a copy of the object</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">IntervalSet</span><span class="p">(</span>
<span class="gp">... </span>  <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">Interval</span><span class="o">.</span><span class="n">greater_than</span><span class="p">(</span><span class="mi">3</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s2</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">==</span> <span class="n">s2</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">FrozenIntervalSet</span><span class="p">(</span>
<span class="gp">... </span>  <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">Interval</span><span class="o">.</span><span class="n">greater_than</span><span class="p">(</span><span class="mi">3</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s2</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">==</span> <span class="n">s2</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.interval.BaseIntervalSet.difference">
<code class="sig-name descname">difference</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">other</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.interval.BaseIntervalSet.difference" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the difference between the object and the given object</p>
<p>Returns all values of self minus all matching values in other.  It
is identical to the - operator, only it accepts any iterable as
the operand.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">negatives</span> <span class="o">=</span> <span class="n">IntervalSet</span><span class="o">.</span><span class="n">less_than</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">positives</span> <span class="o">=</span> <span class="n">IntervalSet</span><span class="o">.</span><span class="n">greater_than</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">naturals</span>  <span class="o">=</span> <span class="n">IntervalSet</span><span class="o">.</span><span class="n">greater_than_or_equal_to</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">evens</span>     <span class="o">=</span> <span class="n">IntervalSet</span><span class="p">([</span><span class="o">-</span><span class="mi">8</span><span class="p">,</span> <span class="o">-</span><span class="mi">6</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">zero</span>      <span class="o">=</span> <span class="n">IntervalSet</span><span class="p">([</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nonzero</span>   <span class="o">=</span> <span class="n">IntervalSet</span><span class="o">.</span><span class="n">not_equal_to</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">empty</span>     <span class="o">=</span> <span class="n">IntervalSet</span><span class="o">.</span><span class="n">empty</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">all</span>       <span class="o">=</span> <span class="n">IntervalSet</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">evens</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span><span class="n">nonzero</span><span class="p">)</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">empty</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span><span class="n">naturals</span><span class="p">)</span>
<span class="go">&lt;Empty&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">zero</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span><span class="n">naturals</span><span class="p">)</span>
<span class="go">&lt;Empty&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">positives</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span><span class="n">zero</span><span class="p">)</span>
<span class="go">(0...)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">naturals</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span><span class="n">negatives</span><span class="p">)</span>
<span class="go">[0...)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="nb">all</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span><span class="n">zero</span><span class="p">)</span>
<span class="go">(...0),(0...)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">all</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span><span class="n">zero</span><span class="p">)</span> <span class="o">==</span> <span class="n">nonzero</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">naturals</span><span class="o">.</span><span class="n">difference</span><span class="p">([</span><span class="mi">0</span><span class="p">])</span> <span class="o">==</span> <span class="n">positives</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.interval.BaseIntervalSet.empty">
<em class="property">classmethod </em><code class="sig-name descname">empty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.interval.BaseIntervalSet.empty" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an interval set containing no values.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">IntervalSet</span><span class="o">.</span><span class="n">empty</span><span class="p">()</span>
<span class="go">&lt;Empty&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.interval.BaseIntervalSet.greater_than">
<em class="property">classmethod </em><code class="sig-name descname">greater_than</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.interval.BaseIntervalSet.greater_than" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an IntervalSet containing values greater than the given value</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">IntervalSet</span><span class="o">.</span><span class="n">greater_than</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">(0...)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">IntervalSet</span><span class="o">.</span><span class="n">greater_than</span><span class="p">(</span><span class="o">-</span><span class="mi">23</span><span class="p">)</span>
<span class="go">(-23...)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.interval.BaseIntervalSet.greater_than_or_equal_to">
<em class="property">classmethod </em><code class="sig-name descname">greater_than_or_equal_to</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.interval.BaseIntervalSet.greater_than_or_equal_to" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an IntervalSet containing values greater than or equal to
the given value</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">IntervalSet</span><span class="o">.</span><span class="n">greater_than_or_equal_to</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">[0...)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">IntervalSet</span><span class="o">.</span><span class="n">greater_than_or_equal_to</span><span class="p">(</span><span class="o">-</span><span class="mi">23</span><span class="p">)</span>
<span class="go">[-23...)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.interval.BaseIntervalSet.intersection">
<code class="sig-name descname">intersection</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">other</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.interval.BaseIntervalSet.intersection" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the intersection between the object and the given value</p>
<p>This function returns the intersection of self and other.  It is
identical to the &amp; operator, except this function accepts any
iterable as an operand, and &amp; accepts only another
BaseIntervalSet.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">negatives</span> <span class="o">=</span> <span class="n">IntervalSet</span><span class="o">.</span><span class="n">less_than</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">positives</span> <span class="o">=</span> <span class="n">IntervalSet</span><span class="o">.</span><span class="n">greater_than</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">naturals</span>  <span class="o">=</span> <span class="n">IntervalSet</span><span class="o">.</span><span class="n">greater_than_or_equal_to</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">evens</span>     <span class="o">=</span> <span class="n">IntervalSet</span><span class="p">([</span><span class="o">-</span><span class="mi">8</span><span class="p">,</span> <span class="o">-</span><span class="mi">6</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">zero</span>      <span class="o">=</span> <span class="n">IntervalSet</span><span class="p">([</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nonzero</span>   <span class="o">=</span> <span class="n">IntervalSet</span><span class="o">.</span><span class="n">not_equal_to</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">empty</span>     <span class="o">=</span> <span class="n">IntervalSet</span><span class="o">.</span><span class="n">empty</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">naturals</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">naturals</span><span class="p">)</span>
<span class="go">[0...)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">evens</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">zero</span><span class="p">)</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">negatives</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">zero</span><span class="p">)</span>
<span class="go">&lt;Empty&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">nonzero</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">positives</span><span class="p">)</span>
<span class="go">(0...)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">empty</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">zero</span><span class="p">)</span>
<span class="go">&lt;Empty&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.interval.BaseIntervalSet.issubset">
<code class="sig-name descname">issubset</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">other</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.interval.BaseIntervalSet.issubset" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells if the given object is a subset of the object</p>
<p>Returns true if self is a subset of other.  other can be any
iterable object.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">zero</span> <span class="o">=</span> <span class="n">IntervalSet</span><span class="p">([</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">positives</span> <span class="o">=</span> <span class="n">IntervalSet</span><span class="o">.</span><span class="n">greater_than</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">naturals</span> <span class="o">=</span> <span class="n">IntervalSet</span><span class="o">.</span><span class="n">greater_than_or_equal_to</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">negatives</span> <span class="o">=</span> <span class="n">IntervalSet</span><span class="o">.</span><span class="n">less_than</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">IntervalSet</span><span class="o">.</span><span class="n">between</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r2</span> <span class="o">=</span> <span class="n">IntervalSet</span><span class="o">.</span><span class="n">between</span><span class="p">(</span><span class="o">-</span><span class="mi">8</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">zero</span><span class="o">.</span><span class="n">issubset</span><span class="p">(</span><span class="n">positives</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">zero</span><span class="o">.</span><span class="n">issubset</span><span class="p">(</span><span class="n">naturals</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">positives</span><span class="o">.</span><span class="n">issubset</span><span class="p">(</span><span class="n">zero</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">issubset</span><span class="p">(</span><span class="n">zero</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">issubset</span><span class="p">(</span><span class="n">positives</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">positives</span><span class="o">.</span><span class="n">issubset</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">negatives</span><span class="o">.</span><span class="n">issubset</span><span class="p">(</span><span class="n">IntervalSet</span><span class="o">.</span><span class="n">all</span><span class="p">())</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r2</span><span class="o">.</span><span class="n">issubset</span><span class="p">(</span><span class="n">negatives</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">negatives</span><span class="o">.</span><span class="n">issubset</span><span class="p">(</span><span class="n">positives</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">zero</span><span class="o">.</span><span class="n">issubset</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.interval.BaseIntervalSet.issuperset">
<code class="sig-name descname">issuperset</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">other</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.interval.BaseIntervalSet.issuperset" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells whether the given object is a superset of the object</p>
<p>Returns true if self is a superset of other.  other can be any
iterable object.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">zero</span> <span class="o">=</span> <span class="n">IntervalSet</span><span class="p">([</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">positives</span> <span class="o">=</span> <span class="n">IntervalSet</span><span class="o">.</span><span class="n">greater_than</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">naturals</span> <span class="o">=</span> <span class="n">IntervalSet</span><span class="o">.</span><span class="n">greater_than_or_equal_to</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">negatives</span> <span class="o">=</span> <span class="n">IntervalSet</span><span class="o">.</span><span class="n">less_than</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">IntervalSet</span><span class="o">.</span><span class="n">between</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r2</span> <span class="o">=</span> <span class="n">IntervalSet</span><span class="o">.</span><span class="n">between</span><span class="p">(</span><span class="o">-</span><span class="mi">8</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">zero</span><span class="o">.</span><span class="n">issuperset</span><span class="p">(</span><span class="n">positives</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">zero</span><span class="o">.</span><span class="n">issuperset</span><span class="p">(</span><span class="n">naturals</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">positives</span><span class="o">.</span><span class="n">issuperset</span><span class="p">(</span><span class="n">zero</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">issuperset</span><span class="p">(</span><span class="n">zero</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">issuperset</span><span class="p">(</span><span class="n">positives</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">positives</span><span class="o">.</span><span class="n">issuperset</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">negatives</span><span class="o">.</span><span class="n">issuperset</span><span class="p">(</span><span class="n">IntervalSet</span><span class="o">.</span><span class="n">all</span><span class="p">())</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r2</span><span class="o">.</span><span class="n">issuperset</span><span class="p">(</span><span class="n">negatives</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">negatives</span><span class="o">.</span><span class="n">issuperset</span><span class="p">(</span><span class="n">positives</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">negatives</span><span class="o">.</span><span class="n">issuperset</span><span class="p">([</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">632</span><span class="p">])</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.interval.BaseIntervalSet.less_than">
<em class="property">classmethod </em><code class="sig-name descname">less_than</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.interval.BaseIntervalSet.less_than" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an IntervalSet containing values less than the given value</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">IntervalSet</span><span class="o">.</span><span class="n">less_than</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">(...0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">IntervalSet</span><span class="o">.</span><span class="n">less_than</span><span class="p">(</span><span class="o">-</span><span class="mi">23</span><span class="p">)</span>
<span class="go">(...-23)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.interval.BaseIntervalSet.less_than_or_equal_to">
<em class="property">classmethod </em><code class="sig-name descname">less_than_or_equal_to</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span></em>, <em class="sig-param"><span class="n">closed</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.interval.BaseIntervalSet.less_than_or_equal_to" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an IntervalSet containing values less than or equal to the
given value</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">IntervalSet</span><span class="o">.</span><span class="n">less_than_or_equal_to</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">(...0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">IntervalSet</span><span class="o">.</span><span class="n">less_than_or_equal_to</span><span class="p">(</span><span class="o">-</span><span class="mi">23</span><span class="p">)</span>
<span class="go">(...-23]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.interval.BaseIntervalSet.lower_bound">
<code class="sig-name descname">lower_bound</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.interval.BaseIntervalSet.lower_bound" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the lower boundary of the BaseIntervalSet</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">IntervalSet</span><span class="p">([</span><span class="n">Interval</span><span class="o">.</span><span class="n">between</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">12</span><span class="p">])</span><span class="o">.</span><span class="n">lower_bound</span><span class="p">()</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">IntervalSet</span><span class="p">()</span><span class="o">.</span><span class="n">lower_bound</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
    <span class="o">...</span>
<span class="gr">IndexError</span>: <span class="n">The BaseIntervalSet is empty</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">IntervalSet</span><span class="o">.</span><span class="n">all</span><span class="p">()</span><span class="o">.</span><span class="n">lower_bound</span><span class="p">()</span>
<span class="go">-Inf</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.interval.BaseIntervalSet.lower_closed">
<code class="sig-name descname">lower_closed</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.interval.BaseIntervalSet.lower_closed" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a boolean telling whether the lower bound is closed or not</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">IntervalSet</span><span class="p">([</span><span class="n">Interval</span><span class="o">.</span><span class="n">between</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">12</span><span class="p">])</span><span class="o">.</span><span class="n">lower_closed</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">IntervalSet</span><span class="p">()</span><span class="o">.</span><span class="n">lower_closed</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
    <span class="o">...</span>
<span class="gr">IndexError</span>: <span class="n">The BaseIntervalSet is empty</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">IntervalSet</span><span class="o">.</span><span class="n">all</span><span class="p">()</span><span class="o">.</span><span class="n">lower_closed</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.interval.BaseIntervalSet.not_equal_to">
<em class="property">classmethod </em><code class="sig-name descname">not_equal_to</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.interval.BaseIntervalSet.not_equal_to" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an IntervalSet of all values not equal to n</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">IntervalSet</span><span class="o">.</span><span class="n">not_equal_to</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">(...0),(0...)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">IntervalSet</span><span class="o">.</span><span class="n">not_equal_to</span><span class="p">(</span><span class="o">-</span><span class="mi">23</span><span class="p">)</span>
<span class="go">(...-23),(-23...)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.interval.BaseIntervalSet.symmetric_difference">
<code class="sig-name descname">symmetric_difference</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">other</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.interval.BaseIntervalSet.symmetric_difference" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the exclusive or of the given value with the object</p>
<p>This function returns the exclusive or of two IntervalSets.
It is identical to the ^ operator, except it accepts any iterable
object for the operand.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">negatives</span> <span class="o">=</span> <span class="n">IntervalSet</span><span class="o">.</span><span class="n">less_than</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">positives</span> <span class="o">=</span> <span class="n">IntervalSet</span><span class="o">.</span><span class="n">greater_than</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">naturals</span>  <span class="o">=</span> <span class="n">IntervalSet</span><span class="o">.</span><span class="n">greater_than_or_equal_to</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">evens</span>     <span class="o">=</span> <span class="n">IntervalSet</span><span class="p">([</span><span class="o">-</span><span class="mi">8</span><span class="p">,</span> <span class="o">-</span><span class="mi">6</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">zero</span>      <span class="o">=</span> <span class="n">IntervalSet</span><span class="p">([</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nonzero</span>   <span class="o">=</span> <span class="n">IntervalSet</span><span class="o">.</span><span class="n">not_equal_to</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">empty</span>     <span class="o">=</span> <span class="n">IntervalSet</span><span class="o">.</span><span class="n">empty</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">nonzero</span><span class="o">.</span><span class="n">symmetric_difference</span><span class="p">(</span><span class="n">naturals</span><span class="p">)</span>
<span class="go">(...0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">zero</span><span class="o">.</span><span class="n">symmetric_difference</span><span class="p">(</span><span class="n">negatives</span><span class="p">)</span>
<span class="go">(...0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">positives</span><span class="o">.</span><span class="n">symmetric_difference</span><span class="p">(</span><span class="n">empty</span><span class="p">)</span>
<span class="go">(0...)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">evens</span><span class="o">.</span><span class="n">symmetric_difference</span><span class="p">(</span><span class="n">zero</span><span class="p">)</span>
<span class="go">-8,-6,-4,-2,2,4,6,8</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">evens</span><span class="o">.</span><span class="n">symmetric_difference</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="go">-8,-6,-4,-2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.interval.BaseIntervalSet.union">
<code class="sig-name descname">union</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">other</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.interval.BaseIntervalSet.union" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the union of the given value with the object</p>
<p>This function returns the union of a BaseIntervalSet and an
iterable object.  It is identical to the | operator, except that
| only accepts a BaseIntervalSet operand and union accepts any
iterable.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">negatives</span> <span class="o">=</span> <span class="n">IntervalSet</span><span class="o">.</span><span class="n">less_than</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">positives</span> <span class="o">=</span> <span class="n">IntervalSet</span><span class="o">.</span><span class="n">greater_than</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">naturals</span>  <span class="o">=</span> <span class="n">IntervalSet</span><span class="o">.</span><span class="n">greater_than_or_equal_to</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">evens</span>     <span class="o">=</span> <span class="n">IntervalSet</span><span class="p">([</span><span class="o">-</span><span class="mi">8</span><span class="p">,</span> <span class="o">-</span><span class="mi">6</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">zero</span>      <span class="o">=</span> <span class="n">IntervalSet</span><span class="p">([</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nonzero</span>   <span class="o">=</span> <span class="n">IntervalSet</span><span class="o">.</span><span class="n">not_equal_to</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">empty</span>     <span class="o">=</span> <span class="n">IntervalSet</span><span class="o">.</span><span class="n">empty</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">all</span>       <span class="o">=</span> <span class="n">IntervalSet</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">evens</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">positives</span><span class="p">)</span>
<span class="go">-8,-6,-4,-2,[0...)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">negatives</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">zero</span><span class="p">)</span>
<span class="go">(...0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">empty</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">negatives</span><span class="p">)</span>
<span class="go">(...0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">empty</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">naturals</span><span class="p">)</span>
<span class="go">[0...)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">nonzero</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">evens</span><span class="p">)</span>
<span class="go">(...)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">negatives</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>
<span class="go">(...0],1,2,3,4</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.interval.BaseIntervalSet.upper_bound">
<code class="sig-name descname">upper_bound</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.interval.BaseIntervalSet.upper_bound" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the upper boundary of the BaseIntervalSet</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">IntervalSet</span><span class="p">([</span><span class="n">Interval</span><span class="o">.</span><span class="n">between</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">12</span><span class="p">])</span><span class="o">.</span><span class="n">upper_bound</span><span class="p">()</span>
<span class="go">12</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">IntervalSet</span><span class="p">()</span><span class="o">.</span><span class="n">upper_bound</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
    <span class="o">...</span>
<span class="gr">IndexError</span>: <span class="n">The BaseIntervalSet is empty</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">IntervalSet</span><span class="o">.</span><span class="n">all</span><span class="p">()</span><span class="o">.</span><span class="n">upper_bound</span><span class="p">()</span>
<span class="go">Inf</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.interval.BaseIntervalSet.upper_closed">
<code class="sig-name descname">upper_closed</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.interval.BaseIntervalSet.upper_closed" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a boolean telling whether the upper bound is closed or not</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">IntervalSet</span><span class="p">([</span><span class="n">Interval</span><span class="o">.</span><span class="n">between</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">12</span><span class="p">])</span><span class="o">.</span><span class="n">upper_closed</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">IntervalSet</span><span class="p">()</span><span class="o">.</span><span class="n">upper_closed</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
    <span class="o">...</span>
<span class="gr">IndexError</span>: <span class="n">The BaseIntervalSet is empty</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">IntervalSet</span><span class="o">.</span><span class="n">all</span><span class="p">()</span><span class="o">.</span><span class="n">upper_closed</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="dcrhino3.models.interval.FrozenIntervalSet">
<em class="property">class </em><code class="sig-prename descclassname">dcrhino3.models.interval.</code><code class="sig-name descname">FrozenIntervalSet</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">items</span><span class="o">=</span><span class="default_value">[]</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.interval.FrozenIntervalSet" title="Permalink to this definition">¶</a></dt>
<dd><p>An immutable version of BaseIntervalSet</p>
<p>FrozenIntervalSet is like IntervalSet, only add and remove are not
implemented, and hashes can be generated.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">fs</span> <span class="o">=</span> <span class="n">FrozenIntervalSet</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fs</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
  <span class="c">...</span>
<span class="gr">AttributeError</span>: <span class="n">&#39;FrozenIntervalSet&#39; object has no attribute &#39;add&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fs</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
  <span class="c">...</span>
<span class="gr">AttributeError</span>: <span class="n">&#39;FrozenIntervalSet&#39; object has no attribute &#39;remove&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fs</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
  <span class="c">...</span>
<span class="gr">AttributeError</span>: <span class="n">&#39;FrozenIntervalSet&#39; object has no attribute &#39;clear&#39;</span>
</pre></div>
</div>
<p>Because FrozenIntervalSets are immutable, they can be used as a
dictionary key.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>  <span class="n">FrozenIntervalSet</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">66</span><span class="p">])</span> <span class="p">:</span> <span class="mi">52</span><span class="p">,</span>
<span class="gp">... </span>  <span class="n">FrozenIntervalSet</span><span class="o">.</span><span class="n">less_than</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="p">:</span> <span class="mi">3</span><span class="p">}</span>
</pre></div>
</div>
<dl class="py method">
<dt id="dcrhino3.models.interval.FrozenIntervalSet.copy">
<code class="sig-name descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.interval.FrozenIntervalSet.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Duplicates the object</p>
<p>For FrozenIntervalSet objects, since they’re immutable, a
reference, not a copy, of self is returned.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">FrozenIntervalSet</span><span class="p">(</span>
<span class="gp">... </span>  <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">Interval</span><span class="o">.</span><span class="n">greater_than</span><span class="p">(</span><span class="mi">3</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s2</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">==</span> <span class="n">s2</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">==</span> <span class="nb">id</span><span class="p">(</span><span class="n">s2</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="dcrhino3.models.interval.Interval">
<em class="property">class </em><code class="sig-prename descclassname">dcrhino3.models.interval.</code><code class="sig-name descname">Interval</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">lower_bound</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">upper_bound</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.interval.Interval" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents a continuous range of values</p>
<p>An Interval is composed of the lower bound, a closed lower bound
flag, an upper bound, and a closed upper bound flag.  The attributes
are called lower_bound, lower_closed, upper_bound, and upper_closed,
respectively.  For an infinite interval, the bound is set to inf or
-inf.  IntervalSets are composed of zero to many Intervals.</p>
<dl class="py method">
<dt id="dcrhino3.models.interval.Interval.adjacent_to">
<code class="sig-name descname">adjacent_to</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">other</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.interval.Interval.adjacent_to" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells whether an Interval is adjacent to the object without overlap</p>
<p>Returns True if self is adjacent to other, meaning that if they
were joined, there would be no discontinuity.  They cannot
overlap.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">r1</span>  <span class="o">=</span> <span class="n">Interval</span><span class="o">.</span><span class="n">less_than</span><span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r2</span>  <span class="o">=</span> <span class="n">Interval</span><span class="o">.</span><span class="n">less_than_or_equal_to</span><span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r3</span>  <span class="o">=</span> <span class="n">Interval</span><span class="o">.</span><span class="n">less_than</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r4</span>  <span class="o">=</span> <span class="n">Interval</span><span class="o">.</span><span class="n">less_than_or_equal_to</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r5</span>  <span class="o">=</span> <span class="n">Interval</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r6</span>  <span class="o">=</span> <span class="n">Interval</span><span class="o">.</span><span class="n">between</span><span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r7</span>  <span class="o">=</span> <span class="n">Interval</span><span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="n">lower_closed</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r8</span>  <span class="o">=</span> <span class="n">Interval</span><span class="o">.</span><span class="n">greater_than</span><span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r9</span>  <span class="o">=</span> <span class="n">Interval</span><span class="o">.</span><span class="n">equal_to</span><span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r10</span> <span class="o">=</span> <span class="n">Interval</span><span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="n">upper_closed</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r11</span> <span class="o">=</span> <span class="n">Interval</span><span class="o">.</span><span class="n">between</span><span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r12</span> <span class="o">=</span> <span class="n">Interval</span><span class="o">.</span><span class="n">greater_than_or_equal_to</span><span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r13</span> <span class="o">=</span> <span class="n">Interval</span><span class="o">.</span><span class="n">greater_than</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r14</span> <span class="o">=</span> <span class="n">Interval</span><span class="o">.</span><span class="n">equal_to</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r15</span> <span class="o">=</span> <span class="n">Interval</span><span class="o">.</span><span class="n">greater_than_or_equal_to</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r1</span><span class="o">.</span><span class="n">adjacent_to</span><span class="p">(</span><span class="n">r6</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r6</span><span class="o">.</span><span class="n">adjacent_to</span><span class="p">(</span><span class="n">r11</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r7</span><span class="o">.</span><span class="n">adjacent_to</span><span class="p">(</span><span class="n">r9</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r3</span><span class="o">.</span><span class="n">adjacent_to</span><span class="p">(</span><span class="n">r10</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r5</span><span class="o">.</span><span class="n">adjacent_to</span><span class="p">(</span><span class="n">r14</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r6</span><span class="o">.</span><span class="n">adjacent_to</span><span class="p">(</span><span class="n">r15</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r1</span><span class="o">.</span><span class="n">adjacent_to</span><span class="p">(</span><span class="n">r8</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r12</span><span class="o">.</span><span class="n">adjacent_to</span><span class="p">(</span><span class="n">r14</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r6</span><span class="o">.</span><span class="n">adjacent_to</span><span class="p">(</span><span class="n">r13</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r2</span><span class="o">.</span><span class="n">adjacent_to</span><span class="p">(</span><span class="n">r15</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r1</span><span class="o">.</span><span class="n">adjacent_to</span><span class="p">(</span><span class="n">r4</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.interval.Interval.all">
<em class="property">classmethod </em><code class="sig-name descname">all</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.interval.Interval.all" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an interval encompassing all values</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">Interval</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
<span class="go">(...)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.interval.Interval.between">
<em class="property">classmethod </em><code class="sig-name descname">between</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">a</span></em>, <em class="sig-param"><span class="n">b</span></em>, <em class="sig-param"><span class="n">closed</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.interval.Interval.between" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an interval between two values</p>
<p>Returns an interval between values a and b.  If closed is True,
then the endpoints are included.  Otherwise, the endpoints are
excluded.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">Interval</span><span class="o">.</span><span class="n">between</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="go">[2..4]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">Interval</span><span class="o">.</span><span class="n">between</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
<span class="go">(2..4)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.interval.Interval.comes_before">
<code class="sig-name descname">comes_before</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">other</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.interval.Interval.comes_before" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells whether an interval lies before the object</p>
<p>self comes before other when sorted if its lower bound is less
than other’s smallest value.  If the smallest value is the same,
then the Interval with the smallest upper bound comes first.
Otherwise, they are equal.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Interval</span><span class="o">.</span><span class="n">equal_to</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">comes_before</span><span class="p">(</span><span class="n">Interval</span><span class="o">.</span><span class="n">equal_to</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Interval</span><span class="o">.</span><span class="n">less_than_or_equal_to</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">comes_before</span><span class="p">(</span><span class="n">Interval</span><span class="o">.</span><span class="n">equal_to</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Interval</span><span class="o">.</span><span class="n">less_than_or_equal_to</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">comes_before</span><span class="p">(</span>
<span class="gp">... </span>  <span class="n">Interval</span><span class="o">.</span><span class="n">less_than</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Interval</span><span class="o">.</span><span class="n">less_than</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">comes_before</span><span class="p">(</span>
<span class="gp">... </span>  <span class="n">Interval</span><span class="o">.</span><span class="n">less_than_or_equal_to</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Interval</span><span class="o">.</span><span class="n">all</span><span class="p">()</span><span class="o">.</span><span class="n">comes_before</span><span class="p">(</span><span class="n">Interval</span><span class="o">.</span><span class="n">all</span><span class="p">())</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.interval.Interval.duration">
<em class="property">property </em><code class="sig-name descname">duration</code><a class="headerlink" href="#dcrhino3.models.interval.Interval.duration" title="Permalink to this definition">¶</a></dt>
<dd><p>added 20140618 kkappler
returns the duration of interval</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>&#64;note</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.interval.Interval.equal_to">
<em class="property">classmethod </em><code class="sig-name descname">equal_to</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">a</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.interval.Interval.equal_to" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an point interval</p>
<p>Returns an interval containing only a.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">Interval</span><span class="o">.</span><span class="n">equal_to</span><span class="p">(</span><span class="mi">32</span><span class="p">)</span>
<span class="go">32</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.interval.Interval.greater_than">
<em class="property">classmethod </em><code class="sig-name descname">greater_than</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">a</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.interval.Interval.greater_than" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns interval of all values greater than the given value</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">Interval</span><span class="o">.</span><span class="n">greater_than</span><span class="p">(</span><span class="mi">32</span><span class="p">)</span>
<span class="go">(32...)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.interval.Interval.greater_than_or_equal_to">
<em class="property">classmethod </em><code class="sig-name descname">greater_than_or_equal_to</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">a</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.interval.Interval.greater_than_or_equal_to" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns interval of all values greater than or equal to the given value</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">Interval</span><span class="o">.</span><span class="n">greater_than_or_equal_to</span><span class="p">(</span><span class="mi">32</span><span class="p">)</span>
<span class="go">[32...)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.interval.Interval.join">
<code class="sig-name descname">join</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">other</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.interval.Interval.join" title="Permalink to this definition">¶</a></dt>
<dd><p>Combines two continous Intervals</p>
<p>Combines two continuous Intervals into one Interval.  If the two
Intervals are disjoint, then an exception is raised.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">r1</span>  <span class="o">=</span> <span class="n">Interval</span><span class="o">.</span><span class="n">less_than</span><span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r2</span>  <span class="o">=</span> <span class="n">Interval</span><span class="o">.</span><span class="n">less_than_or_equal_to</span><span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r3</span>  <span class="o">=</span> <span class="n">Interval</span><span class="o">.</span><span class="n">less_than</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r4</span>  <span class="o">=</span> <span class="n">Interval</span><span class="o">.</span><span class="n">less_than_or_equal_to</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r5</span>  <span class="o">=</span> <span class="n">Interval</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r6</span>  <span class="o">=</span> <span class="n">Interval</span><span class="o">.</span><span class="n">between</span><span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r7</span>  <span class="o">=</span> <span class="n">Interval</span><span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="n">lower_closed</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r8</span>  <span class="o">=</span> <span class="n">Interval</span><span class="o">.</span><span class="n">greater_than</span><span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r9</span>  <span class="o">=</span> <span class="n">Interval</span><span class="o">.</span><span class="n">equal_to</span><span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r10</span> <span class="o">=</span> <span class="n">Interval</span><span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="n">upper_closed</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r11</span> <span class="o">=</span> <span class="n">Interval</span><span class="o">.</span><span class="n">between</span><span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r12</span> <span class="o">=</span> <span class="n">Interval</span><span class="o">.</span><span class="n">greater_than_or_equal_to</span><span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r13</span> <span class="o">=</span> <span class="n">Interval</span><span class="o">.</span><span class="n">greater_than</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r14</span> <span class="o">=</span> <span class="n">Interval</span><span class="o">.</span><span class="n">equal_to</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r15</span> <span class="o">=</span> <span class="n">Interval</span><span class="o">.</span><span class="n">greater_than_or_equal_to</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">r13</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">r15</span><span class="p">)</span>
<span class="go">[100...)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">r7</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">r6</span><span class="p">)</span>
<span class="go">(-100..100]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">r11</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">r2</span><span class="p">)</span>
<span class="go">(...100]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">r4</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">r15</span><span class="p">)</span>
<span class="go">(...)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">r8</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">r8</span><span class="p">)</span>
<span class="go">(-100...)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">r3</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">r7</span><span class="p">)</span>
<span class="go">(...100]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">r5</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">r10</span><span class="p">)</span>
<span class="go">(...)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">r9</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">r1</span><span class="p">)</span>
<span class="go">(...-100]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">r12</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">r5</span><span class="p">)</span>
<span class="go">(...)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">r13</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">r1</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ArithmeticError</span>: <span class="n">The Intervals are disjoint.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">r14</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">r2</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ArithmeticError</span>: <span class="n">The Intervals are disjoint.</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.interval.Interval.less_than">
<em class="property">classmethod </em><code class="sig-name descname">less_than</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">a</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.interval.Interval.less_than" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns interval of all values less than the given value</p>
<p>Returns an interval containing all values less than a.  If closed
is True, then all values less than or equal to a are returned.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">Interval</span><span class="o">.</span><span class="n">less_than</span><span class="p">(</span><span class="mi">32</span><span class="p">)</span>
<span class="go">(...32)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.interval.Interval.less_than_or_equal_to">
<em class="property">classmethod </em><code class="sig-name descname">less_than_or_equal_to</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">a</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.interval.Interval.less_than_or_equal_to" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an interval containing the given values and everything less</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">Interval</span><span class="o">.</span><span class="n">less_than_or_equal_to</span><span class="p">(</span><span class="mi">32</span><span class="p">)</span>
<span class="go">(...32]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.interval.Interval.none">
<em class="property">classmethod </em><code class="sig-name descname">none</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.interval.Interval.none" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an empty interval</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">Interval</span><span class="o">.</span><span class="n">none</span><span class="p">()</span>
<span class="go">&lt;Empty&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.interval.Interval.overlaps">
<code class="sig-name descname">overlaps</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">other</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.interval.Interval.overlaps" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells whether the given interval overlaps the object</p>
<p>Returns True if the one Interval overlaps another.  If they are
immediately adjacent, then this returns False.  Use the adjacent_to
function for testing for adjacent Intervals.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">r1</span>  <span class="o">=</span> <span class="n">Interval</span><span class="o">.</span><span class="n">less_than</span><span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r2</span>  <span class="o">=</span> <span class="n">Interval</span><span class="o">.</span><span class="n">less_than_or_equal_to</span><span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r3</span>  <span class="o">=</span> <span class="n">Interval</span><span class="o">.</span><span class="n">less_than</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r4</span>  <span class="o">=</span> <span class="n">Interval</span><span class="o">.</span><span class="n">less_than_or_equal_to</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r5</span>  <span class="o">=</span> <span class="n">Interval</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r6</span>  <span class="o">=</span> <span class="n">Interval</span><span class="o">.</span><span class="n">between</span><span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r7</span>  <span class="o">=</span> <span class="n">Interval</span><span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="n">lower_closed</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r8</span>  <span class="o">=</span> <span class="n">Interval</span><span class="o">.</span><span class="n">greater_than</span><span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r9</span>  <span class="o">=</span> <span class="n">Interval</span><span class="o">.</span><span class="n">equal_to</span><span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r10</span> <span class="o">=</span> <span class="n">Interval</span><span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="n">upper_closed</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r11</span> <span class="o">=</span> <span class="n">Interval</span><span class="o">.</span><span class="n">between</span><span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r12</span> <span class="o">=</span> <span class="n">Interval</span><span class="o">.</span><span class="n">greater_than_or_equal_to</span><span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r13</span> <span class="o">=</span> <span class="n">Interval</span><span class="o">.</span><span class="n">greater_than</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r14</span> <span class="o">=</span> <span class="n">Interval</span><span class="o">.</span><span class="n">equal_to</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r15</span> <span class="o">=</span> <span class="n">Interval</span><span class="o">.</span><span class="n">greater_than_or_equal_to</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r8</span><span class="o">.</span><span class="n">overlaps</span><span class="p">(</span><span class="n">r9</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r12</span><span class="o">.</span><span class="n">overlaps</span><span class="p">(</span><span class="n">r6</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r7</span><span class="o">.</span><span class="n">overlaps</span><span class="p">(</span><span class="n">r8</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r8</span><span class="o">.</span><span class="n">overlaps</span><span class="p">(</span><span class="n">r4</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r14</span><span class="o">.</span><span class="n">overlaps</span><span class="p">(</span><span class="n">r11</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r10</span><span class="o">.</span><span class="n">overlaps</span><span class="p">(</span><span class="n">r13</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r5</span><span class="o">.</span><span class="n">overlaps</span><span class="p">(</span><span class="n">r1</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r5</span><span class="o">.</span><span class="n">overlaps</span><span class="p">(</span><span class="n">r2</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r15</span><span class="o">.</span><span class="n">overlaps</span><span class="p">(</span><span class="n">r6</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r3</span><span class="o">.</span><span class="n">overlaps</span><span class="p">(</span><span class="n">r1</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.interval.Interval.pad">
<code class="sig-name descname">pad</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pad_width</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.interval.Interval.pad" title="Permalink to this definition">¶</a></dt>
<dd><p>&#64;note: added 20140618 kkappler
returns a padded interval;
Intent was to add a little so that open-intervals, or adjacent
intervals would easily make an interval set</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="dcrhino3.models.interval.IntervalSet">
<em class="property">class </em><code class="sig-prename descclassname">dcrhino3.models.interval.</code><code class="sig-name descname">IntervalSet</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">items</span><span class="o">=</span><span class="default_value">[]</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.interval.IntervalSet" title="Permalink to this definition">¶</a></dt>
<dd><p>The mutable version of BaseIntervalSet</p>
<p>IntervalSet is a class representing sets of continuous values, as
opposed to a discrete set, which is already implemented by the set
type in Python.</p>
<p>IntervalSets can be bounded, unbounded, and non-continuous.  They were
designed to accomodate any sort of mathematical set dealing with
continuous values.  This will usually mean numbers, but any Python
type that has valid comparison operations can be used in an
IntervalSet.</p>
<p>Because IntervalSets are mutable, it cannot be used as a dictionary
key.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="p">{</span><span class="n">IntervalSet</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">66</span><span class="p">])</span> <span class="p">:</span> <span class="mi">52</span><span class="p">}</span>
<span class="gt">Traceback (most recent call last):</span>
    <span class="o">...</span>
<span class="gr">TypeError</span>: <span class="n">unhashable instance</span>
</pre></div>
</div>
<dl class="py method">
<dt id="dcrhino3.models.interval.IntervalSet.add">
<code class="sig-name descname">add</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.interval.IntervalSet.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an Interval or discrete value to the object</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">IntervalSet</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">r</span>
<span class="go">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">Interval</span><span class="p">(</span><span class="mi">23</span><span class="p">,</span> <span class="mi">39</span><span class="p">,</span> <span class="n">lower_closed</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">r</span>
<span class="go">4,(23..39]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">Interval</span><span class="o">.</span><span class="n">less_than</span><span class="p">(</span><span class="mi">25</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">r</span>
<span class="go">(...39]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.interval.IntervalSet.clear">
<code class="sig-name descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.interval.IntervalSet.clear" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes all Intervals from the object</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">IntervalSet</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="n">Interval</span><span class="o">.</span><span class="n">greater_than</span><span class="p">(</span><span class="mi">8</span><span class="p">),</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">34</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">s</span>
<span class="go">2,6,7,(8...)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">s</span>
<span class="go">&lt;Empty&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.interval.IntervalSet.difference_update">
<code class="sig-name descname">difference_update</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">other</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.interval.IntervalSet.difference_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes any elements in the given value from the object</p>
<p>This function removes the elements in other from self.  other can
be any iterable object.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">IntervalSet</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">difference_update</span><span class="p">([</span><span class="mi">4</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">r</span>
<span class="go">(...4),(4...)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">difference_update</span><span class="p">(</span>
<span class="gp">... </span>  <span class="n">IntervalSet</span><span class="p">([</span><span class="n">Interval</span><span class="p">(</span><span class="mi">23</span><span class="p">,</span> <span class="mi">39</span><span class="p">,</span> <span class="n">lower_closed</span><span class="o">=</span><span class="kc">False</span><span class="p">)]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">r</span>
<span class="go">(...4),(4..23],(39...)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">difference_update</span><span class="p">(</span><span class="n">IntervalSet</span><span class="o">.</span><span class="n">less_than</span><span class="p">(</span><span class="mi">25</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">r</span>
<span class="go">(39...)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r2</span> <span class="o">=</span> <span class="n">IntervalSet</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">difference_update</span><span class="p">(</span><span class="n">r2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">r</span>
<span class="go">&lt;Empty&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.interval.IntervalSet.discard">
<code class="sig-name descname">discard</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.interval.IntervalSet.discard" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes a value from the object</p>
<p>This function removes an Interval or discrete value from an
IntervalSet.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">IntervalSet</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">discard</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">r</span>
<span class="go">(...4),(4...)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">discard</span><span class="p">(</span><span class="n">Interval</span><span class="p">(</span><span class="mi">23</span><span class="p">,</span> <span class="mi">39</span><span class="p">,</span> <span class="n">lower_closed</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">r</span>
<span class="go">(...4),(4..23],(39...)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">discard</span><span class="p">(</span><span class="n">Interval</span><span class="o">.</span><span class="n">less_than</span><span class="p">(</span><span class="mi">25</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">r</span>
<span class="go">(39...)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.interval.IntervalSet.intersection_update">
<code class="sig-name descname">intersection_update</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">other</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.interval.IntervalSet.intersection_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes values not found in the parameter</p>
<p>Removes elements not found in other.  other can be any iterable
object</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">IntervalSet</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">intersection_update</span><span class="p">([</span><span class="mi">4</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">r</span>
<span class="go">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">IntervalSet</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">intersection_update</span><span class="p">(</span>
<span class="gp">... </span>  <span class="n">IntervalSet</span><span class="p">([</span><span class="n">Interval</span><span class="p">(</span><span class="mi">23</span><span class="p">,</span> <span class="mi">39</span><span class="p">,</span> <span class="n">lower_closed</span><span class="o">=</span><span class="kc">False</span><span class="p">)]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">r</span>
<span class="go">(23..39]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">intersection_update</span><span class="p">(</span><span class="n">IntervalSet</span><span class="o">.</span><span class="n">less_than</span><span class="p">(</span><span class="mi">25</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">r</span>
<span class="go">(23..25)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r2</span> <span class="o">=</span> <span class="n">IntervalSet</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">intersection_update</span><span class="p">(</span><span class="n">r2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">r</span>
<span class="go">(23..25)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.interval.IntervalSet.pop">
<code class="sig-name descname">pop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.interval.IntervalSet.pop" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns and discards an Interval or value from the IntervalSet</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">IntervalSet</span><span class="p">([</span><span class="mi">7</span><span class="p">,</span> <span class="n">Interval</span><span class="o">.</span><span class="n">less_than</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">pop</span><span class="p">()))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">pop</span><span class="p">()))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s2">&quot;(...2)&quot;</span> <span class="ow">in</span> <span class="n">l</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s2">&quot;(...2]&quot;</span> <span class="ow">in</span> <span class="n">l</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s2">&quot;7&quot;</span> <span class="ow">in</span> <span class="n">l</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">s</span>
<span class="go">&lt;Empty&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">i</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
    <span class="o">...</span>
<span class="gr">KeyError</span>: <span class="n">&#39;pop from an empty IntervalSet&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.interval.IntervalSet.remove">
<code class="sig-name descname">remove</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.interval.IntervalSet.remove" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes a value from the object</p>
<p>This function removes an Interval, discrete value, or set
from an IntervalSet.  If the object is not in the set, a KeyError
is raised.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">IntervalSet</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">r</span>
<span class="go">(...4),(4...)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">Interval</span><span class="p">(</span><span class="mi">23</span><span class="p">,</span> <span class="mi">39</span><span class="p">,</span> <span class="n">lower_closed</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">r</span>
<span class="go">(...4),(4..23],(39...)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">Interval</span><span class="o">.</span><span class="n">less_than</span><span class="p">(</span><span class="mi">25</span><span class="p">))</span>
<span class="gt">Traceback (most recent call last):</span>
    <span class="o">...</span>
<span class="gr">KeyError</span>: <span class="n">&#39;(...25)&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.interval.IntervalSet.symmetric_difference_update">
<code class="sig-name descname">symmetric_difference_update</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">other</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.interval.IntervalSet.symmetric_difference_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the object as though doing an xor with the parameter</p>
<p>Removes elements found in other and adds elements in other that
are not in self.  other can be any iterable object.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">IntervalSet</span><span class="o">.</span><span class="n">empty</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">symmetric_difference_update</span><span class="p">([</span><span class="mi">4</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">r</span>
<span class="go">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">symmetric_difference_update</span><span class="p">(</span>
<span class="gp">... </span>  <span class="n">IntervalSet</span><span class="p">([</span><span class="n">Interval</span><span class="p">(</span><span class="mi">23</span><span class="p">,</span> <span class="mi">39</span><span class="p">,</span> <span class="n">lower_closed</span><span class="o">=</span><span class="kc">False</span><span class="p">)]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">r</span>
<span class="go">4,(23..39]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">symmetric_difference_update</span><span class="p">(</span><span class="n">IntervalSet</span><span class="o">.</span><span class="n">less_than</span><span class="p">(</span><span class="mi">25</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">r</span>
<span class="go">(...4),(4..23],[25..39]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r2</span> <span class="o">=</span> <span class="n">IntervalSet</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">symmetric_difference_update</span><span class="p">(</span><span class="n">r2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">r</span>
<span class="go">4,(23..25),(39...)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.interval.IntervalSet.update">
<code class="sig-name descname">update</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">other</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.interval.IntervalSet.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds elements from the given value to the object</p>
<p>Adds elements from other to self.  other can be any iterable
object.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">IntervalSet</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">update</span><span class="p">([</span><span class="mi">4</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">r</span>
<span class="go">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">IntervalSet</span><span class="p">([</span><span class="n">Interval</span><span class="p">(</span><span class="mi">23</span><span class="p">,</span> <span class="mi">39</span><span class="p">,</span> <span class="n">lower_closed</span><span class="o">=</span><span class="kc">False</span><span class="p">)]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">r</span>
<span class="go">4,(23..39]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">IntervalSet</span><span class="o">.</span><span class="n">less_than</span><span class="p">(</span><span class="mi">25</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">r</span>
<span class="go">(...39]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r2</span> <span class="o">=</span> <span class="n">IntervalSet</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">r2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">r</span>
<span class="go">(...)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="dcrhino3.models.interval.Largest">
<em class="property">class </em><code class="sig-prename descclassname">dcrhino3.models.interval.</code><code class="sig-name descname">Largest</code><a class="headerlink" href="#dcrhino3.models.interval.Largest" title="Permalink to this definition">¶</a></dt>
<dd><p>Class representing the universal largest value</p>
<p>This type doesn’t do much; it implements a pseudo-value that’s larger
than everything but itself.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">infinity</span> <span class="o">=</span> <span class="n">Largest</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">greatest</span> <span class="o">=</span> <span class="n">Largest</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="mi">6234</span> <span class="o">&lt;</span> <span class="n">infinity</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="mi">6234</span> <span class="o">==</span> <span class="n">infinity</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="mi">6234</span> <span class="o">&gt;</span> <span class="n">infinity</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">infinity</span> <span class="o">&gt;</span> <span class="n">infinity</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">infinity</span> <span class="o">==</span> <span class="n">greatest</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt id="dcrhino3.models.interval.Smallest">
<em class="property">class </em><code class="sig-prename descclassname">dcrhino3.models.interval.</code><code class="sig-name descname">Smallest</code><a class="headerlink" href="#dcrhino3.models.interval.Smallest" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents the smallest value</p>
<p>This type doesn’t do much; it implements a pseudo-value that’s smaller
than everything but itself.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">negInf</span> <span class="o">=</span> <span class="n">Smallest</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">smallest</span> <span class="o">=</span> <span class="n">Smallest</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="o">-</span><span class="mi">264</span> <span class="o">&lt;</span> <span class="n">negInf</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="o">-</span><span class="mi">264</span> <span class="o">==</span> <span class="n">negInf</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="o">-</span><span class="mi">264</span> <span class="o">&gt;</span> <span class="n">negInf</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">negInf</span> <span class="o">&lt;</span> <span class="n">negInf</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">negInf</span> <span class="o">==</span> <span class="n">smallest</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt id="dcrhino3.models.interval.TimePeriod">
<em class="property">class </em><code class="sig-prename descclassname">dcrhino3.models.interval.</code><code class="sig-name descname">TimePeriod</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.interval.TimePeriod" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py method">
<dt id="dcrhino3.models.interval.TimePeriod.duration">
<code class="sig-name descname">duration</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.interval.TimePeriod.duration" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt id="dcrhino3.models.interval.generate_interval_list">
<code class="sig-prename descclassname">dcrhino3.models.interval.</code><code class="sig-name descname">generate_interval_list</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">startTime</span></em>, <em class="sig-param"><span class="n">endTime</span></em>, <em class="sig-param"><span class="n">delta</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.interval.generate_interval_list" title="Permalink to this definition">¶</a></dt>
<dd><p>generic function used for specifying timeintervals to load
probably place in gmi.core.interval</p>
<p>Ideally would support endtime, number of segments or other</p>
</dd></dl>

<dl class="py function">
<dt id="dcrhino3.models.interval.merge_interval_list">
<code class="sig-prename descclassname">dcrhino3.models.interval.</code><code class="sig-name descname">merge_interval_list</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">interval_list</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.interval.merge_interval_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Can think of a stack of unassembled parts.  Put the first part in your
left hand, then draw the next part in your right.  Check if the pieces
mate, if so, attach and keep in your left hand, draw the next piece,
and so on.  Once a piece does not fit, place the assembled piece in
the left hand down and transfer the new ‘no-fit’ piece from your
right to your left hand and contine …</p>
<p>KEY: This assumes the interval list is sorted.  If the intervals are not sorted
then you need to use set union.  This is way faster though.</p>
</dd></dl>

<span class="target" id="module-dcrhino3.models.metadata"></span><p>Created on Wed Jul 18 18:06:36 2018
Metadata Header definition for Rhino Unit File structure
Author: Natal</p>
<dl class="py class">
<dt id="dcrhino3.models.metadata.DataType">
<em class="property">class </em><code class="sig-prename descclassname">dcrhino3.models.metadata.</code><code class="sig-name descname">DataType</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.metadata.DataType" title="Permalink to this definition">¶</a></dt>
<dd><p>An enumeration.</p>
</dd></dl>

<dl class="py class">
<dt id="dcrhino3.models.metadata.Metadata">
<em class="property">class </em><code class="sig-prename descclassname">dcrhino3.models.metadata.</code><code class="sig-name descname">Metadata</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cfg</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.metadata.Metadata" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py method">
<dt id="dcrhino3.models.metadata.Metadata.field_base_path">
<code class="sig-name descname">field_base_path</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.metadata.Metadata.field_base_path" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Path to specific field data using a standardized directory structure</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.metadata.Metadata.filename">
<code class="sig-name descname">filename</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.metadata.Metadata.filename" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Unique filename based on date, time, and sensor id number</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.metadata.Metadata.format_dtype">
<code class="sig-name descname">format_dtype</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">row</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.metadata.Metadata.format_dtype" title="Permalink to this definition">¶</a></dt>
<dd><p>Standardized metadata format and variable type.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>row</strong> – list with attribute name,value</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>atrribute_name,value formatted</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.metadata.Metadata.get_sensitivities_dict">
<code class="sig-name descname">get_sensitivities_dict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cfg</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.metadata.Metadata.get_sensitivities_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Get sensitivities dictionary for axial, tangential, and radial components.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>cfg</strong> (<em>dataframe</em>) – to retrieve sensitivity data from</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>dictionary with keys component_id (str) and values for respective</dt><dd><p>sensitivities. All component sensitivities are the same unless sensor_type = 2</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(dict)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.metadata.Metadata.level_0_path">
<code class="sig-name descname">level_0_path</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.metadata.Metadata.level_0_path" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Path from <a class="reference internal" href="#dcrhino3.models.metadata.Metadata.field_base_path" title="dcrhino3.models.metadata.Metadata.field_base_path"><code class="xref py py-func docutils literal notranslate"><span class="pre">field_base_path()</span></code></a> joined by level_0</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.metadata.Metadata.level_1_path">
<code class="sig-name descname">level_1_path</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.metadata.Metadata.level_1_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Distinguishes between piezo and mems sensors in path.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Path from <a class="reference internal" href="#dcrhino3.models.metadata.Metadata.field_base_path" title="dcrhino3.models.metadata.Metadata.field_base_path"><code class="xref py py-func docutils literal notranslate"><span class="pre">field_base_path()</span></code></a> joined by level_1 and sensor type</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.metadata.Metadata.load">
<code class="sig-name descname">load</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.metadata.Metadata.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads csv metafile. Formats using <a class="reference internal" href="#dcrhino3.models.metadata.Metadata.format_dtype" title="dcrhino3.models.metadata.Metadata.format_dtype"><code class="xref py py-func docutils literal notranslate"><span class="pre">format_dtype()</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> (<em>str</em>) – path to csv metafile</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.metadata.Metadata.metadata_to_dictionary">
<code class="sig-name descname">metadata_to_dictionary</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.metadata.Metadata.metadata_to_dictionary" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates dictionary of metadata.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p>Metadata with the following keys:</p>
<blockquote>
<div><ul class="simple">
<li><p>drill_id</p></li>
<li><p>digitizer_id</p></li>
<li><p>orientation</p></li>
<li><p>sampling_rate</p></li>
<li><p>sensor_distance_to_source_in_meters</p></li>
<li><p>sensor_distance_to_shocksub</p></li>
<li><p>accelerometer_type</p></li>
<li><p>sensor_type</p></li>
</ul>
</div></blockquote>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>(dict)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.metadata.Metadata.save">
<code class="sig-name descname">save</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.metadata.Metadata.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves metadata to a file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> (<em>str</em>) – file to be saved</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<span class="target" id="module-dcrhino3.models.trace_dataframe"></span><p>Author: natal</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>20190123: we have not discussed exactly how we will handle the global_config
storage.  We know that for a particular trace only one global config can be active
and since a trace comes from a file, we are planning to reference the global_config
of a file to the trace.  A modest complication we have discussed is when a file
has more than one config.  I cannot recall how that is possible but it seems that
it is believed to be possible (&#64;TODO: discuss this case … can we eliminate it?
is it becuase we may swap out a sensor without rebooting rhino?? … or is this
because different processing types maybe used for different traces?  Or because a
single hole could have a reboot where some cfg changes, i.e. sampling rate – but wouldn’t that
result in a new file uid??)
In any case, the dataset we get back will be a dataframe indexed by timestamp.
For each timestamp there are traces but also a column called ‘acorr_file_id’, this
is an integer which is basically a uid for the parent file and can be used to call
the relevant config … it is equal to 14 in our prelimniary test)</p>
<p>So the global configs should be a dictionary, keyed by ‘acorr_file_id’,</p>
</div>
<dl class="py class">
<dt id="dcrhino3.models.trace_dataframe.ModuleType">
<em class="property">class </em><code class="sig-prename descclassname">dcrhino3.models.trace_dataframe.</code><code class="sig-name descname">ModuleType</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.trace_dataframe.ModuleType" title="Permalink to this definition">¶</a></dt>
<dd><p>Assign integers to different module types.</p>
<blockquote>
<div><ul class="simple">
<li><p>RAW = 1</p></li>
<li><p>INTERPOLATION = 2</p></li>
<li><p>AUTOCORRELATION = 3</p></li>
<li><p>MWD_MERGE = 4</p></li>
<li><p>LEAD_DECON = 5</p></li>
<li><p>LAG_DECON = 6</p></li>
<li><p>BAND_PASS_FILTER = 7</p></li>
<li><p>PHASE_ROTATION = 8</p></li>
<li><p>TRIM = 9</p></li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="py class">
<dt id="dcrhino3.models.trace_dataframe.TraceData">
<em class="property">class </em><code class="sig-prename descclassname">dcrhino3.models.trace_dataframe.</code><code class="sig-name descname">TraceData</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.trace_dataframe.TraceData" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py method">
<dt id="dcrhino3.models.trace_dataframe.TraceData.add_global_config">
<code class="sig-name descname">add_global_config</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">global_config</span></em>, <em class="sig-param"><span class="n">file_id</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.trace_dataframe.TraceData.add_global_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Add gloabl configs</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>global_config</strong> (<em>dict</em>) – global_config dictionary to add</p></li>
<li><p><strong>file_id</strong> (<em>str</em>) – where to add the dictionary</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>file_id of edited file</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(str)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.trace_dataframe.TraceData.apply_module">
<code class="sig-name descname">apply_module</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">module_type</span></em>, <em class="sig-param"><span class="n">arguments</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.trace_dataframe.TraceData.apply_module" title="Permalink to this definition">¶</a></dt>
<dd><p>add the module to list of applied modules
Return the number of applied modules including latest.</p>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.trace_dataframe.TraceData.component_as_array">
<code class="sig-name descname">component_as_array</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">component_id</span></em>, <em class="sig-param"><span class="n">normalize</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.trace_dataframe.TraceData.component_as_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the data form component as a 2d numpy array with trace index
running along rows (zero-index).  Useful for slicing data and linalg.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>component_id</strong> (<em>str</em>) – axial/tangential/radial</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>extracted trace, selected by component_id</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(array)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.trace_dataframe.TraceData.copy_without_trace_data">
<code class="sig-name descname">copy_without_trace_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.trace_dataframe.TraceData.copy_without_trace_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy dataframe (not deep copying!) and return dataframe without trace data.</p>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.trace_dataframe.TraceData.global_config_by_index">
<code class="sig-name descname">global_config_by_index</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">index</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.trace_dataframe.TraceData.global_config_by_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Get global configs by index</p>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.trace_dataframe.TraceData.load_from_db">
<code class="sig-name descname">load_from_db</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">db_helper</span></em>, <em class="sig-param"><span class="n">files_ids</span></em>, <em class="sig-param"><span class="n">min_ts</span></em>, <em class="sig-param"><span class="n">max_ts</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.trace_dataframe.TraceData.load_from_db" title="Permalink to this definition">¶</a></dt>
<dd><p>Load data (selected with file ids and timestamps) from the database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>db_helper</strong> (<em>module</em>) – <code class="xref py py-class docutils literal notranslate"><span class="pre">rhino_db_helper.RhinoDBHelper</span></code></p></li>
<li><p><strong>files_ids</strong> (<em>list</em>) – list of integers</p></li>
<li><p><strong>min_ts</strong> (<em>integer</em><em> (or </em><em>float?</em><em>)</em>) – start timestamps of data set to get from db</p></li>
<li><p><strong>max_ts</strong> (<em>integer</em><em> (or </em><em>float?</em><em>)</em>) – end timestamps of data set to get from db</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>the intended use case for this function is to get data from a
‘observed-blasthole’.  Normally len(files_ids) will equal 1, but we need to
consider the case where the hole is in more than one file …</p>
</div>
<div class="admonition-todo admonition" id="id23">
<p class="admonition-title">Todo</p>
<p>push thhe handling of the files_ids, and timestamps back a layer so the
user doesn’t use this method outside of exceptional circumstances …
i.e. it will be more common to request a blasthole, together with a sensor_id</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.trace_dataframe.TraceData.load_from_h5">
<code class="sig-name descname">load_from_h5</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pathOrH5Py</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.trace_dataframe.TraceData.load_from_h5" title="Permalink to this definition">¶</a></dt>
<dd><p>Inverse of save_to_h5; Handle traces, then other columns, then json cfg</p>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.trace_dataframe.TraceData.realtime_append_to_h5">
<code class="sig-name descname">realtime_append_to_h5</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em>, <em class="sig-param"><span class="n">file_id</span><span class="o">=</span><span class="default_value">'0'</span></em>, <em class="sig-param"><span class="n">global_config</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.trace_dataframe.TraceData.realtime_append_to_h5" title="Permalink to this definition">¶</a></dt>
<dd><p>Add to h5 file found at path</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> – </p>
</dd>
<dt class="field-even">Other Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>file_id = ‘0’</strong></p></li>
<li><p><strong>global_config = None</strong></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.trace_dataframe.TraceData.save_to_csv">
<code class="sig-name descname">save_to_csv</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.trace_dataframe.TraceData.save_to_csv" title="Permalink to this definition">¶</a></dt>
<dd><p>Save dataframe (without trace data) to csv at location specified by “path”</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> (<em>str</em>) – where to save csv</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.trace_dataframe.TraceData.save_to_h5">
<code class="sig-name descname">save_to_h5</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em>, <em class="sig-param"><span class="n">compress</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.trace_dataframe.TraceData.save_to_h5" title="Permalink to this definition">¶</a></dt>
<dd><p>Save dataframe (without trace data) to h5 at location specified by “path”</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> (<em>str</em>) – where to save h5</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>when porting to python3 replace iteritems with items see Keith’s answer in
<a class="reference external" href="https://stackoverflow.com/questions/10458437/what-is-the-difference-between-dict-items-and-dict-iteritems">https://stackoverflow.com/questions/10458437/what-is-the-difference-between-dict-items-and-dict-iteritems</a></p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>this requires dtypes to be float, will need to use a mapping of
dtypes for df columns … where will we get this? &#64;Thiago: will this
be maintained in database models?</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>20190122: This needs to handle three forms of ‘saving’:</p>
<ol class="arabic simple">
<li><p>Save the traces (as float32, today they will store as float, will check 32 or 64 later)</p></li>
<li><p>Save any columns from the mwd</p></li>
<li><p>Save the global_config (as json dumps?)</p></li>
</ol>
</div>
<div class="admonition-todo admonition" id="id24">
<p class="admonition-title">Todo</p>
<p>clean up iteration over trace labels to use only the
components specified in global_config</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.trace_dataframe.TraceData.trim_trace_time_axis">
<code class="sig-name descname">trim_trace_time_axis</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">min_time</span></em>, <em class="sig-param"><span class="n">max_time</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.trace_dataframe.TraceData.trim_trace_time_axis" title="Permalink to this definition">¶</a></dt>
<dd><p>data: 2D array from self.component_as_array.  Rows are traces,
columns are trace time axis</p>
</dd></dl>

</dd></dl>

<span class="target" id="module-dcrhino3.models.traces.raw_trace"></span><dl class="py class">
<dt id="dcrhino3.models.traces.raw_trace.RawTraceData">
<em class="property">class </em><code class="sig-prename descclassname">dcrhino3.models.traces.raw_trace.</code><code class="sig-name descname">RawTraceData</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.traces.raw_trace.RawTraceData" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py method">
<dt id="dcrhino3.models.traces.raw_trace.RawTraceData.autocorrelate_l1h5">
<code class="sig-name descname">autocorrelate_l1h5</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">global_config</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.traces.raw_trace.RawTraceData.autocorrelate_l1h5" title="Permalink to this definition">¶</a></dt>
<dd><p>&#64;note 20190114: since we are not going all the way to final lag, we could
speed this up slightly by only calculating lads we want … but for now is OK</p>
<p>Key is to choose the number of points we will keep
auto_correlation_duration, the ‘clipping’ or ‘trimming’ of the acorr
vector will take place in the autocorrelate_trace method</p>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.traces.raw_trace.RawTraceData.load_from_h5">
<code class="sig-name descname">load_from_h5</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.traces.raw_trace.RawTraceData.load_from_h5" title="Permalink to this definition">¶</a></dt>
<dd><p>Inverse of save_to_h5; Handle traces, then other columns, then json cfg</p>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.models.traces.raw_trace.RawTraceData.resample_l1h5">
<code class="sig-name descname">resample_l1h5</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">global_config</span></em>, <em class="sig-param"><span class="n">kind</span><span class="o">=</span><span class="default_value">'quadratic'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.models.traces.raw_trace.RawTraceData.resample_l1h5" title="Permalink to this definition">¶</a></dt>
<dd><p>&#64;TODO: need to get the upsample factor from</p>
</dd></dl>

</dd></dl>

<span class="target" id="module-dcrhino3.models.traces.splitted_trace"></span><span class="target" id="module-dcrhino3.plotters.qc_plotter"></span><span class="target" id="module-dcrhino3.plotters.rhino_display_v3.plot_helper"></span><dl class="py function">
<dt id="dcrhino3.plotters.rhino_display_v3.plot_helper.axis_lims_method_1">
<code class="sig-prename descclassname">dcrhino3.plotters.rhino_display_v3.plot_helper.</code><code class="sig-name descname">axis_lims_method_1</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">lim_type</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.plotters.rhino_display_v3.plot_helper.axis_lims_method_1" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns limits on data according to the type of limit you select:</p>
<blockquote>
<div><ul class="simple">
<li><p>‘simple’ plot all data</p></li>
<li><p>‘buffer’ plot all data and allow a 5% buffer</p></li>
<li><p>‘main’ plot the meat of the data (2-98 percentile) and allow 5% buffer for that</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>array</em>) – data to be bounded</p></li>
<li><p><strong>lim_type</strong> (<em>str</em>) – define how you want the axis to accomodate data</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>array of size (2,1) that border the data in the manner chosen</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="dcrhino3.plotters.rhino_display_v3.plot_helper.get_xlims">
<code class="sig-prename descclassname">dcrhino3.plotters.rhino_display_v3.plot_helper.</code><code class="sig-name descname">get_xlims</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">X</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.plotters.rhino_display_v3.plot_helper.get_xlims" title="Permalink to this definition">¶</a></dt>
<dd><p>20190906: had some debugging issues with NaNs in the x-axis.  This should not happen, and
it is fixed now, but in future using this method for getting X[0] and X[-1] will catch those NaN
:param X: numpy array indepentent variable, usually depth, but could be time.
:return:</p>
</dd></dl>

<span class="target" id="module-dcrhino3.signal_processing.array_util"></span><p>Created on Tue Sep 10 12:06:15 2019</p>
<p>&#64;author: kkappler</p>
<dl class="py function">
<dt id="dcrhino3.signal_processing.array_util.main">
<code class="sig-prename descclassname">dcrhino3.signal_processing.array_util.</code><code class="sig-name descname">main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.signal_processing.array_util.main" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="dcrhino3.signal_processing.array_util.normalize_by_row_maxima">
<code class="sig-prename descclassname">dcrhino3.signal_processing.array_util.</code><code class="sig-name descname">normalize_by_row_maxima</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.signal_processing.array_util.normalize_by_row_maxima" title="Permalink to this definition">¶</a></dt>
<dd><p>data: 2D numpy array
returns: the same 2D array with each row divided by its max value
so the max value of each row should be 1.0
method is robust to NaN
..: warning: note absolute value is not taken before call to max()
SO we are actually normalizing by the maxima (one might think we are
normalizing by max(abs()))</p>
</dd></dl>

<span class="target" id="module-dcrhino3.signal_processing.filters"></span><dl class="py class">
<dt id="dcrhino3.signal_processing.filters.FIRLSFilter">
<em class="property">class </em><code class="sig-prename descclassname">dcrhino3.signal_processing.filters.</code><code class="sig-name descname">FIRLSFilter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">corners</span></em>, <em class="sig-param"><span class="n">duration</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.signal_processing.filters.FIRLSFilter" title="Permalink to this definition">¶</a></dt>
<dd><p>Basically you need the data_key to make the filter because you dont know
the sampling rate.</p>
<div class="admonition-todo admonition" id="id25">
<p class="admonition-title">Todo</p>
<p>This needs to be function of nyq</p>
</div>
<div class="admonition-todo admonition" id="id26">
<p class="admonition-title">Todo</p>
<p>length and desired_duration have to be self consistent… maybe
add a unit test or check for this consistency</p>
</div>
<dl class="py method">
<dt id="dcrhino3.signal_processing.filters.FIRLSFilter.corner_string">
<em class="property">property </em><code class="sig-name descname">corner_string</code><a class="headerlink" href="#dcrhino3.signal_processing.filters.FIRLSFilter.corner_string" title="Permalink to this definition">¶</a></dt>
<dd><p>If <code class="code docutils literal notranslate"><span class="pre">corners</span></code> is empty, creates an empty variable to be filled. If
full, adapts the pre-existing format and joins an empty sequence to be filled.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>{} if corners is none, strings with corner values if corners is not none.
See parameter <code class="docutils literal notranslate"><span class="pre">corners</span></code> in <a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.signal.firls.html">scipy.signal.firls function.</a></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>(list)</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Corners: A monotonic nondecreasing sequence containing the
band edges in Hz. All elements must be non-negative and less than or
equal to the Nyquist frequency given by nyq.</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.signal_processing.filters.FIRLSFilter.id_string">
<code class="sig-name descname">id_string</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.signal_processing.filters.FIRLSFilter.id_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Create list of strings with flavor, corners, and time duration, and
lfilter if apply_how selects it.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p>list of strings with:</p>
<blockquote>
<div><ul class="simple">
<li><p>flavor</p></li>
<li><p>corner_string</p></li>
<li><p>duration in ms</p></li>
<li><p>_lfilter (optional)</p></li>
</ul>
</div></blockquote>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>(list)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.signal_processing.filters.FIRLSFilter.make">
<code class="sig-name descname">make</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sampling_rate</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.signal_processing.filters.FIRLSFilter.make" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates nyquist frequency, creates corner_tuple, calls <a class="reference internal" href="#dcrhino3.signal_processing.filters.FIRLSFilter.n_taps" title="dcrhino3.signal_processing.filters.FIRLSFilter.n_taps"><code class="xref py py-func docutils literal notranslate"><span class="pre">n_taps()</span></code></a>,
and loads desired_response_amplitude. Calculates the values of the filter
coefficients using <a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.signal.firls.html">scipy.signal.firls function.</a>
Returns these coefficients (type: float32)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>sampling_rate</strong> (<em>float</em>) – the sampling rate (meas/sec)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>filter coefficients of type float32</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(list)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.signal_processing.filters.FIRLSFilter.n_taps">
<em class="property">property </em><code class="sig-name descname">n_taps</code><a class="headerlink" href="#dcrhino3.signal_processing.filters.FIRLSFilter.n_taps" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds the filter order (number of filter coefficients, or n_taps)
from thge nyquist frequency.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>filter order</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>(int)</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="dcrhino3.signal_processing.filters.butter_bandpass">
<code class="sig-prename descclassname">dcrhino3.signal_processing.filters.</code><code class="sig-name descname">butter_bandpass</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">low_cut</span></em>, <em class="sig-param"><span class="n">high_cut</span></em>, <em class="sig-param"><span class="n">sampling_rate</span></em>, <em class="sig-param"><span class="n">order</span><span class="o">=</span><span class="default_value">5</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.signal_processing.filters.butter_bandpass" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://scipy.github.io/old-wiki/pages/Cookbook/ButterworthBandpass">https://scipy.github.io/old-wiki/pages/Cookbook/ButterworthBandpass</a></p>
</dd></dl>

<dl class="py function">
<dt id="dcrhino3.signal_processing.filters.butter_highpass">
<code class="sig-prename descclassname">dcrhino3.signal_processing.filters.</code><code class="sig-name descname">butter_highpass</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">f_cut</span></em>, <em class="sig-param"><span class="n">fs</span></em>, <em class="sig-param"><span class="n">order</span><span class="o">=</span><span class="default_value">5</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.signal_processing.filters.butter_highpass" title="Permalink to this definition">¶</a></dt>
<dd><p>This is based on butter_bandpass</p>
</dd></dl>

<dl class="py function">
<dt id="dcrhino3.signal_processing.filters.butter_lowpass">
<code class="sig-prename descclassname">dcrhino3.signal_processing.filters.</code><code class="sig-name descname">butter_lowpass</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cutoff</span></em>, <em class="sig-param"><span class="n">fs</span></em>, <em class="sig-param"><span class="n">order</span><span class="o">=</span><span class="default_value">5</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.signal_processing.filters.butter_lowpass" title="Permalink to this definition">¶</a></dt>
<dd><p>This is based on butter_bandpass</p>
</dd></dl>

<span class="target" id="module-dcrhino3.signal_processing.interpolation"></span><dl class="py function">
<dt id="dcrhino3.signal_processing.interpolation.sinc_interp">
<code class="sig-prename descclassname">dcrhino3.signal_processing.interpolation.</code><code class="sig-name descname">sinc_interp</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">s</span></em>, <em class="sig-param"><span class="n">u</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.signal_processing.interpolation.sinc_interp" title="Permalink to this definition">¶</a></dt>
<dd><p>Interpolates x (sinc interpolation) sampled at “s” instants. Output “y” is
sampled at “u” instants (“u” for “upsampled”). Vectorized with
<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.tile.html">Numpy tile</a></p>
<dl class="simple">
<dt>From Github:</dt><dd><p><a class="reference external" href="https://gist.github.com/endolith/1297227">https://gist.github.com/endolith/1297227</a></p>
</dd>
<dt>From Matlab:</dt><dd><p><a class="reference external" href="http://phaseportrait.blogspot.com/2008/06/sinc-interpolation-in-matlab.html">http://phaseportrait.blogspot.com/2008/06/sinc-interpolation-in-matlab.html</a></p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> – data vector to be interpolated (input)</p></li>
<li><p><strong>s</strong> – time vector of data to be interpolated (input)</p></li>
<li><p><strong>u</strong> – time vector of data to be output (where do you want y values?)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>interpolated data vector</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>20180627: this code taken from <a class="reference external" href="https://gist.github.com/endolith/1297227">https://gist.github.com/endolith/1297227</a> KNK</p>
</div>
</dd></dl>

<span class="target" id="module-dcrhino3.signal_processing.phase_rotation"></span><p>Created on Wed Nov 14 12:21:45 2018</p>
<p>Author: kkappler</p>
<dl class="py function">
<dt id="dcrhino3.signal_processing.phase_rotation.determine_phase_state">
<code class="sig-prename descclassname">dcrhino3.signal_processing.phase_rotation.</code><code class="sig-name descname">determine_phase_state</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">trough_search_width</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.signal_processing.phase_rotation.determine_phase_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine the phase state by searching for troughs to the left and right of the
peak. Indeterminate means no troughs or too small search width, balanced means
equal number of troughs on both sides, left_low/right_low means trough
count imbalance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>array</em>) – numpy array (currently 1D, need to test as 2D might need
to transpose)</p></li>
<li><p><strong>trough-search-width</strong> (<em>float</em>) – this is how far to the left and right of
the peak we will
look for a minumum.  It must be large enough for the minimum to be contained,
but not so large that we may find another minumum show up</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>Phase state status as one of the following:</p>
<blockquote>
<div><ul class="simple">
<li><p>’indeterminate’</p></li>
<li><p>’balanced’</p></li>
<li><p>’left_low’</p></li>
<li><p>’right_low’</p></li>
<li><p>’surprise - already balanced’</p></li>
</ul>
</div></blockquote>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(str)</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>20190211: I do not understand the condition  max_index&lt;trough_search_width
which leads to balanced .. it works most of the time but for left low traces with
fewer observations to th left than the right it is returning balanced prematurely
– I’m going to comment it out and see what happens</p>
</div>
</dd></dl>

<dl class="py function">
<dt id="dcrhino3.signal_processing.phase_rotation.main">
<code class="sig-prename descclassname">dcrhino3.signal_processing.phase_rotation.</code><code class="sig-name descname">main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.signal_processing.phase_rotation.main" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="dcrhino3.signal_processing.phase_rotation.rotate_phase">
<code class="sig-prename descclassname">dcrhino3.signal_processing.phase_rotation.</code><code class="sig-name descname">rotate_phase</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">phase_shift</span></em>, <em class="sig-param"><span class="n">degrees</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.signal_processing.phase_rotation.rotate_phase" title="Permalink to this definition">¶</a></dt>
<dd><p>Phase rotation by fast fourier transform, multiplication by phasor, inverse fft
and taking reals. Rotates data by negative phi</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>array</em>) – numpy array (currently 1D, need to test as 2D might need
to transpose)</p></li>
<li><p><strong>shift</strong> (<em>phase</em>) – float: #of degrees to shift signal phase</p></li>
</ul>
</dd>
<dt class="field-even">Other Parameters</dt>
<dd class="field-even"><p><strong>degrees</strong> (<em>bool</em>) – True for degrees, false for radians</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Phase shifted data</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>(real Numpy ndarray)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="dcrhino3.signal_processing.phase_rotation.test_phase_rotation">
<code class="sig-prename descclassname">dcrhino3.signal_processing.phase_rotation.</code><code class="sig-name descname">test_phase_rotation</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.signal_processing.phase_rotation.test_phase_rotation" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads pet_trace, plots original, shift by phi, and shift by 2phi to test
the functionality of <a class="reference internal" href="#dcrhino3.signal_processing.phase_rotation.rotate_phase" title="dcrhino3.signal_processing.phase_rotation.rotate_phase"><code class="xref py py-func docutils literal notranslate"><span class="pre">rotate_phase()</span></code></a></p>
</dd></dl>

<span class="target" id="module-dcrhino3.signal_processing.spectral_methods"></span><p>Created on Mon Sep  9 15:57:30 2019</p>
<p>&#64;author: kkappler</p>
<dl class="py function">
<dt id="dcrhino3.signal_processing.spectral_methods.fft_data">
<code class="sig-prename descclassname">dcrhino3.signal_processing.spectral_methods.</code><code class="sig-name descname">fft_data</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data_array</span></em>, <em class="sig-param"><span class="n">sampling_rate</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.signal_processing.spectral_methods.fft_data" title="Permalink to this definition">¶</a></dt>
<dd><p>this function moved from general_helper_functions</p>
</dd></dl>

<dl class="py function">
<dt id="dcrhino3.signal_processing.spectral_methods.main">
<code class="sig-prename descclassname">dcrhino3.signal_processing.spectral_methods.</code><code class="sig-name descname">main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.signal_processing.spectral_methods.main" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="dcrhino3.signal_processing.spectral_methods.my_function">
<code class="sig-prename descclassname">dcrhino3.signal_processing.spectral_methods.</code><code class="sig-name descname">my_function</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.signal_processing.spectral_methods.my_function" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<span class="target" id="module-dcrhino3.signal_processing.symmetric_trace"></span><p>Created on Mon Feb  4 21:28:04 2019</p>
<p>Author: kkappler</p>
<dl class="py class">
<dt id="dcrhino3.signal_processing.symmetric_trace.SymmetricTrace">
<em class="property">class </em><code class="sig-prename descclassname">dcrhino3.signal_processing.symmetric_trace.</code><code class="sig-name descname">SymmetricTrace</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">sampling_rate</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.signal_processing.symmetric_trace.SymmetricTrace" title="Permalink to this definition">¶</a></dt>
<dd><p>SymmetricTrace could then extend TimeSeries. to do this I would need:
- the t0 method to be overwritten</p>
<dl class="py method">
<dt id="dcrhino3.signal_processing.symmetric_trace.SymmetricTrace.calculate_time_vector">
<code class="sig-name descname">calculate_time_vector</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.signal_processing.symmetric_trace.SymmetricTrace.calculate_time_vector" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the equal step, ideal time vector using “dt” and “num_observations”
and shifting x-axis using t0_index.</p>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.signal_processing.symmetric_trace.SymmetricTrace.plot">
<code class="sig-name descname">plot</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ticks</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">block</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.signal_processing.symmetric_trace.SymmetricTrace.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot time_vector vs. data, title, label, and show.</p>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.signal_processing.symmetric_trace.SymmetricTrace.rotate_recenter_and_trim">
<code class="sig-name descname">rotate_recenter_and_trim</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">phi</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.signal_processing.symmetric_trace.SymmetricTrace.rotate_recenter_and_trim" title="Permalink to this definition">¶</a></dt>
<dd><p>Use <code class="xref py py-func docutils literal notranslate"><span class="pre">phase_rotation.rotate_phase()</span></code> to rotate data by phi degrees. Find
new center index of rotated data, and shift the trimmings to new center
index using <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.roll.html">Numpy roll.</a>
Revise data to reflect these changes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>phi</strong> (<em>float</em>) – angle, in degrees, to shift data</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>20140214: Initially this method trimmed the trace.  BUT that could result in
different length traces within a blasthole.  Theoretically this is not a
problem,but practically it will cause problems if we wanted to use the
component_as_array() method of TraceDataframe().  So to work around this
I can either use np.roll or zeropad the trace.</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.signal_processing.symmetric_trace.SymmetricTrace.trim_to_indices">
<code class="sig-name descname">trim_to_indices</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">indices</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.signal_processing.symmetric_trace.SymmetricTrace.trim_to_indices" title="Permalink to this definition">¶</a></dt>
<dd><p>Trim to specified indices, not necessarily equidistant around center_index
like <a class="reference internal" href="#dcrhino3.signal_processing.symmetric_trace.SymmetricTrace.trim_to_num_points_lr" title="dcrhino3.signal_processing.symmetric_trace.SymmetricTrace.trim_to_num_points_lr"><code class="xref py py-func docutils literal notranslate"><span class="pre">trim_to_num_points_lr()</span></code></a></p>
</dd></dl>

<dl class="py method">
<dt id="dcrhino3.signal_processing.symmetric_trace.SymmetricTrace.trim_to_num_points_lr">
<code class="sig-name descname">trim_to_num_points_lr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n_points</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.signal_processing.symmetric_trace.SymmetricTrace.trim_to_num_points_lr" title="Permalink to this definition">¶</a></dt>
<dd><p>Trim to index with width = 2 * n_points + 1, centered around
center_index.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="dcrhino3.signal_processing.symmetric_trace.main">
<code class="sig-prename descclassname">dcrhino3.signal_processing.symmetric_trace.</code><code class="sig-name descname">main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.signal_processing.symmetric_trace.main" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="dcrhino3.signal_processing.symmetric_trace.my_function">
<code class="sig-prename descclassname">dcrhino3.signal_processing.symmetric_trace.</code><code class="sig-name descname">my_function</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.signal_processing.symmetric_trace.my_function" title="Permalink to this definition">¶</a></dt>
<dd><p>Tester function for <a class="reference internal" href="#dcrhino3.signal_processing.symmetric_trace.SymmetricTrace" title="dcrhino3.signal_processing.symmetric_trace.SymmetricTrace"><code class="xref py py-func docutils literal notranslate"><span class="pre">SymmetricTrace()</span></code></a></p>
</dd></dl>

<span class="target" id="module-dcrhino3.signal_processing.time_picker"></span><p>Created on Mon Apr  8 13:44:28 2019</p>
<p>&#64;author: kkappler
.. todo:: add booleans to handle exceptions when zx are not expected, for example DNE, or too many,</p>
<dl class="py class">
<dt id="dcrhino3.signal_processing.time_picker.TimePicker">
<em class="property">class </em><code class="sig-prename descclassname">dcrhino3.signal_processing.time_picker.</code><code class="sig-name descname">TimePicker</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">sampling_rate</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.signal_processing.time_picker.TimePicker" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py method">
<dt id="dcrhino3.signal_processing.time_picker.TimePicker.extract_time_pick">
<code class="sig-name descname">extract_time_pick</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">window_lower_bound</span></em>, <em class="sig-param"><span class="n">window_upper_bound</span></em>, <em class="sig-param"><span class="n">pick_type</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.signal_processing.time_picker.TimePicker.extract_time_pick" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>window_lower_bound</strong> – </p></li>
<li><p><strong>window_upper_bound</strong> – </p></li>
<li><p><strong>pick_type</strong> – </p></li>
<li><p><strong>kwargs</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="dcrhino3.signal_processing.time_picker.main">
<code class="sig-prename descclassname">dcrhino3.signal_processing.time_picker.</code><code class="sig-name descname">main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.signal_processing.time_picker.main" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="dcrhino3.signal_processing.time_picker.my_function">
<code class="sig-prename descclassname">dcrhino3.signal_processing.time_picker.</code><code class="sig-name descname">my_function</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.signal_processing.time_picker.my_function" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<span class="target" id="module-dcrhino3.signal_processing.zero_crossing_tools"></span><p>Created on Tue Apr 16 12:06:31 2019</p>
<p>&#64;author: kkappler</p>
<dl class="py function">
<dt id="dcrhino3.signal_processing.zero_crossing_tools.get_zx_result_time">
<code class="sig-prename descclassname">dcrhino3.signal_processing.zero_crossing_tools.</code><code class="sig-name descname">get_zx_result_time</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">zero_cross_times</span></em>, <em class="sig-param"><span class="n">window_time</span></em>, <em class="sig-param"><span class="n">window_data</span></em>, <em class="sig-param"><span class="n">pick_type</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.signal_processing.zero_crossing_tools.get_zx_result_time" title="Permalink to this definition">¶</a></dt>
<dd><p>logical and exception handling, this isn’t really doing any calcuations, it’s checking the validity of the
calculations and the appropriateness of the methods applied to the data</p>
<div class="admonition-todo admonition" id="id28">
<p class="admonition-title">Todo</p>
<p>make this support boolean column in dataframe</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>zero_cross_times</strong> – </p></li>
<li><p><strong>window_time</strong> – </p></li>
<li><p><strong>window_data</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="dcrhino3.signal_processing.zero_crossing_tools.get_zx_type">
<code class="sig-prename descclassname">dcrhino3.signal_processing.zero_crossing_tools.</code><code class="sig-name descname">get_zx_type</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">poly</span></em>, <em class="sig-param"><span class="n">dt</span></em>, <em class="sig-param"><span class="n">t_zx</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.signal_processing.zero_crossing_tools.get_zx_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="dcrhino3.signal_processing.zero_crossing_tools.main">
<code class="sig-prename descclassname">dcrhino3.signal_processing.zero_crossing_tools.</code><code class="sig-name descname">main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.signal_processing.zero_crossing_tools.main" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="dcrhino3.signal_processing.zero_crossing_tools.zero_crossing_handler_v01">
<code class="sig-prename descclassname">dcrhino3.signal_processing.zero_crossing_tools.</code><code class="sig-name descname">zero_crossing_handler_v01</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">time_vector</span></em>, <em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">polynomial_order</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcrhino3.signal_processing.zero_crossing_tools.zero_crossing_handler_v01" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds zero crossings using polyfit.  Then restricts to real-valued and within the
time interval specified by time_vector.  These are then further classified as
upgoing or downgoing zero crossings.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time_vector</strong> (<em>list</em>) – time series of data</p></li>
<li><p><strong>data</strong> (<em>list</em>) – data to be polyfitted</p></li>
<li><p><strong>polynomial_order</strong> (<em>int</em>) – order of polynoial to be fitted (default is None)</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Returns</dt><dd><p>array: the zero crossing times
list of strings: the zero crossing types</p>
</dd>
</dl>
<div class="admonition-todo admonition" id="id29">
<p class="admonition-title">Todo</p>
<p>Output is an array and a list, maybe better to make a df, or zip them, or make a list of tuples?</p>
</div>
</dd></dl>

<div class="toctree-wrapper compound">
</div>
<p>#Indices and tables
#==================
#
#* <a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a>
#* <a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a>
#* <a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="#">dcrhino_lib</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="#">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, DataCloud.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.1.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/index.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>