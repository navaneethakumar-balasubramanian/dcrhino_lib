{
  "id": "v3.2_processing_flow",
  "output_to_file":true,
    "modules": [
      {
        "type": "unfold",
        "output_to_file": false,
        "args": {}
      },

      {
        "type": "lead_channel_deconvolution",
        "output_to_file": false,
        "args": {
          "num_taps_in_decon_filter": "|global_config.num_taps_in_decon_filter|"
        }
      },
      {
        "type": "export_segy",
        "args": {}
      },
      {
        "type": "band_pass_filter",
        "output_to_file": false,
        "args": {
          "trapezoidal_bpf_corner_1": "|global_config.trapezoidal_bpf_corner_1|",
          "trapezoidal_bpf_corner_2": "|global_config.trapezoidal_bpf_corner_2|",
          "trapezoidal_bpf_corner_3": "|global_config.trapezoidal_bpf_corner_3|",
          "trapezoidal_bpf_corner_4": "|global_config.trapezoidal_bpf_corner_4|",
          "trapezoidal_bpf_duration": "|global_config.trapezoidal_bpf_duration|",
          "sampling_rate": "|global_config.sampling_rate|"
        }
      },
      {
        "type": "trim",
        "output_to_file": false,
        "args": {
          "max_lag_trimmed_trace": "|global_config.max_lag_trimmed_trace|",
          "min_lag_trimmed_trace": "|global_config.min_lag_trimmed_trace|",
          "sampling_rate": "|global_config.sampling_rate|",
          "manual_window_boundaries" : {
              "axial": {
                  "primary": [-0.002, 0.008],
                  "multiple_1": [0.008, 0.011],
                  "multiple_2": [0.017, 0.025],
                  "multiple_3": [0.033, 0.044]
              },
              "tangential": {
                "primary": [-0.002, 0.002],
                "multiple_1": [0.013, 0.017],
                "multiple_2": [0.030, 0.034],
                "multiple_3": [0.044, 0.055]
              }
          }
        }
      },
      {
        "type": "rhino_plotter",
        "output_to_file": true,
        "args":{
          "panels": [

            {
              "type": "heatmap",
              "component": "axial",
              "wavelet_windows_to_show": ["primary", "multiple_1", "multiple_2"]
            }
          ]
        }
      },
      {
        "type": "j0",
        "output_to_file": false,
        "args": {
          "output_sampling_rate": [
            "|global_config.output_sampling_rate|",
            100
          ],
          "primary_window_halfwidth_ms": "|global_config.primary_window_halfwidth_ms|",
          "multiple_window_search_width_ms": "|global_config.multiple_window_search_width_ms|",
          "sensor_distance_to_source": "|global_config.sensor_distance_to_source|",
          "ACOUSTIC_VELOCITY": "|global_config.ACOUSTIC_VELOCITY|",
          "n_samples_trimmed_trace": "|global_config.n_samples_trimmed_trace|",
          "min_lag_trimmed_trace": "|global_config.min_lag_trimmed_trace|"
        }
      },
      {
        "type": "j1",
        "output_to_file": false,
        "args": {
	     "acceptable_peak_wander": ["|global_config.acceptable_peak_wander|", 0.003],
         "dynamic_windows": ["|global_config.dynamic_windows|", true],
         "window_widths": "|global_config.window_widths|",

          "output_sampling_rate": "|global_config.output_sampling_rate",
          "sensor_distance_to_source": "|global_config.sensor_distance_to_source|",
          "sensor_distance_to_shocksub": "|global_config.sensor_distance_to_shocksub|",
          "sensor_saturation_g": "|global_config.sensor_saturation_g|",
          "ACOUSTIC_VELOCITY": "|global_config.ACOUSTIC_VELOCITY|",
          "SHEAR_VELOCITY": "|global_config.SHEAR_VELOCITY|",
          "n_samples_trimmed_trace": "|global_config.n_samples_trimmed_trace|",
          "min_lag_trimmed_trace": "|global_config.min_lag_trimmed_trace|"
        }
      },
    {
       "type": "k0",
       "output_to_file": false,
       "args": {
               "acceptable_peak_wander": ["|global_config.acceptable_peak_wander|", 0.003],
               "dynamic_windows": ["|global_config.dynamic_windows|", true],
               "output_sampling_rate":"|global_config.output_sampling_rate",
               "sensor_distance_to_source":"|global_config.sensor_distance_to_source|",
               "sensor_distance_to_shocksub":"|global_config.sensor_distance_to_shocksub|",
               "sensor_saturation_g":"|global_config.sensor_saturation_g|",
               "ACOUSTIC_VELOCITY":"|global_config.ACOUSTIC_VELOCITY|",
               "SHEAR_VELOCITY":"|global_config.SHEAR_VELOCITY|",
               "n_samples_trimmed_trace": "|global_config.n_samples_trimmed_trace|",
               "min_lag_trimmed_trace": "|global_config.min_lag_trimmed_trace|",
               "window_widths":"|global_config.window_widths",
               "apply_primary_rotation": true,
               "apply_secondary_rotations": true
               }
     },
      {
        "type": "rhino_plotter",
        "output_to_file": true,
        "args":{
          "panels": [
            {
              "type": "curves",
              "curves": [
                "K0_axial_primary_max_amplitude",
                "J0_axial_primary_max_amplitude",
                "J1_axial_primary_max_amplitude"
              ]
            },
            {
              "type": "heatmap",
              "component": "axial",
              "wavelet_windows_to_show": ["primary", "multiple_1", "multiple_2"]
            },
            {
              "type": "curves",
              "curves": [
                "K0_tangential_primary_max_amplitude",
                "J0_tangential_primary_max_amplitude",
                "J1_tangential_primary_max_amplitude"
              ]
            }
          ]
        }
      }

      {
        "type": "binning",
        "output_to_file": false,
        "args": {
          "interval_in_meters": 0.05
        }
      },
      {
        "type": "rhino_physics",
        "output_to_file": false,
        "args": {
          "recipe_to_use": "J1"
        }
      }
    ]
}
